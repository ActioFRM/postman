{
  "info": {
    "_postman_id": "350d0444-fb5c-4d71-b456-4b8d65a1cf0e",
    "name": "Rule002Tests",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Test Scenario 1",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "pm.globals.set(\"now\", new Date().toISOString());",
              "",
              "const now = new Date().getTime();",
              "",
              "const ruleConfig = [",
              "    {",
              "  \"id\": \"002@1.0.0\",",
              "  \"cfg\": \"1.0.0\",",
              "  \"config\": {",
              "    \"timeframes\": [",
              "      {",
              "        \"threshold\": 86400000",
              "      }",
              "    ],",
              "    \"bands\": [",
              "      {",
              "        \"subRuleRef\": \".01\",",
              "        \"lowerLimit\": 5,",
              "        \"outcome\": true,",
              "        \"reason\": \"Transaction convergence detected on debtor account\"",
              "      },",
              "      {",
              "        \"subRuleRef\": \".00\",",
              "        \"upperLimit\": 5,",
              "        \"outcome\": false,",
              "        \"reason\": \"No Transaction convergence detected on debtor account\"",
              "      }",
              "    ]",
              "  }",
              "}",
              "]",
              "",
              "const pacs008Transactions = [{",
              "    \"TxTp\": \"pacs.008.001.10\",",
              "    \"FIToFICstmrCdt\": {",
              "        \"GrpHdr\": {",
              "            \"MsgId\": \"96ae98292ec04bf29b5d40ba99864c38\",",
              "            \"CreDtTm\": \"2021-12-03T15:36:15.000Z\",",
              "            \"NbOfTxs\": 1,",
              "            \"SttlmInf\": {",
              "                \"SttlmMtd\": \"CLRG\"",
              "            }",
              "        },",
              "        \"CdtTrfTxInf\": {",
              "            \"PmtId\": {",
              "                \"InstrId\": \"5ab4fc7355de4ef8a75b78b00a681ed2\",",
              "                \"EndToEndId\": \"2c516801007642dfb892944dde1cf845\"",
              "            },",
              "            \"IntrBkSttlmAmt\": {",
              "                \"Amt\": {",
              "                    \"Amt\": 31020.89,",
              "                    \"Ccy\": \"USD\"",
              "                }",
              "            },",
              "            \"InstdAmt\": {",
              "                \"Amt\": {",
              "                    \"Amt\": 31020.89,",
              "                    \"Ccy\": \"USD\"",
              "                }",
              "            },",
              "            \"ChrgBr\": \"DEBT\",",
              "            \"ChrgsInf\": {",
              "                \"Amt\": {",
              "                    \"Amt\": 307.14,",
              "                    \"Ccy\": \"USD\"",
              "                },",
              "                \"Agt\": {",
              "                    \"FinInstnId\": {",
              "                        \"ClrSysMmbId\": {",
              "                            \"MmbId\": \"dfsp001\"",
              "                        }",
              "                    }",
              "                }",
              "            },",
              "            \"InitgPty\": {",
              "                \"Nm\": \"April Blake Grant\",",
              "                \"Id\": {",
              "                    \"PrvtId\": {",
              "                        \"DtAndPlcOfBirth\": {",
              "                            \"BirthDt\": \"1968-02-01\",",
              "                            \"CityOfBirth\": \"Unknown\",",
              "                            \"CtryOfBirth\": \"ZZ\"",
              "                        },",
              "                        \"Othr\": {",
              "                            \"Id\": \"+27730975224\",",
              "                            \"SchmeNm\": {",
              "                                \"Prtry\": \"MSISDN\"",
              "                            }",
              "                        }",
              "                    }",
              "                },",
              "                \"CtctDtls\": {",
              "                    \"MobNb\": \"+27-730975224\"",
              "                }",
              "            },",
              "            \"Dbtr\": {",
              "                \"Nm\": \"April Blake Grant\",",
              "                \"Id\": {",
              "                    \"PrvtId\": {",
              "                        \"DtAndPlcOfBirth\": {",
              "                            \"BirthDt\": \"1968-02-01\",",
              "                            \"CityOfBirth\": \"Unknown\",",
              "                            \"CtryOfBirth\": \"ZZ\"",
              "                        },",
              "                        \"Othr\": {",
              "                            \"Id\": \"+27730975224\",",
              "                            \"SchmeNm\": {",
              "                                \"Prtry\": \"MSISDN\"",
              "                            }",
              "                        }",
              "                    }",
              "                },",
              "                \"CtctDtls\": {",
              "                    \"MobNb\": \"+27-730975224\"",
              "                }",
              "            },",
              "            \"DbtrAcct\": {",
              "                \"Id\": {",
              "                    \"Othr\": {",
              "                        \"Id\": \"e2fa05b6a56ceedb37581703b98590b44194a8c0d2799f4319ebbece5e20ecc1\",",
              "                        \"SchmeNm\": {",
              "                            \"Prtry\": \"PSEUDO\"",
              "                        }",
              "                    }",
              "                },",
              "                \"Nm\": \"April Grant\"",
              "            },",
              "            \"DbtrAgt\": {",
              "                \"FinInstnId\": {",
              "                    \"ClrSysMmbId\": {",
              "                        \"MmbId\": \"dfsp001\"",
              "                    }",
              "                }",
              "            },",
              "            \"CdtrAgt\": {",
              "                \"FinInstnId\": {",
              "                    \"ClrSysMmbId\": {",
              "                        \"MmbId\": \"dfsp002\"",
              "                    }",
              "                }",
              "            },",
              "            \"Cdtr\": {",
              "                \"Nm\": \"Felicia Easton Quill\",",
              "                \"Id\": {",
              "                    \"PrvtId\": {",
              "                        \"DtAndPlcOfBirth\": {",
              "                            \"BirthDt\": \"1935-05-08\",",
              "                            \"CityOfBirth\": \"Unknown\",",
              "                            \"CtryOfBirth\": \"ZZ\"",
              "                        },",
              "                        \"Othr\": {",
              "                            \"Id\": \"+27707650428\",",
              "                            \"SchmeNm\": {",
              "                                \"Prtry\": \"MSISDN\"",
              "                            }",
              "                        }",
              "                    }",
              "                },",
              "                \"CtctDtls\": {",
              "                    \"MobNb\": \"+27-707650428\"",
              "                }",
              "            },",
              "            \"CdtrAcct\": {",
              "                \"Id\": {",
              "                    \"Othr\": {",
              "                        \"Id\": \"efdafefdee55c7a1e5eba4ccc0f01639dc37a020241b20495378f5a1343985b4\",",
              "                        \"SchmeNm\": {",
              "                            \"Prtry\": \"PSEUDO\"",
              "                        }",
              "                    }",
              "                },",
              "                \"Nm\": \"Felicia Quill\"",
              "            },",
              "            \"Purp\": {",
              "                \"Cd\": \"MP2P\"",
              "            }",
              "        },",
              "        \"RgltryRptg\": {",
              "            \"Dtls\": {",
              "                \"Tp\": \"BALANCE OF PAYMENTS\",",
              "                \"Cd\": \"100\"",
              "            }",
              "        },",
              "        \"RmtInf\": {",
              "            \"Ustrd\": \"Payment of USD 30713.75 from April to Felicia\"",
              "        },",
              "        \"SplmtryData\": {",
              "            \"Envlp\": {",
              "                \"Doc\": {",
              "                    \"Xprtn\": \"2021-11-30T10:38:56.000Z\"",
              "                }",
              "            }",
              "        }",
              "    }",
              "}]",
              "",
              "const transactionGraph = [{",
              "    _key: \"af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954e90\",",
              "    _from: \"accounts/e2fa05b6a56ceedb37581703b98590b44194a8c0d2799f4319ebbece5e20ecc1\",",
              "    _to: \"accounts/af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954e90\",",
              "    TxTp: \"pacs.002.001.12\",",
              "    TxSts: \"ACCC\",",
              "    CreDtTm: new Date(new Date(now - 120000).getTime()).toISOString(),",
              "    PmtInfId: \"2f68ae16-467a-4ac4-ba32-eb518646aa1d\",",
              "    EndToEndId: \"5cb8a2db-5c32-41bb-ac27-2597125d50fd\"",
              "}]",
              "",
              "pm.sendRequest({",
              "    url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',",
              "    method: 'POST',",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },",
              "    body: {",
              "        mode: 'raw',",
              "        raw: JSON.stringify({",
              "            query: `FOR transaction IN ${JSON.stringify(pacs008Transactions)}",
              "                    INSERT {_key: transaction.FIToFICstmrCdt.GrpHdr.MsgId, TxTp: transaction.TxTp, FIToFICstmrCdt: transaction.FIToFICstmrCdt} INTO transactionHistory",
              "                    OPTIONS { overwrite: true }`",
              "        })",
              "    }",
              "});",
              "",
              "pm.sendRequest({",
              "    url: 'http://arango.development:8529/_db/pseudonyms/_api/cursor',",
              "    method: 'POST',",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },",
              "    body: {",
              "        mode: 'raw',",
              "        raw: JSON.stringify({",
              "            query: `FOR transaction IN ${JSON.stringify(transactionGraph)}",
              "                    INSERT transaction INTO transactionRelationship",
              "                    OPTIONS { overwrite: true }`",
              "        })",
              "    }",
              "});",
              "",
              "pm.sendRequest({",
              "    url: 'http://arango.development:8529/_db/Configuration/_api/cursor',",
              "    method: 'POST',",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },",
              "    body: {",
              "        mode: 'raw',",
              "        raw: JSON.stringify({",
              "            query: `FOR config IN ${JSON.stringify(ruleConfig)}",
              "                    INSERT {_key: \"002\", id: config.id, cfg: config.cfg, config: config.config} INTO configuration",
              "                    OPTIONS { overwrite: true }`",
              "        })",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "test",
          "script": {
            "exec": [
              "const jsonData = pm.response.json();",
              "const req = JSON.parse(request.data);",
              "",
              "const transactions = [\"96ae98292ec04bf29b5d40ba99864c38\"]",
              "const graphTransactions = [\"af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954e90\"]",
              "",
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});",
              "",
              "pm.test(\"should have rule result of false\", function () {",
              "    pm.expect(jsonData.ruleResult.result).to.be.eql(false);",
              "});",
              "",
              "pm.test(\"Remove Seed Data from DB\", function () {",
              "    pm.sendRequest({",
              "        url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',",
              "        method: 'POST',",
              "        header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },",
              "        body: {",
              "            mode: 'raw',",
              "            raw: JSON.stringify({",
              "                query: `FOR transaction IN ${JSON.stringify(transactions)}",
              "                        REMOVE { _key: transaction } IN transactionHistory",
              "                        OPTIONS { ignoreErrors: true }`",
              "            })",
              "        }",
              "    })",
              "});",
              "",
              "pm.test(\"Remove Seed Data from transactionGraph\", function () {",
              "    pm.sendRequest({",
              "        url: 'http://arango.development:8529/_db/pseudonyms/_api/cursor',",
              "        method: 'POST',",
              "        header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },",
              "        body: {",
              "            mode: 'raw',",
              "            raw: JSON.stringify({",
              "                query: `FOR transaction IN ${JSON.stringify(graphTransactions)}",
              "                        REMOVE { _key: transaction } IN transactionRelationship",
              "                        OPTIONS { ignoreErrors: true }`",
              "            })",
              "        }",
              "    })",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\n\"transaction\": {\n    \"TxTp\": \"pacs.002.001.12\",\n    \"FIToFIPmtSts\": {\n        \"GrpHdr\": {\n            \"MsgId\": \"6b444365119746c5be7dfb5516ba67c4\",\n            \"CreDtTm\": \"{{now}}\"\n        },\n        \"TxInfAndSts\": {\n            \"OrgnlInstrId\": \"5ab4fc7355de4ef8a75b78b00a681ed2\",\n            \"OrgnlEndToEndId\": \"2c516801007642dfb892944dde1cf845\",\n            \"TxSts\": \"ACCC\",\n            \"ChrgsInf\": [\n                {\n                    \"Amt\": {\n                        \"Amt\": 307.14,\n                        \"Ccy\": \"USD\"\n                    },\n                    \"Agt\": {\n                        \"FinInstnId\": {\n                            \"ClrSysMmbId\": {\n                                \"MmbId\": \"dfsp001\"\n                            }\n                        }\n                    }\n                },\n                {\n                    \"Amt\": {\n                        \"Amt\": 153.57,\n                        \"Ccy\": \"USD\"\n                    },\n                    \"Agt\": {\n                        \"FinInstnId\": {\n                            \"ClrSysMmbId\": {\n                                \"MmbId\": \"dfsp001\"\n                            }\n                        }\n                    }\n                },\n                {\n                    \"Amt\": {\n                        \"Amt\": 30.71,\n                        \"Ccy\": \"USD\"\n                    },\n                    \"Agt\": {\n                        \"FinInstnId\": {\n                            \"ClrSysMmbId\": {\n                                \"MmbId\": \"dfsp002\"\n                            }\n                        }\n                    }\n                }\n            ],\n            \"AccptncDtTm\": \"2021-12-03T15:36:16.000Z\",\n            \"InstgAgt\": {\n                \"FinInstnId\": {\n                    \"ClrSysMmbId\": {\n                        \"MmbId\": \"dfsp001\"\n                    }\n                }\n            },\n            \"InstdAgt\": {\n                \"FinInstnId\": {\n                    \"ClrSysMmbId\": {\n                        \"MmbId\": \"dfsp002\"\n                    }\n                }\n            }\n        }\n    }\n}\n,\n\n\"networkMap\": \n{\n    \"_key\": \"26345403\",\n    \"_id\": \"networkConfiguration/26345403\",\n    \"_rev\": \"_cxc-1vO---\",\n    \"messages\": [\n      {\n        \"id\": \"001@1.0\",\n        \"host\": \"http://openfaas:8080\",\n        \"cfg\": \"1.0\",\n        \"txTp\": \"pain.001.001.11\",\n        \"channels\": [\n          {\n            \"id\": \"001@1.0\",\n            \"host\": \"http://openfaas:8080\",\n            \"cfg\": \"1.0\",\n            \"typologies\": [\n              {\n                \"id\": \"028@1.0\",\n                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\n                \"cfg\": \"028@1.0\",\n                \"rules\": [\n                  {\n                    \"id\": \"003@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  },\n                  {\n                    \"id\": \"028@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  }\n                ]\n              },\n              {\n                \"id\": \"029@1.0\",\n                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\n                \"cfg\": \"029@1.0\",\n                \"rules\": [\n                  {\n                    \"id\": \"003@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  },\n                  {\n                    \"id\": \"005@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  }\n                ]\n              }\n            ]\n          },\n          {\n            \"id\": \"002@1.0\",\n            \"host\": \"http://openfaas:8080\",\n            \"cfg\": \"1.0\",\n            \"typologies\": [\n              {\n                \"id\": \"030@1.0\",\n                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\n                \"cfg\": \"030@1.0\",\n                \"rules\": [\n                  {\n                    \"id\": \"003@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  },\n                  {\n                    \"id\": \"006@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  }\n                ]\n              },\n              {\n                \"id\": \"031@1.0\",\n                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\n                \"cfg\": \"031@1.0\",\n                \"rules\": [\n                  {\n                    \"id\": \"003@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  },\n                  {\n                    \"id\": \"007@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  }\n                ]\n              }\n            ]\n          }\n        ]\n      }\n    ]\n}\n\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "http://gateway.openfaas:8080/function/off-rule-002-rel-1-0-0/execute",
          "protocol": "http",
          "host": ["gateway", "openfaas"],
          "port": "8080",
          "path": ["function", "off-rule-002-rel-1-0-0", "execute"]
        }
      },
      "response": []
    },
    {
      "name": "Test Scenario 2",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "pm.globals.set(\"now\", new Date().toISOString());",
              "",
              "const now = new Date().getTime();",
              "",
              "const pacs008Transactions = [{",
              "    \"TxTp\": \"pacs.008.001.10\",",
              "    \"FIToFICstmrCdt\": {",
              "        \"GrpHdr\": {",
              "            \"MsgId\": \"96ae98292ec04bf29b5d40ba99864c38\",",
              "            \"CreDtTm\": \"2021-12-03T15:36:15.000Z\",",
              "            \"NbOfTxs\": 1,",
              "            \"SttlmInf\": {",
              "                \"SttlmMtd\": \"CLRG\"",
              "            }",
              "        },",
              "        \"CdtTrfTxInf\": {",
              "            \"PmtId\": {",
              "                \"InstrId\": \"5ab4fc7355de4ef8a75b78b00a681ed2\",",
              "                \"EndToEndId\": \"2c516801007642dfb892944dde1cf845\"",
              "            },",
              "            \"IntrBkSttlmAmt\": {",
              "                \"Amt\": {",
              "                    \"Amt\": 31020.89,",
              "                    \"Ccy\": \"USD\"",
              "                }",
              "            },",
              "            \"InstdAmt\": {",
              "                \"Amt\": {",
              "                    \"Amt\": 31020.89,",
              "                    \"Ccy\": \"USD\"",
              "                }",
              "            },",
              "            \"ChrgBr\": \"DEBT\",",
              "            \"ChrgsInf\": {",
              "                \"Amt\": {",
              "                    \"Amt\": 307.14,",
              "                    \"Ccy\": \"USD\"",
              "                },",
              "                \"Agt\": {",
              "                    \"FinInstnId\": {",
              "                        \"ClrSysMmbId\": {",
              "                            \"MmbId\": \"dfsp001\"",
              "                        }",
              "                    }",
              "                }",
              "            },",
              "            \"InitgPty\": {",
              "                \"Nm\": \"April Blake Grant\",",
              "                \"Id\": {",
              "                    \"PrvtId\": {",
              "                        \"DtAndPlcOfBirth\": {",
              "                            \"BirthDt\": \"1968-02-01\",",
              "                            \"CityOfBirth\": \"Unknown\",",
              "                            \"CtryOfBirth\": \"ZZ\"",
              "                        },",
              "                        \"Othr\": {",
              "                            \"Id\": \"+27730975224\",",
              "                            \"SchmeNm\": {",
              "                                \"Prtry\": \"MSISDN\"",
              "                            }",
              "                        }",
              "                    }",
              "                },",
              "                \"CtctDtls\": {",
              "                    \"MobNb\": \"+27-730975224\"",
              "                }",
              "            },",
              "            \"Dbtr\": {",
              "                \"Nm\": \"April Blake Grant\",",
              "                \"Id\": {",
              "                    \"PrvtId\": {",
              "                        \"DtAndPlcOfBirth\": {",
              "                            \"BirthDt\": \"1968-02-01\",",
              "                            \"CityOfBirth\": \"Unknown\",",
              "                            \"CtryOfBirth\": \"ZZ\"",
              "                        },",
              "                        \"Othr\": {",
              "                            \"Id\": \"+27730975224\",",
              "                            \"SchmeNm\": {",
              "                                \"Prtry\": \"MSISDN\"",
              "                            }",
              "                        }",
              "                    }",
              "                },",
              "                \"CtctDtls\": {",
              "                    \"MobNb\": \"+27-730975224\"",
              "                }",
              "            },",
              "            \"DbtrAcct\": {",
              "                \"Id\": {",
              "                    \"Othr\": {",
              "                        \"Id\": \"e2fa05b6a56ceedb37581703b98590b44194a8c0d2799f4319ebbece5e20ecc1\",",
              "                        \"SchmeNm\": {",
              "                            \"Prtry\": \"PSEUDO\"",
              "                        }",
              "                    }",
              "                },",
              "                \"Nm\": \"April Grant\"",
              "            },",
              "            \"DbtrAgt\": {",
              "                \"FinInstnId\": {",
              "                    \"ClrSysMmbId\": {",
              "                        \"MmbId\": \"dfsp001\"",
              "                    }",
              "                }",
              "            },",
              "            \"CdtrAgt\": {",
              "                \"FinInstnId\": {",
              "                    \"ClrSysMmbId\": {",
              "                        \"MmbId\": \"dfsp002\"",
              "                    }",
              "                }",
              "            },",
              "            \"Cdtr\": {",
              "                \"Nm\": \"Felicia Easton Quill\",",
              "                \"Id\": {",
              "                    \"PrvtId\": {",
              "                        \"DtAndPlcOfBirth\": {",
              "                            \"BirthDt\": \"1935-05-08\",",
              "                            \"CityOfBirth\": \"Unknown\",",
              "                            \"CtryOfBirth\": \"ZZ\"",
              "                        },",
              "                        \"Othr\": {",
              "                            \"Id\": \"+27707650428\",",
              "                            \"SchmeNm\": {",
              "                                \"Prtry\": \"MSISDN\"",
              "                            }",
              "                        }",
              "                    }",
              "                },",
              "                \"CtctDtls\": {",
              "                    \"MobNb\": \"+27-707650428\"",
              "                }",
              "            },",
              "            \"CdtrAcct\": {",
              "                \"Id\": {",
              "                    \"Othr\": {",
              "                        \"Id\": \"efdafefdee55c7a1e5eba4ccc0f01639dc37a020241b20495378f5a1343985b4\",",
              "                        \"SchmeNm\": {",
              "                            \"Prtry\": \"PSEUDO\"",
              "                        }",
              "                    }",
              "                },",
              "                \"Nm\": \"Felicia Quill\"",
              "            },",
              "            \"Purp\": {",
              "                \"Cd\": \"MP2P\"",
              "            }",
              "        },",
              "        \"RgltryRptg\": {",
              "            \"Dtls\": {",
              "                \"Tp\": \"BALANCE OF PAYMENTS\",",
              "                \"Cd\": \"100\"",
              "            }",
              "        },",
              "        \"RmtInf\": {",
              "            \"Ustrd\": \"Payment of USD 30713.75 from April to Felicia\"",
              "        },",
              "        \"SplmtryData\": {",
              "            \"Envlp\": {",
              "                \"Doc\": {",
              "                    \"Xprtn\": \"2021-11-30T10:38:56.000Z\"",
              "                }",
              "            }",
              "        }",
              "    }",
              "}]",
              "",
              "const transactionGraph = [{",
              "    _key: \"af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954e90\",",
              "    _from: \"accounts/e2fa05b6a56ceedb37581703b98590b44194a8c0d2799f4319ebbece5e20ecc1\",",
              "    _to: \"accounts/af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954e90\",",
              "    TxTp: \"pacs.002.001.12\",",
              "    TxSts: \"ACCC\",",
              "    CreDtTm: new Date(new Date(now - 120000).getTime()).toISOString(),",
              "    PmtInfId: \"2f68ae16-467a-4ac4-ba32-eb518646aa1d\",",
              "    EndToEndId: \"5cb8a2db-5c32-41bb-ac27-2597125d50fd\"",
              "},",
              " {",
              "    _key: 'af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954e',",
              "    _from: 'accounts/e2fa05b6a56ceedb37581703b98590b44194a8c0d2799f4319ebbece5e20ecc1',",
              "    _to: 'accounts/af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954e',",
              "    TxTp: 'pacs.002.001.12',",
              "    TxSts: 'ACCC',",
              "    CreDtTm: new Date(new Date(now - 64800000).getTime()).toISOString(),",
              "    PmtInfId: '2f68ae16-467a-4ac4-ba32-eb518646aa1d',",
              "    EndToEndId: '5cb8a2db-5c32-41bb-ac27-2597125d50de',",
              "  },",
              "  {",
              "    _key: 'af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954',",
              "    _from: 'accounts/e2fa05b6a56ceedb37581703b98590b44194a8c0d2799f4319ebbece5e20ecc1',",
              "    _to: 'accounts/af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954',",
              "    TxTp: 'pacs.002.001.12',",
              "    TxSts: 'ACCC',",
              "    CreDtTm: new Date(new Date(now - 64800000).getTime()).toISOString(),",
              "    PmtInfId: '2f68ae16-467a-4ac4-ba32-eb518646aa1d',",
              "    EndToEndId: '5cb8a2db-5c32-41bb-ac27-2597125d50u4',",
              "  },",
              "  {",
              "    _key: 'af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab195',",
              "    _from: 'accounts/e2fa05b6a56ceedb37581703b98590b44194a8c0d2799f4319ebbece5e20ecc1',",
              "    _to: 'accounts/af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab195',",
              "    TxTp: 'pacs.002.001.12',",
              "    TxSts: 'ACCC',",
              "    CreDtTm: new Date(new Date(now - 64800000).getTime()).toISOString(),",
              "    PmtInfId: '2f68ae16-467a-4ac4-ba32-eb518646aa1d',",
              "    EndToEndId: '5cb8a2db-5c32-41bb-ac27-2597125d50vm',",
              "  },",
              "  {",
              "    _key: 'af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab',",
              "    _from: 'accounts/e2fa05b6a56ceedb37581703b98590b44194a8c0d2799f4319ebbece5e20ecc1',",
              "    _to: 'accounts/af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab',",
              "    TxTp: 'pacs.002.001.12',",
              "    TxSts: 'ACCC',",
              "    CreDtTm: new Date(new Date(now - 64800000).getTime()).toISOString(),",
              "    PmtInfId: '2f68ae16-467a-4ac4-ba32-eb518646aa1d',",
              "    EndToEndId: '5cb8a2db-5c32-41bb-ac27-2597125d50ws',",
              "  }",
              "]",
              "",
              "pm.sendRequest({",
              "    url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',",
              "    method: 'POST',",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },",
              "    body: {",
              "        mode: 'raw',",
              "        raw: JSON.stringify({",
              "            query: `FOR transaction IN ${JSON.stringify(pacs008Transactions)}",
              "                    INSERT {_key: transaction.FIToFICstmrCdt.GrpHdr.MsgId, TxTp: transaction.TxTp, FIToFICstmrCdt: transaction.FIToFICstmrCdt} INTO transactionHistory",
              "                    OPTIONS { overwrite: true }`",
              "        })",
              "    }",
              "});",
              "",
              "pm.sendRequest({",
              "    url: 'http://arango.development:8529/_db/pseudonyms/_api/cursor',",
              "    method: 'POST',",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },",
              "    body: {",
              "        mode: 'raw',",
              "        raw: JSON.stringify({",
              "            query: `FOR transaction IN ${JSON.stringify(transactionGraph)}",
              "                    INSERT transaction INTO transactionRelationship",
              "                    OPTIONS { overwrite: true }`",
              "        })",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "test",
          "script": {
            "exec": [
              "const jsonData = pm.response.json();",
              "const req = JSON.parse(request.data);",
              "",
              "const transactions = [\"96ae98292ec04bf29b5d40ba99864c38\"]",
              "const graphTransactions = [\"af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954e90\", \"af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954e\", \"af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954\", \"af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab195\", \"af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab\"]",
              "",
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});",
              "",
              "pm.test(\"should have rule result of true\", function () {",
              "    pm.expect(jsonData.ruleResult.result).to.be.eql(true);",
              "});",
              "",
              "pm.test(\"Remove Seed Data from DB\", function () {",
              "    pm.sendRequest({",
              "        url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',",
              "        method: 'POST',",
              "        header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },",
              "        body: {",
              "            mode: 'raw',",
              "            raw: JSON.stringify({",
              "                query: `FOR transaction IN ${JSON.stringify(transactions)}",
              "                        REMOVE { _key: transaction } IN transactionHistory",
              "                        OPTIONS { ignoreErrors: true }`",
              "            })",
              "        }",
              "    })",
              "});",
              "",
              "pm.test(\"Remove Seed Data from transactionGraph\", function () {",
              "    pm.sendRequest({",
              "        url: 'http://arango.development:8529/_db/pseudonyms/_api/cursor',",
              "        method: 'POST',",
              "        header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },",
              "        body: {",
              "            mode: 'raw',",
              "            raw: JSON.stringify({",
              "                query: `FOR transaction IN ${JSON.stringify(graphTransactions)}",
              "                        REMOVE { _key: transaction } IN transactionRelationship",
              "                        OPTIONS { ignoreErrors: true }`",
              "            })",
              "        }",
              "    })",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\n\"transaction\": {\n    \"TxTp\": \"pacs.002.001.12\",\n    \"FIToFIPmtSts\": {\n        \"GrpHdr\": {\n            \"MsgId\": \"6b444365119746c5be7dfb5516ba67c4\",\n            \"CreDtTm\": \"{{now}}\"\n        },\n        \"TxInfAndSts\": {\n            \"OrgnlInstrId\": \"5ab4fc7355de4ef8a75b78b00a681ed2\",\n            \"OrgnlEndToEndId\": \"2c516801007642dfb892944dde1cf845\",\n            \"TxSts\": \"ACCC\",\n            \"ChrgsInf\": [\n                {\n                    \"Amt\": {\n                        \"Amt\": 307.14,\n                        \"Ccy\": \"USD\"\n                    },\n                    \"Agt\": {\n                        \"FinInstnId\": {\n                            \"ClrSysMmbId\": {\n                                \"MmbId\": \"dfsp001\"\n                            }\n                        }\n                    }\n                },\n                {\n                    \"Amt\": {\n                        \"Amt\": 153.57,\n                        \"Ccy\": \"USD\"\n                    },\n                    \"Agt\": {\n                        \"FinInstnId\": {\n                            \"ClrSysMmbId\": {\n                                \"MmbId\": \"dfsp001\"\n                            }\n                        }\n                    }\n                },\n                {\n                    \"Amt\": {\n                        \"Amt\": 30.71,\n                        \"Ccy\": \"USD\"\n                    },\n                    \"Agt\": {\n                        \"FinInstnId\": {\n                            \"ClrSysMmbId\": {\n                                \"MmbId\": \"dfsp002\"\n                            }\n                        }\n                    }\n                }\n            ],\n            \"AccptncDtTm\": \"2021-12-03T15:36:16.000Z\",\n            \"InstgAgt\": {\n                \"FinInstnId\": {\n                    \"ClrSysMmbId\": {\n                        \"MmbId\": \"dfsp001\"\n                    }\n                }\n            },\n            \"InstdAgt\": {\n                \"FinInstnId\": {\n                    \"ClrSysMmbId\": {\n                        \"MmbId\": \"dfsp002\"\n                    }\n                }\n            }\n        }\n    }\n}\n,\n\n\"networkMap\": \n{\n    \"_key\": \"26345403\",\n    \"_id\": \"networkConfiguration/26345403\",\n    \"_rev\": \"_cxc-1vO---\",\n    \"messages\": [\n      {\n        \"id\": \"001@1.0\",\n        \"host\": \"http://openfaas:8080\",\n        \"cfg\": \"1.0\",\n        \"txTp\": \"pain.001.001.11\",\n        \"channels\": [\n          {\n            \"id\": \"001@1.0\",\n            \"host\": \"http://openfaas:8080\",\n            \"cfg\": \"1.0\",\n            \"typologies\": [\n              {\n                \"id\": \"028@1.0\",\n                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\n                \"cfg\": \"028@1.0\",\n                \"rules\": [\n                  {\n                    \"id\": \"003@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  },\n                  {\n                    \"id\": \"028@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  }\n                ]\n              },\n              {\n                \"id\": \"029@1.0\",\n                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\n                \"cfg\": \"029@1.0\",\n                \"rules\": [\n                  {\n                    \"id\": \"003@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  },\n                  {\n                    \"id\": \"005@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  }\n                ]\n              }\n            ]\n          },\n          {\n            \"id\": \"002@1.0\",\n            \"host\": \"http://openfaas:8080\",\n            \"cfg\": \"1.0\",\n            \"typologies\": [\n              {\n                \"id\": \"030@1.0\",\n                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\n                \"cfg\": \"030@1.0\",\n                \"rules\": [\n                  {\n                    \"id\": \"003@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  },\n                  {\n                    \"id\": \"006@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  }\n                ]\n              },\n              {\n                \"id\": \"031@1.0\",\n                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\n                \"cfg\": \"031@1.0\",\n                \"rules\": [\n                  {\n                    \"id\": \"003@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  },\n                  {\n                    \"id\": \"007@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  }\n                ]\n              }\n            ]\n          }\n        ]\n      }\n    ]\n}\n\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "http://gateway.openfaas:8080/function/off-rule-002-rel-1-0-0/execute",
          "protocol": "http",
          "host": ["gateway", "openfaas"],
          "port": "8080",
          "path": ["function", "off-rule-002-rel-1-0-0", "execute"]
        }
      },
      "response": []
    },
    {
      "name": "Test Scenario 3",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "pm.globals.set(\"now\", new Date().toISOString());",
              "",
              "const now = new Date().getTime();",
              "",
              "const pacs008Transactions = [{",
              "    \"TxTp\": \"pacs.008.001.10\",",
              "    \"FIToFICstmrCdt\": {",
              "        \"GrpHdr\": {",
              "            \"MsgId\": \"96ae98292ec04bf29b5d40ba99864c38\",",
              "            \"CreDtTm\": \"2021-12-03T15:36:15.000Z\",",
              "            \"NbOfTxs\": 1,",
              "            \"SttlmInf\": {",
              "                \"SttlmMtd\": \"CLRG\"",
              "            }",
              "        },",
              "        \"CdtTrfTxInf\": {",
              "            \"PmtId\": {",
              "                \"InstrId\": \"5ab4fc7355de4ef8a75b78b00a681ed2\",",
              "                \"EndToEndId\": \"2c516801007642dfb892944dde1cf845\"",
              "            },",
              "            \"IntrBkSttlmAmt\": {",
              "                \"Amt\": {",
              "                    \"Amt\": 31020.89,",
              "                    \"Ccy\": \"USD\"",
              "                }",
              "            },",
              "            \"InstdAmt\": {",
              "                \"Amt\": {",
              "                    \"Amt\": 31020.89,",
              "                    \"Ccy\": \"USD\"",
              "                }",
              "            },",
              "            \"ChrgBr\": \"DEBT\",",
              "            \"ChrgsInf\": {",
              "                \"Amt\": {",
              "                    \"Amt\": 307.14,",
              "                    \"Ccy\": \"USD\"",
              "                },",
              "                \"Agt\": {",
              "                    \"FinInstnId\": {",
              "                        \"ClrSysMmbId\": {",
              "                            \"MmbId\": \"dfsp001\"",
              "                        }",
              "                    }",
              "                }",
              "            },",
              "            \"InitgPty\": {",
              "                \"Nm\": \"April Blake Grant\",",
              "                \"Id\": {",
              "                    \"PrvtId\": {",
              "                        \"DtAndPlcOfBirth\": {",
              "                            \"BirthDt\": \"1968-02-01\",",
              "                            \"CityOfBirth\": \"Unknown\",",
              "                            \"CtryOfBirth\": \"ZZ\"",
              "                        },",
              "                        \"Othr\": {",
              "                            \"Id\": \"+27730975224\",",
              "                            \"SchmeNm\": {",
              "                                \"Prtry\": \"MSISDN\"",
              "                            }",
              "                        }",
              "                    }",
              "                },",
              "                \"CtctDtls\": {",
              "                    \"MobNb\": \"+27-730975224\"",
              "                }",
              "            },",
              "            \"Dbtr\": {",
              "                \"Nm\": \"April Blake Grant\",",
              "                \"Id\": {",
              "                    \"PrvtId\": {",
              "                        \"DtAndPlcOfBirth\": {",
              "                            \"BirthDt\": \"1968-02-01\",",
              "                            \"CityOfBirth\": \"Unknown\",",
              "                            \"CtryOfBirth\": \"ZZ\"",
              "                        },",
              "                        \"Othr\": {",
              "                            \"Id\": \"+27730975224\",",
              "                            \"SchmeNm\": {",
              "                                \"Prtry\": \"MSISDN\"",
              "                            }",
              "                        }",
              "                    }",
              "                },",
              "                \"CtctDtls\": {",
              "                    \"MobNb\": \"+27-730975224\"",
              "                }",
              "            },",
              "            \"DbtrAcct\": {",
              "                \"Id\": {",
              "                    \"Othr\": {",
              "                        \"Id\": \"e2fa05b6a56ceedb37581703b98590b44194a8c0d2799f4319ebbece5e20ecc1\",",
              "                        \"SchmeNm\": {",
              "                            \"Prtry\": \"PSEUDO\"",
              "                        }",
              "                    }",
              "                },",
              "                \"Nm\": \"April Grant\"",
              "            },",
              "            \"DbtrAgt\": {",
              "                \"FinInstnId\": {",
              "                    \"ClrSysMmbId\": {",
              "                        \"MmbId\": \"dfsp001\"",
              "                    }",
              "                }",
              "            },",
              "            \"CdtrAgt\": {",
              "                \"FinInstnId\": {",
              "                    \"ClrSysMmbId\": {",
              "                        \"MmbId\": \"dfsp002\"",
              "                    }",
              "                }",
              "            },",
              "            \"Cdtr\": {",
              "                \"Nm\": \"Felicia Easton Quill\",",
              "                \"Id\": {",
              "                    \"PrvtId\": {",
              "                        \"DtAndPlcOfBirth\": {",
              "                            \"BirthDt\": \"1935-05-08\",",
              "                            \"CityOfBirth\": \"Unknown\",",
              "                            \"CtryOfBirth\": \"ZZ\"",
              "                        },",
              "                        \"Othr\": {",
              "                            \"Id\": \"+27707650428\",",
              "                            \"SchmeNm\": {",
              "                                \"Prtry\": \"MSISDN\"",
              "                            }",
              "                        }",
              "                    }",
              "                },",
              "                \"CtctDtls\": {",
              "                    \"MobNb\": \"+27-707650428\"",
              "                }",
              "            },",
              "            \"CdtrAcct\": {",
              "                \"Id\": {",
              "                    \"Othr\": {",
              "                        \"Id\": \"efdafefdee55c7a1e5eba4ccc0f01639dc37a020241b20495378f5a1343985b4\",",
              "                        \"SchmeNm\": {",
              "                            \"Prtry\": \"PSEUDO\"",
              "                        }",
              "                    }",
              "                },",
              "                \"Nm\": \"Felicia Quill\"",
              "            },",
              "            \"Purp\": {",
              "                \"Cd\": \"MP2P\"",
              "            }",
              "        },",
              "        \"RgltryRptg\": {",
              "            \"Dtls\": {",
              "                \"Tp\": \"BALANCE OF PAYMENTS\",",
              "                \"Cd\": \"100\"",
              "            }",
              "        },",
              "        \"RmtInf\": {",
              "            \"Ustrd\": \"Payment of USD 30713.75 from April to Felicia\"",
              "        },",
              "        \"SplmtryData\": {",
              "            \"Envlp\": {",
              "                \"Doc\": {",
              "                    \"Xprtn\": \"2021-11-30T10:38:56.000Z\"",
              "                }",
              "            }",
              "        }",
              "    }",
              "}]",
              "",
              "const transactionGraph = [{",
              "    _key: \"af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954e90\",",
              "    _from: \"accounts/e2fa05b6a56ceedb37581703b98590b44194a8c0d2799f4319ebbece5e20ecc1\",",
              "    _to: \"accounts/af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954e90\",",
              "    TxTp: \"pacs.002.001.12\",",
              "    TxSts: \"ACCC\",",
              "    CreDtTm: new Date(new Date(now - 120000).getTime()).toISOString(),",
              "    PmtInfId: \"2f68ae16-467a-4ac4-ba32-eb518646aa1d\",",
              "    EndToEndId: \"5cb8a2db-5c32-41bb-ac27-2597125d50fd\"",
              "},",
              " {",
              "    _key: 'af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954e',",
              "    _from: 'accounts/e2fa05b6a56ceedb37581703b98590b44194a8c0d2799f4319ebbece5e20ecc1',",
              "    _to: 'accounts/af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954e',",
              "    TxTp: 'pacs.002.001.12',",
              "    TxSts: 'ACCC',",
              "    CreDtTm: new Date(new Date(now - 64800000).getTime()).toISOString(),",
              "    PmtInfId: '2f68ae16-467a-4ac4-ba32-eb518646aa1d',",
              "    EndToEndId: '5cb8a2db-5c32-41bb-ac27-2597125d50de',",
              "  },",
              "  {",
              "    _key: 'af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954',",
              "    _from: 'accounts/e2fa05b6a56ceedb37581703b98590b44194a8c0d2799f4319ebbece5e20ecc1',",
              "    _to: 'accounts/af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954',",
              "    TxTp: 'pacs.002.001.12',",
              "    TxSts: 'ACCC',",
              "    CreDtTm: new Date(new Date(now - 64800000).getTime()).toISOString(),",
              "    PmtInfId: '2f68ae16-467a-4ac4-ba32-eb518646aa1d',",
              "    EndToEndId: '5cb8a2db-5c32-41bb-ac27-2597125d50u4',",
              "  },",
              "  {",
              "    _key: 'af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab195',",
              "    _from: 'accounts/e2fa05b6a56ceedb37581703b98590b44194a8c0d2799f4319ebbece5e20ecc1',",
              "    _to: 'accounts/af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab195',",
              "    TxTp: 'pacs.002.001.12',",
              "    TxSts: 'ACCC',",
              "    CreDtTm: new Date(new Date(now - 64800000).getTime()).toISOString(),",
              "    PmtInfId: '2f68ae16-467a-4ac4-ba32-eb518646aa1d',",
              "    EndToEndId: '5cb8a2db-5c32-41bb-ac27-2597125d50vm',",
              "  },",
              "  {",
              "    _key: 'af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab',",
              "    _from: 'accounts/e2fa05b6a56ceedb37581703b98590b44194a8c0d2799f4319ebbece5e20ecc1',",
              "    _to: 'accounts/af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab',",
              "    TxTp: 'pacs.002.001.12',",
              "    TxSts: 'RJCT',",
              "    CreDtTm: new Date(new Date(now - 64800000).getTime()).toISOString(),",
              "    PmtInfId: '2f68ae16-467a-4ac4-ba32-eb518646aa1d',",
              "    EndToEndId: '5cb8a2db-5c32-41bb-ac27-2597125d50ws',",
              "  }",
              "]",
              "",
              "pm.sendRequest({",
              "    url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',",
              "    method: 'POST',",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },",
              "    body: {",
              "        mode: 'raw',",
              "        raw: JSON.stringify({",
              "            query: `FOR transaction IN ${JSON.stringify(pacs008Transactions)}",
              "                    INSERT {_key: transaction.FIToFICstmrCdt.GrpHdr.MsgId, TxTp: transaction.TxTp, FIToFICstmrCdt: transaction.FIToFICstmrCdt} INTO transactionHistory",
              "                    OPTIONS { overwrite: true }`",
              "        })",
              "    }",
              "});",
              "",
              "pm.sendRequest({",
              "    url: 'http://arango.development:8529/_db/pseudonyms/_api/cursor',",
              "    method: 'POST',",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },",
              "    body: {",
              "        mode: 'raw',",
              "        raw: JSON.stringify({",
              "            query: `FOR transaction IN ${JSON.stringify(transactionGraph)}",
              "                    INSERT transaction INTO transactionRelationship",
              "                    OPTIONS { overwrite: true }`",
              "        })",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "test",
          "script": {
            "exec": [
              "const jsonData = pm.response.json();",
              "const req = JSON.parse(request.data);",
              "",
              "const transactions = [\"96ae98292ec04bf29b5d40ba99864c38\"]",
              "const graphTransactions = [\"af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954e90\"]",
              "",
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});",
              "",
              "pm.test(\"should have rule result of false\", function () {",
              "    pm.expect(jsonData.ruleResult.result).to.be.eql(false);",
              "});",
              "",
              "pm.test(\"Remove Seed Data from DB\", function () {",
              "    pm.sendRequest({",
              "        url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',",
              "        method: 'POST',",
              "        header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },",
              "        body: {",
              "            mode: 'raw',",
              "            raw: JSON.stringify({",
              "                query: `FOR transaction IN ${JSON.stringify(transactions)}",
              "                        REMOVE { _key: transaction } IN transactionHistory",
              "                        OPTIONS { ignoreErrors: true }`",
              "            })",
              "        }",
              "    })",
              "});",
              "",
              "pm.test(\"Remove Seed Data from transactionGraph\", function () {",
              "    pm.sendRequest({",
              "        url: 'http://arango.development:8529/_db/pseudonyms/_api/cursor',",
              "        method: 'POST',",
              "        header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },",
              "        body: {",
              "            mode: 'raw',",
              "            raw: JSON.stringify({",
              "                query: `FOR transaction IN ${JSON.stringify(graphTransactions)}",
              "                        REMOVE { _key: transaction } IN transactionRelationship",
              "                        OPTIONS { ignoreErrors: true }`",
              "            })",
              "        }",
              "    })",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\n\"transaction\": {\n    \"TxTp\": \"pacs.002.001.12\",\n    \"FIToFIPmtSts\": {\n        \"GrpHdr\": {\n            \"MsgId\": \"6b444365119746c5be7dfb5516ba67c4\",\n            \"CreDtTm\": \"{{now}}\"\n        },\n        \"TxInfAndSts\": {\n            \"OrgnlInstrId\": \"5ab4fc7355de4ef8a75b78b00a681ed2\",\n            \"OrgnlEndToEndId\": \"2c516801007642dfb892944dde1cf845\",\n            \"TxSts\": \"ACCC\",\n            \"ChrgsInf\": [\n                {\n                    \"Amt\": {\n                        \"Amt\": 307.14,\n                        \"Ccy\": \"USD\"\n                    },\n                    \"Agt\": {\n                        \"FinInstnId\": {\n                            \"ClrSysMmbId\": {\n                                \"MmbId\": \"dfsp001\"\n                            }\n                        }\n                    }\n                },\n                {\n                    \"Amt\": {\n                        \"Amt\": 153.57,\n                        \"Ccy\": \"USD\"\n                    },\n                    \"Agt\": {\n                        \"FinInstnId\": {\n                            \"ClrSysMmbId\": {\n                                \"MmbId\": \"dfsp001\"\n                            }\n                        }\n                    }\n                },\n                {\n                    \"Amt\": {\n                        \"Amt\": 30.71,\n                        \"Ccy\": \"USD\"\n                    },\n                    \"Agt\": {\n                        \"FinInstnId\": {\n                            \"ClrSysMmbId\": {\n                                \"MmbId\": \"dfsp002\"\n                            }\n                        }\n                    }\n                }\n            ],\n            \"AccptncDtTm\": \"2021-12-03T15:36:16.000Z\",\n            \"InstgAgt\": {\n                \"FinInstnId\": {\n                    \"ClrSysMmbId\": {\n                        \"MmbId\": \"dfsp001\"\n                    }\n                }\n            },\n            \"InstdAgt\": {\n                \"FinInstnId\": {\n                    \"ClrSysMmbId\": {\n                        \"MmbId\": \"dfsp002\"\n                    }\n                }\n            }\n        }\n    }\n}\n,\n\n\"networkMap\": \n{\n    \"_key\": \"26345403\",\n    \"_id\": \"networkConfiguration/26345403\",\n    \"_rev\": \"_cxc-1vO---\",\n    \"messages\": [\n      {\n        \"id\": \"001@1.0\",\n        \"host\": \"http://openfaas:8080\",\n        \"cfg\": \"1.0\",\n        \"txTp\": \"pain.001.001.11\",\n        \"channels\": [\n          {\n            \"id\": \"001@1.0\",\n            \"host\": \"http://openfaas:8080\",\n            \"cfg\": \"1.0\",\n            \"typologies\": [\n              {\n                \"id\": \"028@1.0\",\n                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\n                \"cfg\": \"028@1.0\",\n                \"rules\": [\n                  {\n                    \"id\": \"003@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  },\n                  {\n                    \"id\": \"028@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  }\n                ]\n              },\n              {\n                \"id\": \"029@1.0\",\n                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\n                \"cfg\": \"029@1.0\",\n                \"rules\": [\n                  {\n                    \"id\": \"003@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  },\n                  {\n                    \"id\": \"005@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  }\n                ]\n              }\n            ]\n          },\n          {\n            \"id\": \"002@1.0\",\n            \"host\": \"http://openfaas:8080\",\n            \"cfg\": \"1.0\",\n            \"typologies\": [\n              {\n                \"id\": \"030@1.0\",\n                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\n                \"cfg\": \"030@1.0\",\n                \"rules\": [\n                  {\n                    \"id\": \"003@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  },\n                  {\n                    \"id\": \"006@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  }\n                ]\n              },\n              {\n                \"id\": \"031@1.0\",\n                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\n                \"cfg\": \"031@1.0\",\n                \"rules\": [\n                  {\n                    \"id\": \"003@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  },\n                  {\n                    \"id\": \"007@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  }\n                ]\n              }\n            ]\n          }\n        ]\n      }\n    ]\n}\n\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "http://gateway.openfaas:8080/function/off-rule-002-rel-1-0-0/execute",
          "protocol": "http",
          "host": ["gateway", "openfaas"],
          "port": "8080",
          "path": ["function", "off-rule-002-rel-1-0-0", "execute"]
        }
      },
      "response": []
    },
    {
      "name": "Test Scenario 4",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "pm.globals.set(\"now\", new Date().toISOString());",
              "",
              "const now = new Date().getTime();",
              "",
              "const ruleConfig = [",
              "    {",
              "  \"id\": \"002@1.0.0\",",
              "  \"cfg\": \"1.0.0\",",
              "  \"config\": {",
              "    \"timeframes\": [",
              "      {",
              "        \"threshold\": 172800000",
              "      }",
              "    ],",
              "    \"bands\": [",
              "      {",
              "        \"subRuleRef\": \".01\",",
              "        \"lowerLimit\": 5,",
              "        \"outcome\": true,",
              "        \"reason\": \"Transaction convergence detected on debtor account\"",
              "      },",
              "      {",
              "        \"subRuleRef\": \".00\",",
              "        \"upperLimit\": 5,",
              "        \"outcome\": false,",
              "        \"reason\": \"No Transaction convergence detected on debtor account\"",
              "      }",
              "    ]",
              "  }",
              "}",
              "]",
              "",
              "const pacs008Transactions = [{",
              "    \"TxTp\": \"pacs.008.001.10\",",
              "    \"FIToFICstmrCdt\": {",
              "        \"GrpHdr\": {",
              "            \"MsgId\": \"96ae98292ec04bf29b5d40ba99864c38\",",
              "            \"CreDtTm\": \"2021-12-03T15:36:15.000Z\",",
              "            \"NbOfTxs\": 1,",
              "            \"SttlmInf\": {",
              "                \"SttlmMtd\": \"CLRG\"",
              "            }",
              "        },",
              "        \"CdtTrfTxInf\": {",
              "            \"PmtId\": {",
              "                \"InstrId\": \"5ab4fc7355de4ef8a75b78b00a681ed2\",",
              "                \"EndToEndId\": \"2c516801007642dfb892944dde1cf845\"",
              "            },",
              "            \"IntrBkSttlmAmt\": {",
              "                \"Amt\": {",
              "                    \"Amt\": 31020.89,",
              "                    \"Ccy\": \"USD\"",
              "                }",
              "            },",
              "            \"InstdAmt\": {",
              "                \"Amt\": {",
              "                    \"Amt\": 31020.89,",
              "                    \"Ccy\": \"USD\"",
              "                }",
              "            },",
              "            \"ChrgBr\": \"DEBT\",",
              "            \"ChrgsInf\": {",
              "                \"Amt\": {",
              "                    \"Amt\": 307.14,",
              "                    \"Ccy\": \"USD\"",
              "                },",
              "                \"Agt\": {",
              "                    \"FinInstnId\": {",
              "                        \"ClrSysMmbId\": {",
              "                            \"MmbId\": \"dfsp001\"",
              "                        }",
              "                    }",
              "                }",
              "            },",
              "            \"InitgPty\": {",
              "                \"Nm\": \"April Blake Grant\",",
              "                \"Id\": {",
              "                    \"PrvtId\": {",
              "                        \"DtAndPlcOfBirth\": {",
              "                            \"BirthDt\": \"1968-02-01\",",
              "                            \"CityOfBirth\": \"Unknown\",",
              "                            \"CtryOfBirth\": \"ZZ\"",
              "                        },",
              "                        \"Othr\": {",
              "                            \"Id\": \"+27730975224\",",
              "                            \"SchmeNm\": {",
              "                                \"Prtry\": \"MSISDN\"",
              "                            }",
              "                        }",
              "                    }",
              "                },",
              "                \"CtctDtls\": {",
              "                    \"MobNb\": \"+27-730975224\"",
              "                }",
              "            },",
              "            \"Dbtr\": {",
              "                \"Nm\": \"April Blake Grant\",",
              "                \"Id\": {",
              "                    \"PrvtId\": {",
              "                        \"DtAndPlcOfBirth\": {",
              "                            \"BirthDt\": \"1968-02-01\",",
              "                            \"CityOfBirth\": \"Unknown\",",
              "                            \"CtryOfBirth\": \"ZZ\"",
              "                        },",
              "                        \"Othr\": {",
              "                            \"Id\": \"+27730975224\",",
              "                            \"SchmeNm\": {",
              "                                \"Prtry\": \"MSISDN\"",
              "                            }",
              "                        }",
              "                    }",
              "                },",
              "                \"CtctDtls\": {",
              "                    \"MobNb\": \"+27-730975224\"",
              "                }",
              "            },",
              "            \"DbtrAcct\": {",
              "                \"Id\": {",
              "                    \"Othr\": {",
              "                        \"Id\": \"e2fa05b6a56ceedb37581703b98590b44194a8c0d2799f4319ebbece5e20ecc1\",",
              "                        \"SchmeNm\": {",
              "                            \"Prtry\": \"PSEUDO\"",
              "                        }",
              "                    }",
              "                },",
              "                \"Nm\": \"April Grant\"",
              "            },",
              "            \"DbtrAgt\": {",
              "                \"FinInstnId\": {",
              "                    \"ClrSysMmbId\": {",
              "                        \"MmbId\": \"dfsp001\"",
              "                    }",
              "                }",
              "            },",
              "            \"CdtrAgt\": {",
              "                \"FinInstnId\": {",
              "                    \"ClrSysMmbId\": {",
              "                        \"MmbId\": \"dfsp002\"",
              "                    }",
              "                }",
              "            },",
              "            \"Cdtr\": {",
              "                \"Nm\": \"Felicia Easton Quill\",",
              "                \"Id\": {",
              "                    \"PrvtId\": {",
              "                        \"DtAndPlcOfBirth\": {",
              "                            \"BirthDt\": \"1935-05-08\",",
              "                            \"CityOfBirth\": \"Unknown\",",
              "                            \"CtryOfBirth\": \"ZZ\"",
              "                        },",
              "                        \"Othr\": {",
              "                            \"Id\": \"+27707650428\",",
              "                            \"SchmeNm\": {",
              "                                \"Prtry\": \"MSISDN\"",
              "                            }",
              "                        }",
              "                    }",
              "                },",
              "                \"CtctDtls\": {",
              "                    \"MobNb\": \"+27-707650428\"",
              "                }",
              "            },",
              "            \"CdtrAcct\": {",
              "                \"Id\": {",
              "                    \"Othr\": {",
              "                        \"Id\": \"efdafefdee55c7a1e5eba4ccc0f01639dc37a020241b20495378f5a1343985b4\",",
              "                        \"SchmeNm\": {",
              "                            \"Prtry\": \"PSEUDO\"",
              "                        }",
              "                    }",
              "                },",
              "                \"Nm\": \"Felicia Quill\"",
              "            },",
              "            \"Purp\": {",
              "                \"Cd\": \"MP2P\"",
              "            }",
              "        },",
              "        \"RgltryRptg\": {",
              "            \"Dtls\": {",
              "                \"Tp\": \"BALANCE OF PAYMENTS\",",
              "                \"Cd\": \"100\"",
              "            }",
              "        },",
              "        \"RmtInf\": {",
              "            \"Ustrd\": \"Payment of USD 30713.75 from April to Felicia\"",
              "        },",
              "        \"SplmtryData\": {",
              "            \"Envlp\": {",
              "                \"Doc\": {",
              "                    \"Xprtn\": \"2021-11-30T10:38:56.000Z\"",
              "                }",
              "            }",
              "        }",
              "    }",
              "}]",
              "",
              "const transactionGraph = [{",
              "    _key: \"af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954e90\",",
              "    _from: \"accounts/e2fa05b6a56ceedb37581703b98590b44194a8c0d2799f4319ebbece5e20ecc1\",",
              "    _to: \"accounts/af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954e90\",",
              "    TxTp: \"pacs.002.001.12\",",
              "    TxSts: \"ACCC\",",
              "    CreDtTm: new Date(new Date(now - 120000).getTime()).toISOString(),",
              "    PmtInfId: \"2f68ae16-467a-4ac4-ba32-eb518646aa1d\",",
              "    EndToEndId: \"5cb8a2db-5c32-41bb-ac27-2597125d50fd\"",
              "},",
              " {",
              "    _key: 'af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954e',",
              "    _from: 'accounts/e2fa05b6a56ceedb37581703b98590b44194a8c0d2799f4319ebbece5e20ecc1',",
              "    _to: 'accounts/af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954e',",
              "    TxTp: 'pacs.002.001.12',",
              "    TxSts: 'ACCC',",
              "    CreDtTm: new Date(new Date(now - 64800000).getTime()).toISOString(),",
              "    PmtInfId: '2f68ae16-467a-4ac4-ba32-eb518646aa1d',",
              "    EndToEndId: '5cb8a2db-5c32-41bb-ac27-2597125d50de',",
              "  },",
              "  {",
              "    _key: 'af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954',",
              "    _from: 'accounts/e2fa05b6a56ceedb37581703b98590b44194a8c0d2799f4319ebbece5e20ecc1',",
              "    _to: 'accounts/af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954',",
              "    TxTp: 'pacs.002.001.12',",
              "    TxSts: 'ACCC',",
              "    CreDtTm: new Date(new Date(now - 64800000).getTime()).toISOString(),",
              "    PmtInfId: '2f68ae16-467a-4ac4-ba32-eb518646aa1d',",
              "    EndToEndId: '5cb8a2db-5c32-41bb-ac27-2597125d50u4',",
              "  },",
              "  {",
              "    _key: 'af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab195',",
              "    _from: 'accounts/e2fa05b6a56ceedb37581703b98590b44194a8c0d2799f4319ebbece5e20ecc1',",
              "    _to: 'accounts/af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab195',",
              "    TxTp: 'pacs.002.001.12',",
              "    TxSts: 'ACCC',",
              "    CreDtTm: new Date(new Date(now - 64800000).getTime()).toISOString(),",
              "    PmtInfId: '2f68ae16-467a-4ac4-ba32-eb518646aa1d',",
              "    EndToEndId: '5cb8a2db-5c32-41bb-ac27-2597125d50vm',",
              "  },",
              "  {",
              "    _key: 'af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab',",
              "    _from: 'accounts/e2fa05b6a56ceedb37581703b98590b44194a8c0d2799f4319ebbece5e20ecc1',",
              "    _to: 'accounts/af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab',",
              "    TxTp: 'pacs.002.001.12',",
              "    TxSts: 'ACCC',",
              "    CreDtTm: new Date(new Date(now - 64800000).getTime()).toISOString(),",
              "    PmtInfId: '2f68ae16-467a-4ac4-ba32-eb518646aa1d',",
              "    EndToEndId: '5cb8a2db-5c32-41bb-ac27-2597125d50ws',",
              "  }",
              "]",
              "",
              "pm.sendRequest({",
              "    url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',",
              "    method: 'POST',",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },",
              "    body: {",
              "        mode: 'raw',",
              "        raw: JSON.stringify({",
              "            query: `FOR transaction IN ${JSON.stringify(pacs008Transactions)}",
              "                    INSERT {_key: transaction.FIToFICstmrCdt.GrpHdr.MsgId, TxTp: transaction.TxTp, FIToFICstmrCdt: transaction.FIToFICstmrCdt} INTO transactionHistory",
              "                    OPTIONS { overwrite: true }`",
              "        })",
              "    }",
              "});",
              "",
              "pm.sendRequest({",
              "    url: 'http://arango.development:8529/_db/pseudonyms/_api/cursor',",
              "    method: 'POST',",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },",
              "    body: {",
              "        mode: 'raw',",
              "        raw: JSON.stringify({",
              "            query: `FOR transaction IN ${JSON.stringify(transactionGraph)}",
              "                    INSERT transaction INTO transactionRelationship",
              "                    OPTIONS { overwrite: true }`",
              "        })",
              "    }",
              "});",
              "",
              "pm.sendRequest({",
              "    url: 'http://arango.development:8529/_db/Configuration/_api/cursor',",
              "    method: 'POST',",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },",
              "    body: {",
              "        mode: 'raw',",
              "        raw: JSON.stringify({",
              "            query: `FOR config IN ${JSON.stringify(ruleConfig)}",
              "                    INSERT {_key: \"002\", id: config.id, cfg: config.cfg, config: config.config} INTO configuration",
              "                    OPTIONS { overwrite: true }`",
              "        })",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "test",
          "script": {
            "exec": [
              "const jsonData = pm.response.json();",
              "const req = JSON.parse(request.data);",
              "",
              "const ruleConfig = [",
              "    {",
              "  \"id\": \"002@1.0.0\",",
              "  \"cfg\": \"1.0.0\",",
              "  \"config\": {",
              "    \"timeframes\": [",
              "      {",
              "        \"threshold\": 86400000",
              "      }",
              "    ],",
              "    \"bands\": [",
              "      {",
              "        \"subRuleRef\": \".01\",",
              "        \"lowerLimit\": 5,",
              "        \"outcome\": true,",
              "        \"reason\": \"Transaction convergence detected on debtor account\"",
              "      },",
              "      {",
              "        \"subRuleRef\": \".00\",",
              "        \"upperLimit\": 5,",
              "        \"outcome\": false,",
              "        \"reason\": \"No Transaction convergence detected on debtor account\"",
              "      }",
              "    ]",
              "  }",
              "}",
              "]",
              "",
              "const transactions = [\"96ae98292ec04bf29b5d40ba99864c38\"]",
              "const graphTransactions = [\"af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954e90\"]",
              "",
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});",
              "",
              "pm.test(\"should have rule result of true\", function () {",
              "    pm.expect(jsonData.ruleResult.result).to.be.eql(true);",
              "});",
              "",
              "pm.test(\"Remove Seed Data from DB\", function () {",
              "    pm.sendRequest({",
              "        url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',",
              "        method: 'POST',",
              "        header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },",
              "        body: {",
              "            mode: 'raw',",
              "            raw: JSON.stringify({",
              "                query: `FOR transaction IN ${JSON.stringify(transactions)}",
              "                        REMOVE { _key: transaction } IN transactionHistory",
              "                        OPTIONS { ignoreErrors: true }`",
              "            })",
              "        }",
              "    })",
              "});",
              "",
              "pm.test(\"Remove Seed Data from transactionGraph\", function () {",
              "    pm.sendRequest({",
              "        url: 'http://arango.development:8529/_db/pseudonyms/_api/cursor',",
              "        method: 'POST',",
              "        header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },",
              "        body: {",
              "            mode: 'raw',",
              "            raw: JSON.stringify({",
              "                query: `FOR transaction IN ${JSON.stringify(graphTransactions)}",
              "                        REMOVE { _key: transaction } IN transactionRelationship",
              "                        OPTIONS { ignoreErrors: true }`",
              "            })",
              "        }",
              "    })",
              "});",
              "",
              "pm.test(\"Reset rule config\", function () {",
              "    pm.sendRequest({",
              "    url: 'http://arango.development:8529/_db/Configuration/_api/cursor',",
              "    method: 'POST',",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },",
              "    body: {",
              "        mode: 'raw',",
              "        raw: JSON.stringify({",
              "            query: `FOR config IN ${JSON.stringify(ruleConfig)}",
              "                    INSERT {_key: \"002\", id: config.id, cfg: config.cfg, config: config.config} INTO configuration",
              "                    OPTIONS { overwrite: true }`",
              "        })",
              "    }",
              "});",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\n\"transaction\": {\n    \"TxTp\": \"pacs.002.001.12\",\n    \"FIToFIPmtSts\": {\n        \"GrpHdr\": {\n            \"MsgId\": \"6b444365119746c5be7dfb5516ba67c4\",\n            \"CreDtTm\": \"{{now}}\"\n        },\n        \"TxInfAndSts\": {\n            \"OrgnlInstrId\": \"5ab4fc7355de4ef8a75b78b00a681ed2\",\n            \"OrgnlEndToEndId\": \"2c516801007642dfb892944dde1cf845\",\n            \"TxSts\": \"ACCC\",\n            \"ChrgsInf\": [\n                {\n                    \"Amt\": {\n                        \"Amt\": 307.14,\n                        \"Ccy\": \"USD\"\n                    },\n                    \"Agt\": {\n                        \"FinInstnId\": {\n                            \"ClrSysMmbId\": {\n                                \"MmbId\": \"dfsp001\"\n                            }\n                        }\n                    }\n                },\n                {\n                    \"Amt\": {\n                        \"Amt\": 153.57,\n                        \"Ccy\": \"USD\"\n                    },\n                    \"Agt\": {\n                        \"FinInstnId\": {\n                            \"ClrSysMmbId\": {\n                                \"MmbId\": \"dfsp001\"\n                            }\n                        }\n                    }\n                },\n                {\n                    \"Amt\": {\n                        \"Amt\": 30.71,\n                        \"Ccy\": \"USD\"\n                    },\n                    \"Agt\": {\n                        \"FinInstnId\": {\n                            \"ClrSysMmbId\": {\n                                \"MmbId\": \"dfsp002\"\n                            }\n                        }\n                    }\n                }\n            ],\n            \"AccptncDtTm\": \"2021-12-03T15:36:16.000Z\",\n            \"InstgAgt\": {\n                \"FinInstnId\": {\n                    \"ClrSysMmbId\": {\n                        \"MmbId\": \"dfsp001\"\n                    }\n                }\n            },\n            \"InstdAgt\": {\n                \"FinInstnId\": {\n                    \"ClrSysMmbId\": {\n                        \"MmbId\": \"dfsp002\"\n                    }\n                }\n            }\n        }\n    }\n}\n,\n\n\"networkMap\": \n{\n    \"_key\": \"26345403\",\n    \"_id\": \"networkConfiguration/26345403\",\n    \"_rev\": \"_cxc-1vO---\",\n    \"messages\": [\n      {\n        \"id\": \"001@1.0\",\n        \"host\": \"http://openfaas:8080\",\n        \"cfg\": \"1.0\",\n        \"txTp\": \"pain.001.001.11\",\n        \"channels\": [\n          {\n            \"id\": \"001@1.0\",\n            \"host\": \"http://openfaas:8080\",\n            \"cfg\": \"1.0\",\n            \"typologies\": [\n              {\n                \"id\": \"028@1.0\",\n                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\n                \"cfg\": \"028@1.0\",\n                \"rules\": [\n                  {\n                    \"id\": \"003@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  },\n                  {\n                    \"id\": \"028@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  }\n                ]\n              },\n              {\n                \"id\": \"029@1.0\",\n                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\n                \"cfg\": \"029@1.0\",\n                \"rules\": [\n                  {\n                    \"id\": \"003@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  },\n                  {\n                    \"id\": \"005@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  }\n                ]\n              }\n            ]\n          },\n          {\n            \"id\": \"002@1.0\",\n            \"host\": \"http://openfaas:8080\",\n            \"cfg\": \"1.0\",\n            \"typologies\": [\n              {\n                \"id\": \"030@1.0\",\n                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\n                \"cfg\": \"030@1.0\",\n                \"rules\": [\n                  {\n                    \"id\": \"003@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  },\n                  {\n                    \"id\": \"006@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  }\n                ]\n              },\n              {\n                \"id\": \"031@1.0\",\n                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\n                \"cfg\": \"031@1.0\",\n                \"rules\": [\n                  {\n                    \"id\": \"003@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  },\n                  {\n                    \"id\": \"007@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  }\n                ]\n              }\n            ]\n          }\n        ]\n      }\n    ]\n}\n\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "http://gateway.openfaas:8080/function/off-rule-002-rel-1-0-0/execute",
          "protocol": "http",
          "host": ["gateway", "openfaas"],
          "port": "8080",
          "path": ["function", "off-rule-002-rel-1-0-0", "execute"]
        }
      },
      "response": []
    },
    {
      "name": "Test Scenario 5",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "pm.globals.set(\"now\", new Date().toISOString());",
              "",
              "const now = new Date().getTime();",
              "",
              "const ruleConfig = [",
              "    {",
              "  \"id\": \"002@1.0.0\",",
              "  \"cfg\": \"1.0.0\",",
              "  \"config\": {",
              "    \"timeframes\": [",
              "      {",
              "        \"threshold\": 86400000",
              "      }",
              "    ],",
              "    \"bands\": [",
              "      {",
              "        \"subRuleRef\": \".01\",",
              "        \"lowerLimit\": 6,",
              "        \"outcome\": true,",
              "        \"reason\": \"Transaction convergence detected on debtor account\"",
              "      },",
              "      {",
              "        \"subRuleRef\": \".00\",",
              "        \"upperLimit\": 6,",
              "        \"outcome\": false,",
              "        \"reason\": \"No Transaction convergence detected on debtor account\"",
              "      }",
              "    ]",
              "  }",
              "}",
              "]",
              "",
              "const pacs008Transactions = [{",
              "    \"TxTp\": \"pacs.008.001.10\",",
              "    \"FIToFICstmrCdt\": {",
              "        \"GrpHdr\": {",
              "            \"MsgId\": \"96ae98292ec04bf29b5d40ba99864c38\",",
              "            \"CreDtTm\": \"2021-12-03T15:36:15.000Z\",",
              "            \"NbOfTxs\": 1,",
              "            \"SttlmInf\": {",
              "                \"SttlmMtd\": \"CLRG\"",
              "            }",
              "        },",
              "        \"CdtTrfTxInf\": {",
              "            \"PmtId\": {",
              "                \"InstrId\": \"5ab4fc7355de4ef8a75b78b00a681ed2\",",
              "                \"EndToEndId\": \"2c516801007642dfb892944dde1cf845\"",
              "            },",
              "            \"IntrBkSttlmAmt\": {",
              "                \"Amt\": {",
              "                    \"Amt\": 31020.89,",
              "                    \"Ccy\": \"USD\"",
              "                }",
              "            },",
              "            \"InstdAmt\": {",
              "                \"Amt\": {",
              "                    \"Amt\": 31020.89,",
              "                    \"Ccy\": \"USD\"",
              "                }",
              "            },",
              "            \"ChrgBr\": \"DEBT\",",
              "            \"ChrgsInf\": {",
              "                \"Amt\": {",
              "                    \"Amt\": 307.14,",
              "                    \"Ccy\": \"USD\"",
              "                },",
              "                \"Agt\": {",
              "                    \"FinInstnId\": {",
              "                        \"ClrSysMmbId\": {",
              "                            \"MmbId\": \"dfsp001\"",
              "                        }",
              "                    }",
              "                }",
              "            },",
              "            \"InitgPty\": {",
              "                \"Nm\": \"April Blake Grant\",",
              "                \"Id\": {",
              "                    \"PrvtId\": {",
              "                        \"DtAndPlcOfBirth\": {",
              "                            \"BirthDt\": \"1968-02-01\",",
              "                            \"CityOfBirth\": \"Unknown\",",
              "                            \"CtryOfBirth\": \"ZZ\"",
              "                        },",
              "                        \"Othr\": {",
              "                            \"Id\": \"+27730975224\",",
              "                            \"SchmeNm\": {",
              "                                \"Prtry\": \"MSISDN\"",
              "                            }",
              "                        }",
              "                    }",
              "                },",
              "                \"CtctDtls\": {",
              "                    \"MobNb\": \"+27-730975224\"",
              "                }",
              "            },",
              "            \"Dbtr\": {",
              "                \"Nm\": \"April Blake Grant\",",
              "                \"Id\": {",
              "                    \"PrvtId\": {",
              "                        \"DtAndPlcOfBirth\": {",
              "                            \"BirthDt\": \"1968-02-01\",",
              "                            \"CityOfBirth\": \"Unknown\",",
              "                            \"CtryOfBirth\": \"ZZ\"",
              "                        },",
              "                        \"Othr\": {",
              "                            \"Id\": \"+27730975224\",",
              "                            \"SchmeNm\": {",
              "                                \"Prtry\": \"MSISDN\"",
              "                            }",
              "                        }",
              "                    }",
              "                },",
              "                \"CtctDtls\": {",
              "                    \"MobNb\": \"+27-730975224\"",
              "                }",
              "            },",
              "            \"DbtrAcct\": {",
              "                \"Id\": {",
              "                    \"Othr\": {",
              "                        \"Id\": \"e2fa05b6a56ceedb37581703b98590b44194a8c0d2799f4319ebbece5e20ecc1\",",
              "                        \"SchmeNm\": {",
              "                            \"Prtry\": \"PSEUDO\"",
              "                        }",
              "                    }",
              "                },",
              "                \"Nm\": \"April Grant\"",
              "            },",
              "            \"DbtrAgt\": {",
              "                \"FinInstnId\": {",
              "                    \"ClrSysMmbId\": {",
              "                        \"MmbId\": \"dfsp001\"",
              "                    }",
              "                }",
              "            },",
              "            \"CdtrAgt\": {",
              "                \"FinInstnId\": {",
              "                    \"ClrSysMmbId\": {",
              "                        \"MmbId\": \"dfsp002\"",
              "                    }",
              "                }",
              "            },",
              "            \"Cdtr\": {",
              "                \"Nm\": \"Felicia Easton Quill\",",
              "                \"Id\": {",
              "                    \"PrvtId\": {",
              "                        \"DtAndPlcOfBirth\": {",
              "                            \"BirthDt\": \"1935-05-08\",",
              "                            \"CityOfBirth\": \"Unknown\",",
              "                            \"CtryOfBirth\": \"ZZ\"",
              "                        },",
              "                        \"Othr\": {",
              "                            \"Id\": \"+27707650428\",",
              "                            \"SchmeNm\": {",
              "                                \"Prtry\": \"MSISDN\"",
              "                            }",
              "                        }",
              "                    }",
              "                },",
              "                \"CtctDtls\": {",
              "                    \"MobNb\": \"+27-707650428\"",
              "                }",
              "            },",
              "            \"CdtrAcct\": {",
              "                \"Id\": {",
              "                    \"Othr\": {",
              "                        \"Id\": \"efdafefdee55c7a1e5eba4ccc0f01639dc37a020241b20495378f5a1343985b4\",",
              "                        \"SchmeNm\": {",
              "                            \"Prtry\": \"PSEUDO\"",
              "                        }",
              "                    }",
              "                },",
              "                \"Nm\": \"Felicia Quill\"",
              "            },",
              "            \"Purp\": {",
              "                \"Cd\": \"MP2P\"",
              "            }",
              "        },",
              "        \"RgltryRptg\": {",
              "            \"Dtls\": {",
              "                \"Tp\": \"BALANCE OF PAYMENTS\",",
              "                \"Cd\": \"100\"",
              "            }",
              "        },",
              "        \"RmtInf\": {",
              "            \"Ustrd\": \"Payment of USD 30713.75 from April to Felicia\"",
              "        },",
              "        \"SplmtryData\": {",
              "            \"Envlp\": {",
              "                \"Doc\": {",
              "                    \"Xprtn\": \"2021-11-30T10:38:56.000Z\"",
              "                }",
              "            }",
              "        }",
              "    }",
              "}]",
              "",
              "const transactionGraph = [{",
              "    _key: \"af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954e90\",",
              "    _from: \"accounts/e2fa05b6a56ceedb37581703b98590b44194a8c0d2799f4319ebbece5e20ecc1\",",
              "    _to: \"accounts/af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954e90\",",
              "    TxTp: \"pacs.002.001.12\",",
              "    TxSts: \"ACCC\",",
              "    CreDtTm: new Date(new Date(now - 120000).getTime()).toISOString(),",
              "    PmtInfId: \"2f68ae16-467a-4ac4-ba32-eb518646aa1d\",",
              "    EndToEndId: \"5cb8a2db-5c32-41bb-ac27-2597125d50fd\"",
              "},",
              " {",
              "    _key: 'af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954e',",
              "    _from: 'accounts/e2fa05b6a56ceedb37581703b98590b44194a8c0d2799f4319ebbece5e20ecc1',",
              "    _to: 'accounts/af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954e',",
              "    TxTp: 'pacs.002.001.12',",
              "    TxSts: 'ACCC',",
              "    CreDtTm: new Date(new Date(now - 64800000).getTime()).toISOString(),",
              "    PmtInfId: '2f68ae16-467a-4ac4-ba32-eb518646aa1d',",
              "    EndToEndId: '5cb8a2db-5c32-41bb-ac27-2597125d50de',",
              "  },",
              "  {",
              "    _key: 'af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954',",
              "    _from: 'accounts/e2fa05b6a56ceedb37581703b98590b44194a8c0d2799f4319ebbece5e20ecc1',",
              "    _to: 'accounts/af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954',",
              "    TxTp: 'pacs.002.001.12',",
              "    TxSts: 'ACCC',",
              "    CreDtTm: new Date(new Date(now - 64800000).getTime()).toISOString(),",
              "    PmtInfId: '2f68ae16-467a-4ac4-ba32-eb518646aa1d',",
              "    EndToEndId: '5cb8a2db-5c32-41bb-ac27-2597125d50u4',",
              "  },",
              "  {",
              "    _key: 'af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab195',",
              "    _from: 'accounts/e2fa05b6a56ceedb37581703b98590b44194a8c0d2799f4319ebbece5e20ecc1',",
              "    _to: 'accounts/af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab195',",
              "    TxTp: 'pacs.002.001.12',",
              "    TxSts: 'ACCC',",
              "    CreDtTm: new Date(new Date(now - 64800000).getTime()).toISOString(),",
              "    PmtInfId: '2f68ae16-467a-4ac4-ba32-eb518646aa1d',",
              "    EndToEndId: '5cb8a2db-5c32-41bb-ac27-2597125d50vm',",
              "  },",
              "  {",
              "    _key: 'af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab',",
              "    _from: 'accounts/e2fa05b6a56ceedb37581703b98590b44194a8c0d2799f4319ebbece5e20ecc1',",
              "    _to: 'accounts/af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab',",
              "    TxTp: 'pacs.002.001.12',",
              "    TxSts: 'ACCC',",
              "    CreDtTm: new Date(new Date(now - 64800000).getTime()).toISOString(),",
              "    PmtInfId: '2f68ae16-467a-4ac4-ba32-eb518646aa1d',",
              "    EndToEndId: '5cb8a2db-5c32-41bb-ac27-2597125d50ws',",
              "  }",
              "]",
              "",
              "pm.sendRequest({",
              "    url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',",
              "    method: 'POST',",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },",
              "    body: {",
              "        mode: 'raw',",
              "        raw: JSON.stringify({",
              "            query: `FOR transaction IN ${JSON.stringify(pacs008Transactions)}",
              "                    INSERT {_key: transaction.FIToFICstmrCdt.GrpHdr.MsgId, TxTp: transaction.TxTp, FIToFICstmrCdt: transaction.FIToFICstmrCdt} INTO transactionHistory",
              "                    OPTIONS { overwrite: true }`",
              "        })",
              "    }",
              "});",
              "",
              "pm.sendRequest({",
              "    url: 'http://arango.development:8529/_db/pseudonyms/_api/cursor',",
              "    method: 'POST',",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },",
              "    body: {",
              "        mode: 'raw',",
              "        raw: JSON.stringify({",
              "            query: `FOR transaction IN ${JSON.stringify(transactionGraph)}",
              "                    INSERT transaction INTO transactionRelationship",
              "                    OPTIONS { overwrite: true }`",
              "        })",
              "    }",
              "});",
              "",
              "pm.sendRequest({",
              "    url: 'http://arango.development:8529/_db/Configuration/_api/cursor',",
              "    method: 'POST',",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },",
              "    body: {",
              "        mode: 'raw',",
              "        raw: JSON.stringify({",
              "            query: `FOR config IN ${JSON.stringify(ruleConfig)}",
              "                    INSERT {_key: \"002\", id: config.id, cfg: config.cfg, config: config.config} INTO configuration",
              "                    OPTIONS { overwrite: true }`",
              "        })",
              "    }",
              "});"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "test",
          "script": {
            "exec": [
              "const jsonData = pm.response.json();",
              "const req = JSON.parse(request.data);",
              "",
              "const ruleConfig = [",
              "    {",
              "  \"id\": \"002@1.0.0\",",
              "  \"cfg\": \"1.0.0\",",
              "  \"config\": {",
              "    \"timeframes\": [",
              "      {",
              "        \"threshold\": 86400000",
              "      }",
              "    ],",
              "    \"bands\": [",
              "      {",
              "        \"subRuleRef\": \".01\",",
              "        \"lowerLimit\": 5,",
              "        \"outcome\": true,",
              "        \"reason\": \"Transaction convergence detected on debtor account\"",
              "      },",
              "      {",
              "        \"subRuleRef\": \".00\",",
              "        \"upperLimit\": 5,",
              "        \"outcome\": false,",
              "        \"reason\": \"No Transaction convergence detected on debtor account\"",
              "      }",
              "    ]",
              "  }",
              "}",
              "]",
              "",
              "const transactions = [\"96ae98292ec04bf29b5d40ba99864c38\"]",
              "const graphTransactions = [\"af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954e90\", \"af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954e\", \"af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab1954\", \"af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab195\", \"af36cfd29dd05eb483358899055a552af93cd7ae36093832189e63dab\"]",
              "",
              "pm.test(\"Status code is 200\", function () {",
              "    pm.response.to.have.status(200);",
              "});",
              "",
              "pm.test(\"should have rule result of false\", function () {",
              "    pm.expect(jsonData.ruleResult.result).to.be.eql(false);",
              "});",
              "",
              "pm.test(\"Remove Seed Data from DB\", function () {",
              "    pm.sendRequest({",
              "        url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',",
              "        method: 'POST',",
              "        header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },",
              "        body: {",
              "            mode: 'raw',",
              "            raw: JSON.stringify({",
              "                query: `FOR transaction IN ${JSON.stringify(transactions)}",
              "                        REMOVE { _key: transaction } IN transactionHistory",
              "                        OPTIONS { ignoreErrors: true }`",
              "            })",
              "        }",
              "    })",
              "});",
              "",
              "pm.test(\"Remove Seed Data from transactionGraph\", function () {",
              "    pm.sendRequest({",
              "        url: 'http://arango.development:8529/_db/pseudonyms/_api/cursor',",
              "        method: 'POST',",
              "        header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },",
              "        body: {",
              "            mode: 'raw',",
              "            raw: JSON.stringify({",
              "                query: `FOR transaction IN ${JSON.stringify(graphTransactions)}",
              "                        REMOVE { _key: transaction } IN transactionRelationship",
              "                        OPTIONS { ignoreErrors: true }`",
              "            })",
              "        }",
              "    })",
              "});",
              "",
              "pm.test(\"Reset Rule Config\", function () {",
              "    pm.sendRequest({",
              "    url: 'http://arango.development:8529/_db/Configuration/_api/cursor',",
              "    method: 'POST',",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },",
              "    body: {",
              "        mode: 'raw',",
              "        raw: JSON.stringify({",
              "            query: `FOR config IN ${JSON.stringify(ruleConfig)}",
              "                    INSERT {_key: \"002\", id: config.id, cfg: config.cfg, config: config.config} INTO configuration",
              "                    OPTIONS { overwrite: true }`",
              "        })",
              "    }",
              "});",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\n\"transaction\": {\n    \"TxTp\": \"pacs.002.001.12\",\n    \"FIToFIPmtSts\": {\n        \"GrpHdr\": {\n            \"MsgId\": \"6b444365119746c5be7dfb5516ba67c4\",\n            \"CreDtTm\": \"{{now}}\"\n        },\n        \"TxInfAndSts\": {\n            \"OrgnlInstrId\": \"5ab4fc7355de4ef8a75b78b00a681ed2\",\n            \"OrgnlEndToEndId\": \"2c516801007642dfb892944dde1cf845\",\n            \"TxSts\": \"ACCC\",\n            \"ChrgsInf\": [\n                {\n                    \"Amt\": {\n                        \"Amt\": 307.14,\n                        \"Ccy\": \"USD\"\n                    },\n                    \"Agt\": {\n                        \"FinInstnId\": {\n                            \"ClrSysMmbId\": {\n                                \"MmbId\": \"dfsp001\"\n                            }\n                        }\n                    }\n                },\n                {\n                    \"Amt\": {\n                        \"Amt\": 153.57,\n                        \"Ccy\": \"USD\"\n                    },\n                    \"Agt\": {\n                        \"FinInstnId\": {\n                            \"ClrSysMmbId\": {\n                                \"MmbId\": \"dfsp001\"\n                            }\n                        }\n                    }\n                },\n                {\n                    \"Amt\": {\n                        \"Amt\": 30.71,\n                        \"Ccy\": \"USD\"\n                    },\n                    \"Agt\": {\n                        \"FinInstnId\": {\n                            \"ClrSysMmbId\": {\n                                \"MmbId\": \"dfsp002\"\n                            }\n                        }\n                    }\n                }\n            ],\n            \"AccptncDtTm\": \"2021-12-03T15:36:16.000Z\",\n            \"InstgAgt\": {\n                \"FinInstnId\": {\n                    \"ClrSysMmbId\": {\n                        \"MmbId\": \"dfsp001\"\n                    }\n                }\n            },\n            \"InstdAgt\": {\n                \"FinInstnId\": {\n                    \"ClrSysMmbId\": {\n                        \"MmbId\": \"dfsp002\"\n                    }\n                }\n            }\n        }\n    }\n}\n,\n\n\"networkMap\": \n{\n    \"_key\": \"26345403\",\n    \"_id\": \"networkConfiguration/26345403\",\n    \"_rev\": \"_cxc-1vO---\",\n    \"messages\": [\n      {\n        \"id\": \"001@1.0\",\n        \"host\": \"http://openfaas:8080\",\n        \"cfg\": \"1.0\",\n        \"txTp\": \"pain.001.001.11\",\n        \"channels\": [\n          {\n            \"id\": \"001@1.0\",\n            \"host\": \"http://openfaas:8080\",\n            \"cfg\": \"1.0\",\n            \"typologies\": [\n              {\n                \"id\": \"028@1.0\",\n                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\n                \"cfg\": \"028@1.0\",\n                \"rules\": [\n                  {\n                    \"id\": \"003@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  },\n                  {\n                    \"id\": \"028@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  }\n                ]\n              },\n              {\n                \"id\": \"029@1.0\",\n                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\n                \"cfg\": \"029@1.0\",\n                \"rules\": [\n                  {\n                    \"id\": \"003@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  },\n                  {\n                    \"id\": \"005@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  }\n                ]\n              }\n            ]\n          },\n          {\n            \"id\": \"002@1.0\",\n            \"host\": \"http://openfaas:8080\",\n            \"cfg\": \"1.0\",\n            \"typologies\": [\n              {\n                \"id\": \"030@1.0\",\n                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\n                \"cfg\": \"030@1.0\",\n                \"rules\": [\n                  {\n                    \"id\": \"003@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  },\n                  {\n                    \"id\": \"006@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  }\n                ]\n              },\n              {\n                \"id\": \"031@1.0\",\n                \"host\": \"http://gateway.openfaas:8080/function/off-typology-processor\",\n                \"cfg\": \"031@1.0\",\n                \"rules\": [\n                  {\n                    \"id\": \"003@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  },\n                  {\n                    \"id\": \"007@1.0\",\n                    \"host\": \"http://openfaas:8080\",\n                    \"cfg\": \"1.0\"\n                  }\n                ]\n              }\n            ]\n          }\n        ]\n      }\n    ]\n}\n\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "http://gateway.openfaas:8080/function/off-rule-002-rel-1-0-0/execute",
          "protocol": "http",
          "host": ["gateway", "openfaas"],
          "port": "8080",
          "path": ["function", "off-rule-002-rel-1-0-0", "execute"]
        }
      },
      "response": []
    }
  ]
}
