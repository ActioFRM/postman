{
  "info": {
    "_postman_id": "2ca2a082-7bb1-49af-9a91-bddc35d9a61e",
    "name": "Rule-074",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Test Scenario 1",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "// 1 - Velocity < 5km/h TRUE (sub-rule ref .01) (Reasonable walking speed)\r",
              "\r",
              "const now = new Date().getTime();\r",
              "\r",
              "pm.globals.set(\"now\", new Date().toISOString());\r",
              "\r",
              "const ruleConfig = [{\r",
              "  \"id\": \"074@1.0.0\",\r",
              "  \"cfg\": \"1.0.0\",\r",
              "  \"config\": {\r",
              "    \"timeframes\": [\r",
              "      {\r",
              "        \"threshold\": \"3600000\"\r",
              "      }\r",
              "    ],\r",
              "    \"bands\": [\r",
              "      {\r",
              "        \"subRuleRef\": \".01\",\r",
              "        \"upperLimit\": 5,\r",
              "        \"outcome\": true,\r",
              "        \"reason\": \"Reasonable walking speed\"\r",
              "      },\r",
              "      {\r",
              "        \"subRuleRef\": \".02\",\r",
              "        \"lowerLimit\": 5,\r",
              "        \"upperLimit\": 15,\r",
              "        \"outcome\": true,\r",
              "        \"reason\": \"Reasonable cycling speed\"\r",
              "      },\r",
              "      {\r",
              "        \"subRuleRef\": \".03\",\r",
              "        \"lowerLimit\": 15,\r",
              "        \"upperLimit\": 50,\r",
              "        \"outcome\": true,\r",
              "        \"reason\": \"Reasonable driving speed\"\r",
              "      },\r",
              "      {\r",
              "        \"subRuleRef\": \".04\",\r",
              "        \"lowerLimit\": 50,\r",
              "        \"outcome\": true,\r",
              "        \"reason\": \"Ludicrous speed\"\r",
              "      },\r",
              "      {\r",
              "        \"subRuleRef\": \".00\",\r",
              "        \"outcome\": false,\r",
              "        \"reason\": \"Insufficient transaction history\"\r",
              "      }\r",
              "    ]\r",
              "  }\r",
              "}]\r",
              "\r",
              "const pacs002Transactions = [\r",
              "//Incoming pac002 (same endtoend Id)\r",
              "{\r",
              "    \"TxTp\": \"pacs.002.001.12\",\r",
              "    \"FIToFIPmtSts\": {\r",
              "      \"GrpHdr\": {\r",
              "        \"MsgId\": \"30bea71c5ayfd5d8d57f94b2a40e9789\",\r",
              "        \"CreDtTm\": new Date(now).toISOString()\r",
              "      },\r",
              "      \"TxInfAndSts\": {\r",
              "        \"OrgnlInstrId\": \"5ab4fc7355de4ef8a75b78b00a681ed2255\",\r",
              "        \"OrgnlEndToEndId\": \"f0a2d6e99a000c04f304bdc09e47d44ef532fa9e7\",\r",
              "        \"TxSts\": \"ACCC\",\r",
              "        \"ChrgsInf\": [\r",
              "          {\r",
              "            \"Amt\": {\r",
              "              \"Amt\": 307.14,\r",
              "              \"Ccy\": \"USD\"\r",
              "            },\r",
              "            \"Agt\": {\r",
              "              \"FinInstnId\": {\r",
              "                \"ClrSysMmbId\": {\r",
              "                  \"MmbId\": \"dfsp001\"\r",
              "                }\r",
              "              }\r",
              "            }\r",
              "          },\r",
              "          {\r",
              "            \"Amt\": {\r",
              "              \"Amt\": 153.57,\r",
              "              \"Ccy\": \"USD\"\r",
              "            },\r",
              "            \"Agt\": {\r",
              "              \"FinInstnId\": {\r",
              "                \"ClrSysMmbId\": {\r",
              "                  \"MmbId\": \"dfsp001\"\r",
              "                }\r",
              "              }\r",
              "            }\r",
              "          },\r",
              "          {\r",
              "            \"Amt\": {\r",
              "              \"Amt\": 30.71,\r",
              "              \"Ccy\": \"USD\"\r",
              "            },\r",
              "            \"Agt\": {\r",
              "              \"FinInstnId\": {\r",
              "                \"ClrSysMmbId\": {\r",
              "                  \"MmbId\": \"dfsp002\"\r",
              "                }\r",
              "              }\r",
              "            }\r",
              "          }\r",
              "        ],\r",
              "        \"AccptncDtTm\": \"2021-12-03T15:24:26.000Z\",\r",
              "        \"InstgAgt\": {\r",
              "          \"FinInstnId\": {\r",
              "            \"ClrSysMmbId\": {\r",
              "              \"MmbId\": \"dfsp001\"\r",
              "            }\r",
              "          }\r",
              "        },\r",
              "        \"InstdAgt\": {\r",
              "          \"FinInstnId\": {\r",
              "            \"ClrSysMmbId\": {\r",
              "              \"MmbId\": \"dfsp002\"\r",
              "            }\r",
              "          }\r",
              "        }\r",
              "      }\r",
              "    }\r",
              "  }]\r",
              "\r",
              "const pacs008Transactions = [\r",
              "{\r",
              "    \"TxTp\": \"pacs.008.001.10\",\r",
              "    \"FIToFICstmrCdt\": {\r",
              "        \"GrpHdr\": {\r",
              "            \"MsgId\": \"96ae98292ec04bf29b5d40ba99864v42\",\r",
              "            \"CreDtTm\": new Date(now - 10000).toISOString(),\r",
              "            \"NbOfTxs\": 1,\r",
              "            \"SttlmInf\": {\r",
              "                \"SttlmMtd\": \"CLRG\"\r",
              "            }\r",
              "        },\r",
              "        \"CdtTrfTxInf\": {\r",
              "            \"PmtId\": {\r",
              "                \"InstrId\": \"5ab4fc7355de4ef8a75b78b00a681ed2\",\r",
              "                \"EndToEndId\": \"f0a2d6e99a000c04f304bdc09e47d44ef532fa9e7\"\r",
              "            },\r",
              "            \"IntrBkSttlmAmt\": {\r",
              "                \"Amt\": {\r",
              "                    \"Amt\": 31020.89,\r",
              "                    \"Ccy\": \"USD\"\r",
              "                }\r",
              "            },\r",
              "            \"InstdAmt\": {\r",
              "                \"Amt\": {\r",
              "                    \"Amt\": 31020.89,\r",
              "                    \"Ccy\": \"USD\"\r",
              "                }\r",
              "            },\r",
              "            \"ChrgBr\": \"DEBT\",\r",
              "            \"ChrgsInf\": {\r",
              "                \"Amt\": {\r",
              "                    \"Amt\": 307.14,\r",
              "                    \"Ccy\": \"USD\"\r",
              "                },\r",
              "                \"Agt\": {\r",
              "                    \"FinInstnId\": {\r",
              "                        \"ClrSysMmbId\": {\r",
              "                            \"MmbId\": \"dfsp001\"\r",
              "                        }\r",
              "                    }\r",
              "                }\r",
              "            },\r",
              "            \"InitgPty\": {\r",
              "                \"Nm\": \"April Blake Grant\",\r",
              "                \"Id\": {\r",
              "                    \"PrvtId\": {\r",
              "                        \"DtAndPlcOfBirth\": {\r",
              "                            \"BirthDt\": \"1968-02-01\",\r",
              "                            \"CityOfBirth\": \"Unknown\",\r",
              "                            \"CtryOfBirth\": \"ZZ\"\r",
              "                        },\r",
              "                        \"Othr\": {\r",
              "                            \"Id\": \"+27730975224\",\r",
              "                            \"SchmeNm\": {\r",
              "                                \"Prtry\": \"MSISDN\"\r",
              "                            }\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"CtctDtls\": {\r",
              "                    \"MobNb\": \"+27-730975224\"\r",
              "                }\r",
              "            },\r",
              "            \"Dbtr\": {\r",
              "                \"Nm\": \"April Blake Grant\",\r",
              "                \"Id\": {\r",
              "                    \"PrvtId\": {\r",
              "                        \"DtAndPlcOfBirth\": {\r",
              "                            \"BirthDt\": \"1968-02-01\",\r",
              "                            \"CityOfBirth\": \"Unknown\",\r",
              "                            \"CtryOfBirth\": \"ZZ\"\r",
              "                        },\r",
              "                        \"Othr\": {\r",
              "                            \"Id\": \"+27730975224\",\r",
              "                            \"SchmeNm\": {\r",
              "                                \"Prtry\": \"MSISDN\"\r",
              "                            }\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"CtctDtls\": {\r",
              "                    \"MobNb\": \"+27-730975224\"\r",
              "                }\r",
              "            },\r",
              "            \"DbtrAcct\": {\r",
              "                \"Id\": {\r",
              "                    \"Othr\": {\r",
              "                        \"Id\": \"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a19e\",\r",
              "                        \"SchmeNm\": {\r",
              "                            \"Prtry\": \"PSEUDO\"\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"Nm\": \"April Grant\"\r",
              "            },\r",
              "            \"DbtrAgt\": {\r",
              "                \"FinInstnId\": {\r",
              "                    \"ClrSysMmbId\": {\r",
              "                        \"MmbId\": \"dfsp001\"\r",
              "                    }\r",
              "                }\r",
              "            },\r",
              "            \"CdtrAgt\": {\r",
              "                \"FinInstnId\": {\r",
              "                    \"ClrSysMmbId\": {\r",
              "                        \"MmbId\": \"dfsp002\"\r",
              "                    }\r",
              "                }\r",
              "            },\r",
              "            \"Cdtr\": {\r",
              "                \"Nm\": \"Felicia Easton Quill\",\r",
              "                \"Id\": {\r",
              "                    \"PrvtId\": {\r",
              "                        \"DtAndPlcOfBirth\": {\r",
              "                            \"BirthDt\": \"1935-05-08\",\r",
              "                            \"CityOfBirth\": \"Unknown\",\r",
              "                            \"CtryOfBirth\": \"ZZ\"\r",
              "                        },\r",
              "                        \"Othr\": {\r",
              "                            \"Id\": \"+27707650428\",\r",
              "                            \"SchmeNm\": {\r",
              "                                \"Prtry\": \"MSISDN\"\r",
              "                            }\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"CtctDtls\": {\r",
              "                    \"MobNb\": \"+27-707650428\"\r",
              "                }\r",
              "            },\r",
              "            \"CdtrAcct\": {\r",
              "                \"Id\": {\r",
              "                    \"Othr\": {\r",
              "                        \"Id\": \"efdafefdee55c7a1e5eba4ccc0f01639dc37a020241b20495378f5a1343985b4\",\r",
              "                        \"SchmeNm\": {\r",
              "                            \"Prtry\": \"PSEUDO\"\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"Nm\": \"Felicia Quill\"\r",
              "            },\r",
              "            \"Purp\": {\r",
              "                \"Cd\": \"MP2P\"\r",
              "            }\r",
              "        },\r",
              "        \"RgltryRptg\": {\r",
              "            \"Dtls\": {\r",
              "                \"Tp\": \"BALANCE OF PAYMENTS\",\r",
              "                \"Cd\": \"100\"\r",
              "            }\r",
              "        },\r",
              "        \"RmtInf\": {\r",
              "            \"Ustrd\": \"Payment of USD 30713.75 from April to Felicia\"\r",
              "        },\r",
              "        \"SplmtryData\": {\r",
              "            \"Envlp\": {\r",
              "                \"Doc\": {\r",
              "                    \"Xprtn\": \"2021-11-30T10:38:56.000Z\"\r",
              "                }\r",
              "            }\r",
              "        }\r",
              "    }\r",
              "}\r",
              "\r",
              "\r",
              "]\r",
              "\r",
              "const pain001Transactions = [\r",
              "{\r",
              "   \"TxTp\":\"pain.001.001.11\",\r",
              "   \"CstmrCdtTrfInitn\":{\r",
              "      \"GrpHdr\":{\r",
              "         \"MsgId\":\"2nfe98292ec04bf29b5d40ba998648gh\",\r",
              "         \"CreDtTm\": new Date(new Date(now - 30000).getTime()).toISOString(),\r",
              "         \"NbOfTxs\":1,\r",
              "         \"InitgPty\":{\r",
              "            \"Nm\":\"Ivan Reese Russel-Klein\",\r",
              "            \"Id\":{\r",
              "               \"PrvtId\":{\r",
              "                  \"DtAndPlcOfBirth\":{\r",
              "                     \"BirthDt\":\"1967-11-23\",\r",
              "                     \"CityOfBirth\":\"Unknown\",\r",
              "                     \"CtryOfBirth\":\"ZZ\"\r",
              "                  },\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"CtctDtls\":{\r",
              "               \"MobNb\":\"\"\r",
              "            }\r",
              "         }\r",
              "      },\r",
              "      \"PmtInf\":{\r",
              "         \"PmtInfId\":\"2c516801007642dfb892944dde1cf845897\",\r",
              "         \"PmtMtd\":\"TRA\",\r",
              "         \"ReqdAdvcTp\":{\r",
              "            \"DbtAdvc\":{\r",
              "               \"Cd\":\"ADWD\",\r",
              "               \"Prtry\":\"Advice with transaction details\"\r",
              "            }\r",
              "         },\r",
              "         \"ReqdExctnDt\":{\r",
              "            \"Dt\":\"2021-10-07\",\r",
              "            \"DtTm\":\"2021-10-07T09:25:31.000Z\"\r",
              "         },\r",
              "         \"Dbtr\":{\r",
              "            \"Nm\":\"Ivan Reese Russel-Klein\",\r",
              "            \"Id\":{\r",
              "               \"PrvtId\":{\r",
              "                  \"DtAndPlcOfBirth\":{\r",
              "                     \"BirthDt\":\"1967-11-23\",\r",
              "                     \"CityOfBirth\":\"Unknown\",\r",
              "                     \"CtryOfBirth\":\"ZZ\"\r",
              "                  },\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"CtctDtls\":{\r",
              "               \"MobNb\":\"\"\r",
              "            }\r",
              "         },\r",
              "         \"DbtrAcct\":{\r",
              "            \"Id\":{\r",
              "               \"Othr\":{\r",
              "                  \"Id\":\"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a19e\",\r",
              "                  \"SchmeNm\":{\r",
              "                     \"Prtry\":\"PASSPORT\"\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"Nm\":\"Ivan Russel-Klein\"\r",
              "         },\r",
              "         \"DbtrAgt\":{\r",
              "            \"FinInstnId\":{\r",
              "               \"ClrSysMmbId\":{\r",
              "                  \"MmbId\":\"dfsp001\"\r",
              "               }\r",
              "            }\r",
              "         },\r",
              "         \"CdtTrfTxInf\":{\r",
              "            \"PmtId\":{\r",
              "               \"EndToEndId\":\"f0a2d6e99a000c04f304bdc09e47d44ef532fa9e7\"\r",
              "            },\r",
              "            \"PmtTpInf\":{\r",
              "               \"CtgyPurp\":{\r",
              "                  \"Prtry\":\"TRANSFER\"\r",
              "               }\r",
              "            },\r",
              "            \"Amt\":{\r",
              "               \"InstdAmt\":{\r",
              "                  \"Amt\":{\r",
              "                     \"Amt\":\"50431891779910900\",\r",
              "                     \"Ccy\":\"USD\"\r",
              "                  }\r",
              "               },\r",
              "               \"EqvtAmt\":{\r",
              "                  \"Amt\":{\r",
              "                     \"Amt\":\"50431891779910900\",\r",
              "                     \"Ccy\":\"USD\"\r",
              "                  },\r",
              "                  \"CcyOfTrf\":\"USD\"\r",
              "               }\r",
              "            },\r",
              "            \"ChrgBr\":\"DEBT\",\r",
              "            \"CdtrAgt\":{\r",
              "               \"FinInstnId\":{\r",
              "                  \"ClrSysMmbId\":{\r",
              "                     \"MmbId\":\"dfsp002\"\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"Cdtr\":{\r",
              "               \"Nm\":\"\",\r",
              "               \"Id\":{\r",
              "                  \"PrvtId\":{\r",
              "                     \"DtAndPlcOfBirth\":{\r",
              "                        \"BirthDt\":\"1923-04-26\",\r",
              "                        \"CityOfBirth\":\"\",\r",
              "                        \"CtryOfBirth\":\"\"\r",
              "                     },\r",
              "                     \"Othr\":{\r",
              "                        \"Id\":\"\",\r",
              "                        \"SchmeNm\":{\r",
              "                           \"Prtry\":\"MSISDN\"\r",
              "                        }\r",
              "                     }\r",
              "                  }\r",
              "               },\r",
              "               \"CtctDtls\":{\r",
              "                  \"MobNb\":\"\"\r",
              "               }\r",
              "            },\r",
              "            \"CdtrAcct\":{\r",
              "               \"Id\":{\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a23c\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               },\r",
              "               \"Nm\":\"April Adamson\"\r",
              "            },\r",
              "            \"Purp\":{\r",
              "               \"Cd\":\"MP2P\"\r",
              "            },\r",
              "            \"RgltryRptg\":{\r",
              "               \"Dtls\":{\r",
              "                  \"Tp\":\"BALANCE OF PAYMENTS\",\r",
              "                  \"Cd\":\"100\"\r",
              "               }\r",
              "            },\r",
              "            \"RmtInf\":{\r",
              "               \"Ustrd\":\"Payment of USD 49932566118723700.89 from Ivan to April\"\r",
              "            },\r",
              "            \"SplmtryData\":{\r",
              "               \"Envlp\":{\r",
              "                  \"Doc\":{\r",
              "                     \"Cdtr\":{\r",
              "                        \"FrstNm\":\"Ivan\",\r",
              "                        \"MddlNm\":\"Reese\",\r",
              "                        \"LastNm\":\"Russel-Klein\",\r",
              "                        \"MrchntClssfctnCd\":\"BLANK\"\r",
              "                     },\r",
              "                     \"Dbtr\":{\r",
              "                        \"FrstNm\":\"\",\r",
              "                        \"MddlNm\":\"\",\r",
              "                        \"LastNm\":\"\",\r",
              "                        \"MrchntClssfctnCd\":\"BLANK\"\r",
              "                     },\r",
              "                     \"DbtrFinSvcsPrvdrFees\":{\r",
              "                        \"Ccy\":\"USD\",\r",
              "                        \"Amt\":\"499325661187237\"\r",
              "                     },\r",
              "                     \"Xprtn\":\"2021-10-07T09:30:31.000Z\"\r",
              "                  }\r",
              "               }\r",
              "            }\r",
              "         }\r",
              "      },\r",
              "      \"SplmtryData\":{\r",
              "         \"Envlp\":{\r",
              "            \"Doc\":{\r",
              "               \"InitgPty\":{\r",
              "                  \"InitrTp\":\"CONSUMER\",\r",
              "                  \"Glctn\":{\r",
              "                     \"Lat\":\"-3.1341\",\r",
              "                     \"Long\":\"38.4238\"\r",
              "                  }\r",
              "               }\r",
              "            }\r",
              "         }\r",
              "      }\r",
              "   }\r",
              "},\r",
              "\r",
              "{\r",
              "   \"TxTp\":\"pain.001.001.11\",\r",
              "   \"CstmrCdtTrfInitn\":{ \r",
              "      \"GrpHdr\":{\r",
              "         \"MsgId\":\"5fse98292ec04bf29b5d40ba99864of5\",\r",
              "         \"CreDtTm\": new Date(new Date(now - 3300000).getTime()).toISOString(),\r",
              "         \"NbOfTxs\":1,\r",
              "         \"InitgPty\":{\r",
              "            \"Nm\":\"Ivan Reese Russel-Klein\",\r",
              "            \"Id\":{\r",
              "               \"PrvtId\":{\r",
              "                  \"DtAndPlcOfBirth\":{\r",
              "                     \"BirthDt\":\"1967-11-23\",\r",
              "                     \"CityOfBirth\":\"Unknown\",\r",
              "                     \"CtryOfBirth\":\"ZZ\"\r",
              "                  },\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"CtctDtls\":{\r",
              "               \"MobNb\":\"\"\r",
              "            }\r",
              "         }\r",
              "      },\r",
              "      \"PmtInf\":{\r",
              "         \"PmtInfId\":\"2c516801007642dfb892944dde1cf845897\",\r",
              "         \"PmtMtd\":\"TRA\",\r",
              "         \"ReqdAdvcTp\":{\r",
              "            \"DbtAdvc\":{\r",
              "               \"Cd\":\"ADWD\",\r",
              "               \"Prtry\":\"Advice with transaction details\"\r",
              "            }\r",
              "         },\r",
              "         \"ReqdExctnDt\":{\r",
              "            \"Dt\":\"2021-10-07\",\r",
              "            \"DtTm\":\"2021-10-07T09:25:31.000Z\"\r",
              "         },\r",
              "         \"Dbtr\":{\r",
              "            \"Nm\":\"Ivan Reese Russel-Klein\",\r",
              "            \"Id\":{\r",
              "               \"PrvtId\":{\r",
              "                  \"DtAndPlcOfBirth\":{\r",
              "                     \"BirthDt\":\"1967-11-23\",\r",
              "                     \"CityOfBirth\":\"Unknown\",\r",
              "                     \"CtryOfBirth\":\"ZZ\"\r",
              "                  },\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"CtctDtls\":{\r",
              "               \"MobNb\":\"\"\r",
              "            }\r",
              "         },\r",
              "         \"DbtrAcct\":{\r",
              "            \"Id\":{\r",
              "               \"Othr\":{\r",
              "                  \"Id\":\"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a19e\",\r",
              "                  \"SchmeNm\":{\r",
              "                     \"Prtry\":\"PASSPORT\"\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"Nm\":\"Ivan Russel-Klein\"\r",
              "         },\r",
              "         \"DbtrAgt\":{\r",
              "            \"FinInstnId\":{\r",
              "               \"ClrSysMmbId\":{\r",
              "                  \"MmbId\":\"dfsp001\"\r",
              "               } \r",
              "            }\r",
              "         },\r",
              "         \"CdtTrfTxInf\":{\r",
              "            \"PmtId\":{\r",
              "               \"EndToEndId\":\"f809cd40bda73f0a2d6e99a000c04f304bdc09e47\"\r",
              "            },\r",
              "            \"PmtTpInf\":{\r",
              "               \"CtgyPurp\":{\r",
              "                  \"Prtry\":\"TRANSFER\"\r",
              "               }\r",
              "            },\r",
              "            \"Amt\":{\r",
              "               \"InstdAmt\":{\r",
              "                  \"Amt\":{\r",
              "                     \"Amt\":\"50431891779910900\",\r",
              "                     \"Ccy\":\"USD\"\r",
              "                  }\r",
              "               },\r",
              "               \"EqvtAmt\":{\r",
              "                  \"Amt\":{\r",
              "                     \"Amt\":\"50431891779910900\",\r",
              "                     \"Ccy\":\"USD\"\r",
              "                  },\r",
              "                  \"CcyOfTrf\":\"USD\"\r",
              "               }\r",
              "            },\r",
              "            \"ChrgBr\":\"DEBT\",\r",
              "            \"CdtrAgt\":{\r",
              "               \"FinInstnId\":{\r",
              "                  \"ClrSysMmbId\":{\r",
              "                     \"MmbId\":\"dfsp002\"\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"Cdtr\":{\r",
              "               \"Nm\":\"\",\r",
              "               \"Id\":{\r",
              "                  \"PrvtId\":{\r",
              "                     \"DtAndPlcOfBirth\":{\r",
              "                        \"BirthDt\":\"1923-04-26\",\r",
              "                        \"CityOfBirth\":\"\",\r",
              "                        \"CtryOfBirth\":\"\"\r",
              "                     },\r",
              "                     \"Othr\":{\r",
              "                        \"Id\":\"\",\r",
              "                        \"SchmeNm\":{\r",
              "                           \"Prtry\":\"MSISDN\"\r",
              "                        }\r",
              "                     }\r",
              "                  }\r",
              "               },\r",
              "               \"CtctDtls\":{\r",
              "                  \"MobNb\":\"\"\r",
              "               }\r",
              "            },\r",
              "            \"CdtrAcct\":{\r",
              "               \"Id\":{\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a24c\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               },\r",
              "               \"Nm\":\"April Adamson\"\r",
              "            },\r",
              "            \"Purp\":{\r",
              "               \"Cd\":\"MP2P\"\r",
              "            },\r",
              "            \"RgltryRptg\":{\r",
              "               \"Dtls\":{\r",
              "                  \"Tp\":\"BALANCE OF PAYMENTS\",\r",
              "                  \"Cd\":\"100\"\r",
              "               }\r",
              "            },\r",
              "            \"RmtInf\":{\r",
              "               \"Ustrd\":\"Payment of USD 49932566118723700.89 from Ivan to April\"\r",
              "            },\r",
              "            \"SplmtryData\":{\r",
              "               \"Envlp\":{\r",
              "                  \"Doc\":{\r",
              "                     \"Cdtr\":{\r",
              "                        \"FrstNm\":\"Ivan\",\r",
              "                        \"MddlNm\":\"Reese\",\r",
              "                        \"LastNm\":\"Russel-Klein\",\r",
              "                        \"MrchntClssfctnCd\":\"BLANK\"\r",
              "                     },\r",
              "                     \"Dbtr\":{\r",
              "                        \"FrstNm\":\"\",\r",
              "                        \"MddlNm\":\"\",\r",
              "                        \"LastNm\":\"\",\r",
              "                        \"MrchntClssfctnCd\":\"BLANK\"\r",
              "                     },\r",
              "                     \"DbtrFinSvcsPrvdrFees\":{\r",
              "                        \"Ccy\":\"USD\",\r",
              "                        \"Amt\":\"499325661187237\"\r",
              "                     },\r",
              "                     \"Xprtn\":\"2021-10-07T09:30:31.000Z\"\r",
              "                  }\r",
              "               }\r",
              "            }\r",
              "         }\r",
              "      },\r",
              "      \"SplmtryData\":{\r",
              "         \"Envlp\":{\r",
              "            \"Doc\":{\r",
              "               \"InitgPty\":{\r",
              "                  \"InitrTp\":\"CONSUMER\",\r",
              "                  \"Glctn\":{\r",
              "                     \"Lat\":\"-3.1041\",\r",
              "                     \"Long\":\"38.4238\"\r",
              "                  }\r",
              "               }\r",
              "            }\r",
              "         }\r",
              "      }\r",
              "   }\r",
              "}]\r",
              "\r",
              "pm.sendRequest({\r",
              "    url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',\r",
              "    method: 'POST',\r",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "    body: {\r",
              "        mode: 'raw',\r",
              "        raw: JSON.stringify({\r",
              "            query: `FOR transaction IN ${JSON.stringify(pacs002Transactions)}\r",
              "                    INSERT {_key: transaction.FIToFIPmtSts.GrpHdr.MsgId, TxTp: transaction.TxTp, FIToFIPmtSts: transaction.FIToFIPmtSts} INTO transactionHistory\r",
              "                    OPTIONS { overwrite: true }`\r",
              "        })\r",
              "    }\r",
              "});\r",
              "\r",
              "pm.sendRequest({\r",
              "    url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',\r",
              "    method: 'POST',\r",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "    body: {\r",
              "        mode: 'raw',\r",
              "        raw: JSON.stringify({\r",
              "            query: `FOR transaction IN ${JSON.stringify(pacs008Transactions)}\r",
              "                    INSERT {_key: transaction.FIToFICstmrCdt.GrpHdr.MsgId, TxTp: transaction.TxTp, FIToFICstmrCdt: transaction.FIToFICstmrCdt} INTO transactionHistory\r",
              "                    OPTIONS { overwrite: true }`\r",
              "        })\r",
              "    }\r",
              "});\r",
              "\r",
              "pm.sendRequest({\r",
              "    url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',\r",
              "    method: 'POST',\r",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "    body: {\r",
              "        mode: 'raw',\r",
              "        raw: JSON.stringify({\r",
              "            query: `FOR transaction IN ${JSON.stringify(pain001Transactions)}\r",
              "                    INSERT {_key: transaction.CstmrCdtTrfInitn.GrpHdr.MsgId, TxTp: transaction.TxTp, CstmrCdtTrfInitn: transaction.CstmrCdtTrfInitn} INTO transactionHistory\r",
              "                    OPTIONS { overwrite: true }`\r",
              "        })\r",
              "    }\r",
              "});\r",
              "\r",
              "\r",
              "pm.sendRequest({\r",
              "    url: 'http://arango.development:8529/_db/Configuration/_api/cursor',\r",
              "    method: 'POST',\r",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "    body: {\r",
              "        mode: 'raw',\r",
              "        raw: JSON.stringify({\r",
              "            query: `FOR config IN ${JSON.stringify(ruleConfig)}\r",
              "                    INSERT {_key: \"074\", id: config.id, cfg: config.cfg, config: config.config} INTO configuration\r",
              "                    OPTIONS { overwrite: true }`\r",
              "        })\r",
              "    }\r",
              "});"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "test",
          "script": {
            "exec": [
              "// 1 - Velocity < 5km/h TRUE (sub-rule ref .01) (Reasonable walking speed)\r",
              "\r",
              "const jsonData = pm.response.json();\r",
              "const req = JSON.parse(request.data);\r",
              "\r",
              "const transactions = [\r",
              "    \"30bea71c5ayfd5d8d57f94b2a40e9789\",\r",
              "    \"96ae98292ec04bf29b5d40ba99864v42\",\r",
              "    \"2nfe98292ec04bf29b5d40ba998648gh\",\r",
              "    \"5fse98292ec04bf29b5d40ba99864of5\"\r",
              "]\r",
              "\r",
              "\r",
              "pm.test(\"Status code is 200\", function () {\r",
              "    pm.response.to.have.status(200);\r",
              "});\r",
              "\r",
              "pm.test(\"should have rule result of true\", function () {\r",
              "    pm.expect(jsonData.ruleResult.result).to.be.eql(true);\r",
              "\r",
              "});\r",
              "\r",
              "pm.test(\"should have rule reason of 'Reasonable walking speed' \", function () {\r",
              "    pm.expect(jsonData.ruleResult.reason).to.be.eql(\"Reasonable walking speed\");\r",
              "});\r",
              "\r",
              "pm.test(\"should have rule subRuleRef of '.01' \", function () {\r",
              "    pm.expect(jsonData.ruleResult.subRuleRef).to.be.eql(\".01\");\r",
              "});\r",
              "\r",
              "pm.test(\"Remove Seed Data from DB\", function () {\r",
              "    pm.sendRequest({\r",
              "        url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',\r",
              "        method: 'POST',\r",
              "        header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "        body: {\r",
              "            mode: 'raw',\r",
              "            raw: JSON.stringify({\r",
              "                query: `FOR transaction IN ${JSON.stringify(transactions)}\r",
              "                        REMOVE { _key: transaction } IN transactionHistory\r",
              "                        OPTIONS { ignoreErrors: true }`\r",
              "            })\r",
              "        }\r",
              "    })\r",
              "});\r",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"transaction\": {\r\n    \"TxTp\": \"pacs.002.001.12\",\r\n    \"FIToFIPmtSts\": {\r\n      \"GrpHdr\": {\r\n        \"MsgId\": \"30bea71c5a054978ad0da7f94b2a40e9789\",\r\n        \"CreDtTm\": \"{{now}}\"\r\n      },\r\n      \"TxInfAndSts\": {\r\n        \"OrgnlInstrId\": \"5ab4fc7355de4ef8a75b78b00a681ed2255\",\r\n        \"OrgnlEndToEndId\": \"f0a2d6e99a000c04f304bdc09e47d44ef532fa9e7\",\r\n        \"TxSts\": \"ACCC\",\r\n        \"ChrgsInf\": [\r\n          {\r\n            \"Amt\": {\r\n              \"Amt\": 307.14,\r\n              \"Ccy\": \"USD\"\r\n            },\r\n            \"Agt\": {\r\n              \"FinInstnId\": {\r\n                \"ClrSysMmbId\": {\r\n                  \"MmbId\": \"dfsp001\"\r\n                }\r\n              }\r\n            }\r\n          },\r\n          {\r\n            \"Amt\": {\r\n              \"Amt\": 153.57,\r\n              \"Ccy\": \"USD\"\r\n            },\r\n            \"Agt\": {\r\n              \"FinInstnId\": {\r\n                \"ClrSysMmbId\": {\r\n                  \"MmbId\": \"dfsp001\"\r\n                }\r\n              }\r\n            }\r\n          },\r\n          {\r\n            \"Amt\": {\r\n              \"Amt\": 30.71,\r\n              \"Ccy\": \"USD\"\r\n            },\r\n            \"Agt\": {\r\n              \"FinInstnId\": {\r\n                \"ClrSysMmbId\": {\r\n                  \"MmbId\": \"dfsp002\"\r\n                }\r\n              }\r\n            }\r\n          }\r\n        ],\r\n        \"AccptncDtTm\": \"2021-12-03T15:24:26.000Z\",\r\n        \"InstgAgt\": {\r\n          \"FinInstnId\": {\r\n            \"ClrSysMmbId\": {\r\n              \"MmbId\": \"dfsp001\"\r\n            }\r\n          }\r\n        },\r\n        \"InstdAgt\": {\r\n          \"FinInstnId\": {\r\n            \"ClrSysMmbId\": {\r\n              \"MmbId\": \"dfsp002\"\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \"networkMap\": {\r\n    \"messages\": [\r\n      {\r\n        \"id\": \"004@1.0.0\",\r\n        \"host\": \"https://gateway.openfaas:8080/function/off-transaction-aggregation-decisioning-processor-rel-1-0-0\",\r\n        \"cfg\": \"1.0.0\",\r\n        \"txTp\": \"pacs.002.001.12\",\r\n        \"channels\": [\r\n          {\r\n            \"id\": \"001@1.0.0\",\r\n            \"host\": \"https://gateway.openfaas:8080/function/off-channel-aggregation-decisioning-processor-rel-1-0-0\",\r\n            \"cfg\": \"1.0.0\",\r\n            \"typologies\": [\r\n              {\r\n                \"id\": \"028@1.0.0\",\r\n                \"host\": \"https://gateway.openfaas:8080/function/off-typology-processor-rel-1-0-0\",\r\n                \"cfg\": \"1.0.0\",\r\n                \"rules\": [\r\n                  {\r\n                    \"id\": \"074@1.0.0\",\r\n                    \"host\": \"https://gateway.openfaas:8080/function/off-rule-074-rel-1-0-0\",\r\n                    \"cfg\": \"1.0.0\"\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n}\r\n",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "http://gateway.openfaas:8080/function/off-rule-074-rel-1-0-0",
          "protocol": "http",
          "host": ["gateway", "openfaas"],
          "port": "8080",
          "path": ["function", "off-rule-074-rel-1-0-0"]
        }
      },
      "response": []
    },
    {
      "name": "Test Scenario 2",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "// 2 - Velocity >= 5km/h, < 15km/h TRUE (sub-rule ref .02) (Reasonable cycling speed)\r",
              "\r",
              "const now = new Date().getTime();\r",
              "\r",
              "pm.globals.set(\"now\", new Date().toISOString());\r",
              "\r",
              "const ruleConfig = [{\r",
              "  \"id\": \"074@1.0.0\",\r",
              "  \"cfg\": \"1.0.0\",\r",
              "  \"config\": {\r",
              "    \"timeframes\": [\r",
              "      {\r",
              "        \"threshold\": \"3600000\"\r",
              "      }\r",
              "    ],\r",
              "    \"bands\": [\r",
              "      {\r",
              "        \"subRuleRef\": \".01\",\r",
              "        \"upperLimit\": 5,\r",
              "        \"outcome\": true,\r",
              "        \"reason\": \"Reasonable walking speed\"\r",
              "      },\r",
              "      {\r",
              "        \"subRuleRef\": \".02\",\r",
              "        \"lowerLimit\": 5,\r",
              "        \"upperLimit\": 15,\r",
              "        \"outcome\": true,\r",
              "        \"reason\": \"Reasonable cycling speed\"\r",
              "      },\r",
              "      {\r",
              "        \"subRuleRef\": \".03\",\r",
              "        \"lowerLimit\": 15,\r",
              "        \"upperLimit\": 50,\r",
              "        \"outcome\": true,\r",
              "        \"reason\": \"Reasonable driving speed\"\r",
              "      },\r",
              "      {\r",
              "        \"subRuleRef\": \".04\",\r",
              "        \"lowerLimit\": 50,\r",
              "        \"outcome\": true,\r",
              "        \"reason\": \"Ludicrous speed\"\r",
              "      },\r",
              "      {\r",
              "        \"subRuleRef\": \".00\",\r",
              "        \"outcome\": false,\r",
              "        \"reason\": \"Insufficient transaction history\"\r",
              "      }\r",
              "    ]\r",
              "  }\r",
              "}]\r",
              "\r",
              "const pacs002Transactions = [\r",
              "//Incoming pac002 (same endtoend Id)\r",
              "{\r",
              "    \"TxTp\": \"pacs.002.001.12\",\r",
              "    \"FIToFIPmtSts\": {\r",
              "      \"GrpHdr\": {\r",
              "        \"MsgId\": \"30bea71c5ayfd5d8d57f94b2a40e9789\",\r",
              "        \"CreDtTm\": new Date(now).toISOString()\r",
              "      },\r",
              "      \"TxInfAndSts\": {\r",
              "        \"OrgnlInstrId\": \"5ab4fc7355de4ef8a75b78b00a681ed2255\",\r",
              "        \"OrgnlEndToEndId\": \"f0a2d6e99a000c04f304bdc09e47d44ef532fa9e7\",\r",
              "        \"TxSts\": \"ACCC\",\r",
              "        \"ChrgsInf\": [\r",
              "          {\r",
              "            \"Amt\": {\r",
              "              \"Amt\": 307.14,\r",
              "              \"Ccy\": \"USD\"\r",
              "            },\r",
              "            \"Agt\": {\r",
              "              \"FinInstnId\": {\r",
              "                \"ClrSysMmbId\": {\r",
              "                  \"MmbId\": \"dfsp001\"\r",
              "                }\r",
              "              }\r",
              "            }\r",
              "          },\r",
              "          {\r",
              "            \"Amt\": {\r",
              "              \"Amt\": 153.57,\r",
              "              \"Ccy\": \"USD\"\r",
              "            },\r",
              "            \"Agt\": {\r",
              "              \"FinInstnId\": {\r",
              "                \"ClrSysMmbId\": {\r",
              "                  \"MmbId\": \"dfsp001\"\r",
              "                }\r",
              "              }\r",
              "            }\r",
              "          },\r",
              "          {\r",
              "            \"Amt\": {\r",
              "              \"Amt\": 30.71,\r",
              "              \"Ccy\": \"USD\"\r",
              "            },\r",
              "            \"Agt\": {\r",
              "              \"FinInstnId\": {\r",
              "                \"ClrSysMmbId\": {\r",
              "                  \"MmbId\": \"dfsp002\"\r",
              "                }\r",
              "              }\r",
              "            }\r",
              "          }\r",
              "        ],\r",
              "        \"AccptncDtTm\": \"2021-12-03T15:24:26.000Z\",\r",
              "        \"InstgAgt\": {\r",
              "          \"FinInstnId\": {\r",
              "            \"ClrSysMmbId\": {\r",
              "              \"MmbId\": \"dfsp001\"\r",
              "            }\r",
              "          }\r",
              "        },\r",
              "        \"InstdAgt\": {\r",
              "          \"FinInstnId\": {\r",
              "            \"ClrSysMmbId\": {\r",
              "              \"MmbId\": \"dfsp002\"\r",
              "            }\r",
              "          }\r",
              "        }\r",
              "      }\r",
              "    }\r",
              "  }]\r",
              "\r",
              "const pacs008Transactions = [\r",
              "{\r",
              "    \"TxTp\": \"pacs.008.001.10\",\r",
              "    \"FIToFICstmrCdt\": {\r",
              "        \"GrpHdr\": {\r",
              "            \"MsgId\": \"96ae98292ec04bf29b5d40ba99864v42\",\r",
              "            \"CreDtTm\": new Date(now - 10000).toISOString(),\r",
              "            \"NbOfTxs\": 1,\r",
              "            \"SttlmInf\": {\r",
              "                \"SttlmMtd\": \"CLRG\"\r",
              "            }\r",
              "        },\r",
              "        \"CdtTrfTxInf\": {\r",
              "            \"PmtId\": {\r",
              "                \"InstrId\": \"5ab4fc7355de4ef8a75b78b00a681ed2\",\r",
              "                \"EndToEndId\": \"f0a2d6e99a000c04f304bdc09e47d44ef532fa9e7\"\r",
              "            },\r",
              "            \"IntrBkSttlmAmt\": {\r",
              "                \"Amt\": {\r",
              "                    \"Amt\": 31020.89,\r",
              "                    \"Ccy\": \"USD\"\r",
              "                }\r",
              "            },\r",
              "            \"InstdAmt\": {\r",
              "                \"Amt\": {\r",
              "                    \"Amt\": 31020.89,\r",
              "                    \"Ccy\": \"USD\"\r",
              "                }\r",
              "            },\r",
              "            \"ChrgBr\": \"DEBT\",\r",
              "            \"ChrgsInf\": {\r",
              "                \"Amt\": {\r",
              "                    \"Amt\": 307.14,\r",
              "                    \"Ccy\": \"USD\"\r",
              "                },\r",
              "                \"Agt\": {\r",
              "                    \"FinInstnId\": {\r",
              "                        \"ClrSysMmbId\": {\r",
              "                            \"MmbId\": \"dfsp001\"\r",
              "                        }\r",
              "                    }\r",
              "                }\r",
              "            },\r",
              "            \"InitgPty\": {\r",
              "                \"Nm\": \"April Blake Grant\",\r",
              "                \"Id\": {\r",
              "                    \"PrvtId\": {\r",
              "                        \"DtAndPlcOfBirth\": {\r",
              "                            \"BirthDt\": \"1968-02-01\",\r",
              "                            \"CityOfBirth\": \"Unknown\",\r",
              "                            \"CtryOfBirth\": \"ZZ\"\r",
              "                        },\r",
              "                        \"Othr\": {\r",
              "                            \"Id\": \"+27730975224\",\r",
              "                            \"SchmeNm\": {\r",
              "                                \"Prtry\": \"MSISDN\"\r",
              "                            }\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"CtctDtls\": {\r",
              "                    \"MobNb\": \"+27-730975224\"\r",
              "                }\r",
              "            },\r",
              "            \"Dbtr\": {\r",
              "                \"Nm\": \"April Blake Grant\",\r",
              "                \"Id\": {\r",
              "                    \"PrvtId\": {\r",
              "                        \"DtAndPlcOfBirth\": {\r",
              "                            \"BirthDt\": \"1968-02-01\",\r",
              "                            \"CityOfBirth\": \"Unknown\",\r",
              "                            \"CtryOfBirth\": \"ZZ\"\r",
              "                        },\r",
              "                        \"Othr\": {\r",
              "                            \"Id\": \"+27730975224\",\r",
              "                            \"SchmeNm\": {\r",
              "                                \"Prtry\": \"MSISDN\"\r",
              "                            }\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"CtctDtls\": {\r",
              "                    \"MobNb\": \"+27-730975224\"\r",
              "                }\r",
              "            },\r",
              "            \"DbtrAcct\": {\r",
              "                \"Id\": {\r",
              "                    \"Othr\": {\r",
              "                        \"Id\": \"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a19e\",\r",
              "                        \"SchmeNm\": {\r",
              "                            \"Prtry\": \"PSEUDO\"\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"Nm\": \"April Grant\"\r",
              "            },\r",
              "            \"DbtrAgt\": {\r",
              "                \"FinInstnId\": {\r",
              "                    \"ClrSysMmbId\": {\r",
              "                        \"MmbId\": \"dfsp001\"\r",
              "                    }\r",
              "                }\r",
              "            },\r",
              "            \"CdtrAgt\": {\r",
              "                \"FinInstnId\": {\r",
              "                    \"ClrSysMmbId\": {\r",
              "                        \"MmbId\": \"dfsp002\"\r",
              "                    }\r",
              "                }\r",
              "            },\r",
              "            \"Cdtr\": {\r",
              "                \"Nm\": \"Felicia Easton Quill\",\r",
              "                \"Id\": {\r",
              "                    \"PrvtId\": {\r",
              "                        \"DtAndPlcOfBirth\": {\r",
              "                            \"BirthDt\": \"1935-05-08\",\r",
              "                            \"CityOfBirth\": \"Unknown\",\r",
              "                            \"CtryOfBirth\": \"ZZ\"\r",
              "                        },\r",
              "                        \"Othr\": {\r",
              "                            \"Id\": \"+27707650428\",\r",
              "                            \"SchmeNm\": {\r",
              "                                \"Prtry\": \"MSISDN\"\r",
              "                            }\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"CtctDtls\": {\r",
              "                    \"MobNb\": \"+27-707650428\"\r",
              "                }\r",
              "            },\r",
              "            \"CdtrAcct\": {\r",
              "                \"Id\": {\r",
              "                    \"Othr\": {\r",
              "                        \"Id\": \"efdafefdee55c7a1e5eba4ccc0f01639dc37a020241b20495378f5a1343985b4\",\r",
              "                        \"SchmeNm\": {\r",
              "                            \"Prtry\": \"PSEUDO\"\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"Nm\": \"Felicia Quill\"\r",
              "            },\r",
              "            \"Purp\": {\r",
              "                \"Cd\": \"MP2P\"\r",
              "            }\r",
              "        },\r",
              "        \"RgltryRptg\": {\r",
              "            \"Dtls\": {\r",
              "                \"Tp\": \"BALANCE OF PAYMENTS\",\r",
              "                \"Cd\": \"100\"\r",
              "            }\r",
              "        },\r",
              "        \"RmtInf\": {\r",
              "            \"Ustrd\": \"Payment of USD 30713.75 from April to Felicia\"\r",
              "        },\r",
              "        \"SplmtryData\": {\r",
              "            \"Envlp\": {\r",
              "                \"Doc\": {\r",
              "                    \"Xprtn\": \"2021-11-30T10:38:56.000Z\"\r",
              "                }\r",
              "            }\r",
              "        }\r",
              "    }\r",
              "}\r",
              "\r",
              "\r",
              "]\r",
              "\r",
              "const pain001Transactions = [\r",
              "{\r",
              "   \"TxTp\":\"pain.001.001.11\",\r",
              "   \"CstmrCdtTrfInitn\":{\r",
              "      \"GrpHdr\":{\r",
              "         \"MsgId\":\"2nfe98292ec04bf29b5d40ba998648gh\",\r",
              "         \"CreDtTm\": new Date(new Date(now - 30000).getTime()).toISOString(),\r",
              "         \"NbOfTxs\":1,\r",
              "         \"InitgPty\":{\r",
              "            \"Nm\":\"Ivan Reese Russel-Klein\",\r",
              "            \"Id\":{\r",
              "               \"PrvtId\":{\r",
              "                  \"DtAndPlcOfBirth\":{\r",
              "                     \"BirthDt\":\"1967-11-23\",\r",
              "                     \"CityOfBirth\":\"Unknown\",\r",
              "                     \"CtryOfBirth\":\"ZZ\"\r",
              "                  },\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"CtctDtls\":{\r",
              "               \"MobNb\":\"\"\r",
              "            }\r",
              "         }\r",
              "      },\r",
              "      \"PmtInf\":{\r",
              "         \"PmtInfId\":\"2c516801007642dfb892944dde1cf845897\",\r",
              "         \"PmtMtd\":\"TRA\",\r",
              "         \"ReqdAdvcTp\":{\r",
              "            \"DbtAdvc\":{\r",
              "               \"Cd\":\"ADWD\",\r",
              "               \"Prtry\":\"Advice with transaction details\"\r",
              "            }\r",
              "         },\r",
              "         \"ReqdExctnDt\":{\r",
              "            \"Dt\":\"2021-10-07\",\r",
              "            \"DtTm\":\"2021-10-07T09:25:31.000Z\"\r",
              "         },\r",
              "         \"Dbtr\":{\r",
              "            \"Nm\":\"Ivan Reese Russel-Klein\",\r",
              "            \"Id\":{\r",
              "               \"PrvtId\":{\r",
              "                  \"DtAndPlcOfBirth\":{\r",
              "                     \"BirthDt\":\"1967-11-23\",\r",
              "                     \"CityOfBirth\":\"Unknown\",\r",
              "                     \"CtryOfBirth\":\"ZZ\"\r",
              "                  },\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"CtctDtls\":{\r",
              "               \"MobNb\":\"\"\r",
              "            }\r",
              "         },\r",
              "         \"DbtrAcct\":{\r",
              "            \"Id\":{\r",
              "               \"Othr\":{\r",
              "                  \"Id\":\"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a19e\",\r",
              "                  \"SchmeNm\":{\r",
              "                     \"Prtry\":\"PASSPORT\"\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"Nm\":\"Ivan Russel-Klein\"\r",
              "         },\r",
              "         \"DbtrAgt\":{\r",
              "            \"FinInstnId\":{\r",
              "               \"ClrSysMmbId\":{\r",
              "                  \"MmbId\":\"dfsp001\"\r",
              "               }\r",
              "            }\r",
              "         },\r",
              "         \"CdtTrfTxInf\":{\r",
              "            \"PmtId\":{\r",
              "               \"EndToEndId\":\"f0a2d6e99a000c04f304bdc09e47d44ef532fa9e7\"\r",
              "            },\r",
              "            \"PmtTpInf\":{\r",
              "               \"CtgyPurp\":{\r",
              "                  \"Prtry\":\"TRANSFER\"\r",
              "               }\r",
              "            },\r",
              "            \"Amt\":{\r",
              "               \"InstdAmt\":{\r",
              "                  \"Amt\":{\r",
              "                     \"Amt\":\"50431891779910900\",\r",
              "                     \"Ccy\":\"USD\"\r",
              "                  }\r",
              "               },\r",
              "               \"EqvtAmt\":{\r",
              "                  \"Amt\":{\r",
              "                     \"Amt\":\"50431891779910900\",\r",
              "                     \"Ccy\":\"USD\"\r",
              "                  },\r",
              "                  \"CcyOfTrf\":\"USD\"\r",
              "               }\r",
              "            },\r",
              "            \"ChrgBr\":\"DEBT\",\r",
              "            \"CdtrAgt\":{\r",
              "               \"FinInstnId\":{\r",
              "                  \"ClrSysMmbId\":{\r",
              "                     \"MmbId\":\"dfsp002\"\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"Cdtr\":{\r",
              "               \"Nm\":\"\",\r",
              "               \"Id\":{\r",
              "                  \"PrvtId\":{\r",
              "                     \"DtAndPlcOfBirth\":{\r",
              "                        \"BirthDt\":\"1923-04-26\",\r",
              "                        \"CityOfBirth\":\"\",\r",
              "                        \"CtryOfBirth\":\"\"\r",
              "                     },\r",
              "                     \"Othr\":{\r",
              "                        \"Id\":\"\",\r",
              "                        \"SchmeNm\":{\r",
              "                           \"Prtry\":\"MSISDN\"\r",
              "                        }\r",
              "                     }\r",
              "                  }\r",
              "               },\r",
              "               \"CtctDtls\":{\r",
              "                  \"MobNb\":\"\"\r",
              "               }\r",
              "            },\r",
              "            \"CdtrAcct\":{\r",
              "               \"Id\":{\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a23c\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               },\r",
              "               \"Nm\":\"April Adamson\"\r",
              "            },\r",
              "            \"Purp\":{\r",
              "               \"Cd\":\"MP2P\"\r",
              "            },\r",
              "            \"RgltryRptg\":{\r",
              "               \"Dtls\":{\r",
              "                  \"Tp\":\"BALANCE OF PAYMENTS\",\r",
              "                  \"Cd\":\"100\"\r",
              "               }\r",
              "            },\r",
              "            \"RmtInf\":{\r",
              "               \"Ustrd\":\"Payment of USD 49932566118723700.89 from Ivan to April\"\r",
              "            },\r",
              "            \"SplmtryData\":{\r",
              "               \"Envlp\":{\r",
              "                  \"Doc\":{\r",
              "                     \"Cdtr\":{\r",
              "                        \"FrstNm\":\"Ivan\",\r",
              "                        \"MddlNm\":\"Reese\",\r",
              "                        \"LastNm\":\"Russel-Klein\",\r",
              "                        \"MrchntClssfctnCd\":\"BLANK\"\r",
              "                     },\r",
              "                     \"Dbtr\":{\r",
              "                        \"FrstNm\":\"\",\r",
              "                        \"MddlNm\":\"\",\r",
              "                        \"LastNm\":\"\",\r",
              "                        \"MrchntClssfctnCd\":\"BLANK\"\r",
              "                     },\r",
              "                     \"DbtrFinSvcsPrvdrFees\":{\r",
              "                        \"Ccy\":\"USD\",\r",
              "                        \"Amt\":\"499325661187237\"\r",
              "                     },\r",
              "                     \"Xprtn\":\"2021-10-07T09:30:31.000Z\"\r",
              "                  }\r",
              "               }\r",
              "            }\r",
              "         }\r",
              "      },\r",
              "      \"SplmtryData\":{\r",
              "         \"Envlp\":{\r",
              "            \"Doc\":{\r",
              "               \"InitgPty\":{\r",
              "                  \"InitrTp\":\"CONSUMER\",\r",
              "                  \"Glctn\":{\r",
              "                     \"Lat\":\"-3.1541\",\r",
              "                     \"Long\":\"38.4238\"\r",
              "                  }\r",
              "               }\r",
              "            }\r",
              "         }\r",
              "      }\r",
              "   }\r",
              "},\r",
              "\r",
              "{\r",
              "   \"TxTp\":\"pain.001.001.11\",\r",
              "   \"CstmrCdtTrfInitn\":{ \r",
              "      \"GrpHdr\":{\r",
              "         \"MsgId\":\"5fse98292ec04bf29b5d40ba99864of5\",\r",
              "         \"CreDtTm\": new Date(new Date(now - 3300000).getTime()).toISOString(),\r",
              "         \"NbOfTxs\":1,\r",
              "         \"InitgPty\":{\r",
              "            \"Nm\":\"Ivan Reese Russel-Klein\",\r",
              "            \"Id\":{\r",
              "               \"PrvtId\":{\r",
              "                  \"DtAndPlcOfBirth\":{\r",
              "                     \"BirthDt\":\"1967-11-23\",\r",
              "                     \"CityOfBirth\":\"Unknown\",\r",
              "                     \"CtryOfBirth\":\"ZZ\"\r",
              "                  },\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"CtctDtls\":{\r",
              "               \"MobNb\":\"\"\r",
              "            }\r",
              "         }\r",
              "      },\r",
              "      \"PmtInf\":{\r",
              "         \"PmtInfId\":\"2c516801007642dfb892944dde1cf845897\",\r",
              "         \"PmtMtd\":\"TRA\",\r",
              "         \"ReqdAdvcTp\":{\r",
              "            \"DbtAdvc\":{\r",
              "               \"Cd\":\"ADWD\",\r",
              "               \"Prtry\":\"Advice with transaction details\"\r",
              "            }\r",
              "         },\r",
              "         \"ReqdExctnDt\":{\r",
              "            \"Dt\":\"2021-10-07\",\r",
              "            \"DtTm\":\"2021-10-07T09:25:31.000Z\"\r",
              "         },\r",
              "         \"Dbtr\":{\r",
              "            \"Nm\":\"Ivan Reese Russel-Klein\",\r",
              "            \"Id\":{\r",
              "               \"PrvtId\":{\r",
              "                  \"DtAndPlcOfBirth\":{\r",
              "                     \"BirthDt\":\"1967-11-23\",\r",
              "                     \"CityOfBirth\":\"Unknown\",\r",
              "                     \"CtryOfBirth\":\"ZZ\"\r",
              "                  },\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"CtctDtls\":{\r",
              "               \"MobNb\":\"\"\r",
              "            }\r",
              "         },\r",
              "         \"DbtrAcct\":{\r",
              "            \"Id\":{\r",
              "               \"Othr\":{\r",
              "                  \"Id\":\"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a19e\",\r",
              "                  \"SchmeNm\":{\r",
              "                     \"Prtry\":\"PASSPORT\"\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"Nm\":\"Ivan Russel-Klein\"\r",
              "         },\r",
              "         \"DbtrAgt\":{\r",
              "            \"FinInstnId\":{\r",
              "               \"ClrSysMmbId\":{\r",
              "                  \"MmbId\":\"dfsp001\"\r",
              "               } \r",
              "            }\r",
              "         },\r",
              "         \"CdtTrfTxInf\":{\r",
              "            \"PmtId\":{\r",
              "               \"EndToEndId\":\"f809cd40bda73f0a2d6e99a000c04f304bdc09e47\"\r",
              "            },\r",
              "            \"PmtTpInf\":{\r",
              "               \"CtgyPurp\":{\r",
              "                  \"Prtry\":\"TRANSFER\"\r",
              "               }\r",
              "            },\r",
              "            \"Amt\":{\r",
              "               \"InstdAmt\":{\r",
              "                  \"Amt\":{\r",
              "                     \"Amt\":\"50431891779910900\",\r",
              "                     \"Ccy\":\"USD\"\r",
              "                  }\r",
              "               },\r",
              "               \"EqvtAmt\":{\r",
              "                  \"Amt\":{\r",
              "                     \"Amt\":\"50431891779910900\",\r",
              "                     \"Ccy\":\"USD\"\r",
              "                  },\r",
              "                  \"CcyOfTrf\":\"USD\"\r",
              "               }\r",
              "            },\r",
              "            \"ChrgBr\":\"DEBT\",\r",
              "            \"CdtrAgt\":{\r",
              "               \"FinInstnId\":{\r",
              "                  \"ClrSysMmbId\":{\r",
              "                     \"MmbId\":\"dfsp002\"\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"Cdtr\":{\r",
              "               \"Nm\":\"\",\r",
              "               \"Id\":{\r",
              "                  \"PrvtId\":{\r",
              "                     \"DtAndPlcOfBirth\":{\r",
              "                        \"BirthDt\":\"1923-04-26\",\r",
              "                        \"CityOfBirth\":\"\",\r",
              "                        \"CtryOfBirth\":\"\"\r",
              "                     },\r",
              "                     \"Othr\":{\r",
              "                        \"Id\":\"\",\r",
              "                        \"SchmeNm\":{\r",
              "                           \"Prtry\":\"MSISDN\"\r",
              "                        }\r",
              "                     }\r",
              "                  }\r",
              "               },\r",
              "               \"CtctDtls\":{\r",
              "                  \"MobNb\":\"\"\r",
              "               }\r",
              "            },\r",
              "            \"CdtrAcct\":{\r",
              "               \"Id\":{\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a24c\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               },\r",
              "               \"Nm\":\"April Adamson\"\r",
              "            },\r",
              "            \"Purp\":{\r",
              "               \"Cd\":\"MP2P\"\r",
              "            },\r",
              "            \"RgltryRptg\":{\r",
              "               \"Dtls\":{\r",
              "                  \"Tp\":\"BALANCE OF PAYMENTS\",\r",
              "                  \"Cd\":\"100\"\r",
              "               }\r",
              "            },\r",
              "            \"RmtInf\":{\r",
              "               \"Ustrd\":\"Payment of USD 49932566118723700.89 from Ivan to April\"\r",
              "            },\r",
              "            \"SplmtryData\":{\r",
              "               \"Envlp\":{\r",
              "                  \"Doc\":{\r",
              "                     \"Cdtr\":{\r",
              "                        \"FrstNm\":\"Ivan\",\r",
              "                        \"MddlNm\":\"Reese\",\r",
              "                        \"LastNm\":\"Russel-Klein\",\r",
              "                        \"MrchntClssfctnCd\":\"BLANK\"\r",
              "                     },\r",
              "                     \"Dbtr\":{\r",
              "                        \"FrstNm\":\"\",\r",
              "                        \"MddlNm\":\"\",\r",
              "                        \"LastNm\":\"\",\r",
              "                        \"MrchntClssfctnCd\":\"BLANK\"\r",
              "                     },\r",
              "                     \"DbtrFinSvcsPrvdrFees\":{\r",
              "                        \"Ccy\":\"USD\",\r",
              "                        \"Amt\":\"499325661187237\"\r",
              "                     },\r",
              "                     \"Xprtn\":\"2021-10-07T09:30:31.000Z\"\r",
              "                  }\r",
              "               }\r",
              "            }\r",
              "         }\r",
              "      },\r",
              "      \"SplmtryData\":{\r",
              "         \"Envlp\":{\r",
              "            \"Doc\":{\r",
              "               \"InitgPty\":{\r",
              "                  \"InitrTp\":\"CONSUMER\",\r",
              "                  \"Glctn\":{\r",
              "                     \"Lat\":\"-3.1041\",\r",
              "                     \"Long\":\"38.4238\"\r",
              "                  }\r",
              "               }\r",
              "            }\r",
              "         }\r",
              "      }\r",
              "   }\r",
              "}]\r",
              "\r",
              "pm.sendRequest({\r",
              "    url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',\r",
              "    method: 'POST',\r",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "    body: {\r",
              "        mode: 'raw',\r",
              "        raw: JSON.stringify({\r",
              "            query: `FOR transaction IN ${JSON.stringify(pacs002Transactions)}\r",
              "                    INSERT {_key: transaction.FIToFIPmtSts.GrpHdr.MsgId, TxTp: transaction.TxTp, FIToFIPmtSts: transaction.FIToFIPmtSts} INTO transactionHistory\r",
              "                    OPTIONS { overwrite: true }`\r",
              "        })\r",
              "    }\r",
              "});\r",
              "\r",
              "pm.sendRequest({\r",
              "    url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',\r",
              "    method: 'POST',\r",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "    body: {\r",
              "        mode: 'raw',\r",
              "        raw: JSON.stringify({\r",
              "            query: `FOR transaction IN ${JSON.stringify(pacs008Transactions)}\r",
              "                    INSERT {_key: transaction.FIToFICstmrCdt.GrpHdr.MsgId, TxTp: transaction.TxTp, FIToFICstmrCdt: transaction.FIToFICstmrCdt} INTO transactionHistory\r",
              "                    OPTIONS { overwrite: true }`\r",
              "        })\r",
              "    }\r",
              "});\r",
              "\r",
              "pm.sendRequest({\r",
              "    url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',\r",
              "    method: 'POST',\r",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "    body: {\r",
              "        mode: 'raw',\r",
              "        raw: JSON.stringify({\r",
              "            query: `FOR transaction IN ${JSON.stringify(pain001Transactions)}\r",
              "                    INSERT {_key: transaction.CstmrCdtTrfInitn.GrpHdr.MsgId, TxTp: transaction.TxTp, CstmrCdtTrfInitn: transaction.CstmrCdtTrfInitn} INTO transactionHistory\r",
              "                    OPTIONS { overwrite: true }`\r",
              "        })\r",
              "    }\r",
              "});\r",
              "\r",
              "\r",
              "pm.sendRequest({\r",
              "    url: 'http://arango.development:8529/_db/Configuration/_api/cursor',\r",
              "    method: 'POST',\r",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "    body: {\r",
              "        mode: 'raw',\r",
              "        raw: JSON.stringify({\r",
              "            query: `FOR config IN ${JSON.stringify(ruleConfig)}\r",
              "                    INSERT {_key: \"074\", id: config.id, cfg: config.cfg, config: config.config} INTO configuration\r",
              "                    OPTIONS { overwrite: true }`\r",
              "        })\r",
              "    }\r",
              "});"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "test",
          "script": {
            "exec": [
              "// 2 - Velocity >= 5km/h, < 15km/h TRUE (sub-rule ref .02) (Reasonable cycling speed)\r",
              "\r",
              "const jsonData = pm.response.json();\r",
              "const req = JSON.parse(request.data);\r",
              "\r",
              "const transactions = [\r",
              "    \"30bea71c5ayfd5d8d57f94b2a40e9789\",\r",
              "    \"96ae98292ec04bf29b5d40ba99864v42\",\r",
              "    \"2nfe98292ec04bf29b5d40ba998648gh\",\r",
              "    \"5fse98292ec04bf29b5d40ba99864of5\"\r",
              "]\r",
              "\r",
              "pm.test(\"Status code is 200\", function () {\r",
              "    pm.response.to.have.status(200);\r",
              "});\r",
              "\r",
              "pm.test(\"should have rule result of true\", function () {\r",
              "    pm.expect(jsonData.ruleResult.result).to.be.eql(true);\r",
              "\r",
              "});\r",
              "\r",
              "pm.test(\"should have rule reason of 'Reasonable cycling speed' \", function () {\r",
              "    pm.expect(jsonData.ruleResult.reason).to.be.eql(\"Reasonable cycling speed\");\r",
              "});\r",
              "\r",
              "pm.test(\"should have rule subRuleRef of '.02' \", function () {\r",
              "    pm.expect(jsonData.ruleResult.subRuleRef).to.be.eql(\".02\");\r",
              "});\r",
              "\r",
              "pm.test(\"Remove Seed Data from DB\", function () {\r",
              "    pm.sendRequest({\r",
              "        url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',\r",
              "        method: 'POST',\r",
              "        header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "        body: {\r",
              "            mode: 'raw',\r",
              "            raw: JSON.stringify({\r",
              "                query: `FOR transaction IN ${JSON.stringify(transactions)}\r",
              "                        REMOVE { _key: transaction } IN transactionHistory\r",
              "                        OPTIONS { ignoreErrors: true }`\r",
              "            })\r",
              "        }\r",
              "    })\r",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"transaction\": {\r\n    \"TxTp\": \"pacs.002.001.12\",\r\n    \"FIToFIPmtSts\": {\r\n      \"GrpHdr\": {\r\n        \"MsgId\": \"30bea71c5a054978ad0da7f94b2a40e9789\",\r\n        \"CreDtTm\": \"{{now}}\"\r\n      },\r\n      \"TxInfAndSts\": {\r\n        \"OrgnlInstrId\": \"5ab4fc7355de4ef8a75b78b00a681ed2255\",\r\n        \"OrgnlEndToEndId\": \"f0a2d6e99a000c04f304bdc09e47d44ef532fa9e7\",\r\n        \"TxSts\": \"ACCC\",\r\n        \"ChrgsInf\": [\r\n          {\r\n            \"Amt\": {\r\n              \"Amt\": 307.14,\r\n              \"Ccy\": \"USD\"\r\n            },\r\n            \"Agt\": {\r\n              \"FinInstnId\": {\r\n                \"ClrSysMmbId\": {\r\n                  \"MmbId\": \"dfsp001\"\r\n                }\r\n              }\r\n            }\r\n          },\r\n          {\r\n            \"Amt\": {\r\n              \"Amt\": 153.57,\r\n              \"Ccy\": \"USD\"\r\n            },\r\n            \"Agt\": {\r\n              \"FinInstnId\": {\r\n                \"ClrSysMmbId\": {\r\n                  \"MmbId\": \"dfsp001\"\r\n                }\r\n              }\r\n            }\r\n          },\r\n          {\r\n            \"Amt\": {\r\n              \"Amt\": 30.71,\r\n              \"Ccy\": \"USD\"\r\n            },\r\n            \"Agt\": {\r\n              \"FinInstnId\": {\r\n                \"ClrSysMmbId\": {\r\n                  \"MmbId\": \"dfsp002\"\r\n                }\r\n              }\r\n            }\r\n          }\r\n        ],\r\n        \"AccptncDtTm\": \"2021-12-03T15:24:26.000Z\",\r\n        \"InstgAgt\": {\r\n          \"FinInstnId\": {\r\n            \"ClrSysMmbId\": {\r\n              \"MmbId\": \"dfsp001\"\r\n            }\r\n          }\r\n        },\r\n        \"InstdAgt\": {\r\n          \"FinInstnId\": {\r\n            \"ClrSysMmbId\": {\r\n              \"MmbId\": \"dfsp002\"\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \"networkMap\": {\r\n    \"messages\": [\r\n      {\r\n        \"id\": \"004@1.0.0\",\r\n        \"host\": \"https://gateway.openfaas:8080/function/off-transaction-aggregation-decisioning-processor-rel-1-0-0\",\r\n        \"cfg\": \"1.0.0\",\r\n        \"txTp\": \"pacs.002.001.12\",\r\n        \"channels\": [\r\n          {\r\n            \"id\": \"001@1.0.0\",\r\n            \"host\": \"https://gateway.openfaas:8080/function/off-channel-aggregation-decisioning-processor-rel-1-0-0\",\r\n            \"cfg\": \"1.0.0\",\r\n            \"typologies\": [\r\n              {\r\n                \"id\": \"028@1.0.0\",\r\n                \"host\": \"https://gateway.openfaas:8080/function/off-typology-processor-rel-1-0-0\",\r\n                \"cfg\": \"1.0.0\",\r\n                \"rules\": [\r\n                  {\r\n                    \"id\": \"074@1.0.0\",\r\n                    \"host\": \"https://gateway.openfaas:8080/function/off-rule-074-rel-1-0-0\",\r\n                    \"cfg\": \"1.0.0\"\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n}\r\n",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "http://gateway.openfaas:8080/function/off-rule-074-rel-1-0-0",
          "protocol": "http",
          "host": ["gateway", "openfaas"],
          "port": "8080",
          "path": ["function", "off-rule-074-rel-1-0-0"]
        }
      },
      "response": []
    },
    {
      "name": "Test Scenario 3",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "// 3 - Velocity >= 15km/h, < 50km/h TRUE (sub-rule ref .03) (Reasonable driving speed)\r",
              "\r",
              "const now = new Date().getTime();\r",
              "\r",
              "pm.globals.set(\"now\", new Date().toISOString());\r",
              "\r",
              "const ruleConfig = [{\r",
              "  \"id\": \"074@1.0.0\",\r",
              "  \"cfg\": \"1.0.0\",\r",
              "  \"config\": {\r",
              "    \"timeframes\": [\r",
              "      {\r",
              "        \"threshold\": \"3600000\"\r",
              "      }\r",
              "    ],\r",
              "    \"bands\": [\r",
              "      {\r",
              "        \"subRuleRef\": \".01\",\r",
              "        \"upperLimit\": 5,\r",
              "        \"outcome\": true,\r",
              "        \"reason\": \"Reasonable walking speed\"\r",
              "      },\r",
              "      {\r",
              "        \"subRuleRef\": \".02\",\r",
              "        \"lowerLimit\": 5,\r",
              "        \"upperLimit\": 15,\r",
              "        \"outcome\": true,\r",
              "        \"reason\": \"Reasonable cycling speed\"\r",
              "      },\r",
              "      {\r",
              "        \"subRuleRef\": \".03\",\r",
              "        \"lowerLimit\": 15,\r",
              "        \"upperLimit\": 50,\r",
              "        \"outcome\": true,\r",
              "        \"reason\": \"Reasonable driving speed\"\r",
              "      },\r",
              "      {\r",
              "        \"subRuleRef\": \".04\",\r",
              "        \"lowerLimit\": 50,\r",
              "        \"outcome\": true,\r",
              "        \"reason\": \"Ludicrous speed\"\r",
              "      },\r",
              "      {\r",
              "        \"subRuleRef\": \".00\",\r",
              "        \"outcome\": false,\r",
              "        \"reason\": \"Insufficient transaction history\"\r",
              "      }\r",
              "    ]\r",
              "  }\r",
              "}]\r",
              "\r",
              "const pacs002Transactions = [\r",
              "{\r",
              "    \"TxTp\": \"pacs.002.001.12\",\r",
              "    \"FIToFIPmtSts\": {\r",
              "      \"GrpHdr\": {\r",
              "        \"MsgId\": \"30bea71c5ayfd5d8d57f94b2a40e9789\",\r",
              "        \"CreDtTm\": new Date(now).toISOString()\r",
              "      },\r",
              "      \"TxInfAndSts\": {\r",
              "        \"OrgnlInstrId\": \"5ab4fc7355de4ef8a75b78b00a681ed2255\",\r",
              "        \"OrgnlEndToEndId\": \"f0a2d6e99a000c04f304bdc09e47d44ef532fa9e7\",\r",
              "        \"TxSts\": \"ACCC\",\r",
              "        \"ChrgsInf\": [\r",
              "          {\r",
              "            \"Amt\": {\r",
              "              \"Amt\": 307.14,\r",
              "              \"Ccy\": \"USD\"\r",
              "            },\r",
              "            \"Agt\": {\r",
              "              \"FinInstnId\": {\r",
              "                \"ClrSysMmbId\": {\r",
              "                  \"MmbId\": \"dfsp001\"\r",
              "                }\r",
              "              }\r",
              "            }\r",
              "          },\r",
              "          {\r",
              "            \"Amt\": {\r",
              "              \"Amt\": 153.57,\r",
              "              \"Ccy\": \"USD\"\r",
              "            },\r",
              "            \"Agt\": {\r",
              "              \"FinInstnId\": {\r",
              "                \"ClrSysMmbId\": {\r",
              "                  \"MmbId\": \"dfsp001\"\r",
              "                }\r",
              "              }\r",
              "            }\r",
              "          },\r",
              "          {\r",
              "            \"Amt\": {\r",
              "              \"Amt\": 30.71,\r",
              "              \"Ccy\": \"USD\"\r",
              "            },\r",
              "            \"Agt\": {\r",
              "              \"FinInstnId\": {\r",
              "                \"ClrSysMmbId\": {\r",
              "                  \"MmbId\": \"dfsp002\"\r",
              "                }\r",
              "              }\r",
              "            }\r",
              "          }\r",
              "        ],\r",
              "        \"AccptncDtTm\": \"2021-12-03T15:24:26.000Z\",\r",
              "        \"InstgAgt\": {\r",
              "          \"FinInstnId\": {\r",
              "            \"ClrSysMmbId\": {\r",
              "              \"MmbId\": \"dfsp001\"\r",
              "            }\r",
              "          }\r",
              "        },\r",
              "        \"InstdAgt\": {\r",
              "          \"FinInstnId\": {\r",
              "            \"ClrSysMmbId\": {\r",
              "              \"MmbId\": \"dfsp002\"\r",
              "            }\r",
              "          }\r",
              "        }\r",
              "      }\r",
              "    }\r",
              "  }]\r",
              "\r",
              "const pacs008Transactions = [{\r",
              "    \"TxTp\": \"pacs.008.001.10\",\r",
              "    \"FIToFICstmrCdt\": {\r",
              "        \"GrpHdr\": {\r",
              "            \"MsgId\": \"96ae98292ec04bf29b5d40ba99864v42\",\r",
              "            \"CreDtTm\": new Date(now - 10000).toISOString(),\r",
              "            \"NbOfTxs\": 1,\r",
              "            \"SttlmInf\": {\r",
              "                \"SttlmMtd\": \"CLRG\"\r",
              "            }\r",
              "        },\r",
              "        \"CdtTrfTxInf\": {\r",
              "            \"PmtId\": {\r",
              "                \"InstrId\": \"5ab4fc7355de4ef8a75b78b00a681ed2\",\r",
              "                \"EndToEndId\": \"f0a2d6e99a000c04f304bdc09e47d44ef532fa9e7\"\r",
              "            },\r",
              "            \"IntrBkSttlmAmt\": {\r",
              "                \"Amt\": {\r",
              "                    \"Amt\": 31020.89,\r",
              "                    \"Ccy\": \"USD\"\r",
              "                }\r",
              "            },\r",
              "            \"InstdAmt\": {\r",
              "                \"Amt\": {\r",
              "                    \"Amt\": 31020.89,\r",
              "                    \"Ccy\": \"USD\"\r",
              "                }\r",
              "            },\r",
              "            \"ChrgBr\": \"DEBT\",\r",
              "            \"ChrgsInf\": {\r",
              "                \"Amt\": {\r",
              "                    \"Amt\": 307.14,\r",
              "                    \"Ccy\": \"USD\"\r",
              "                },\r",
              "                \"Agt\": {\r",
              "                    \"FinInstnId\": {\r",
              "                        \"ClrSysMmbId\": {\r",
              "                            \"MmbId\": \"dfsp001\"\r",
              "                        }\r",
              "                    }\r",
              "                }\r",
              "            },\r",
              "            \"InitgPty\": {\r",
              "                \"Nm\": \"April Blake Grant\",\r",
              "                \"Id\": {\r",
              "                    \"PrvtId\": {\r",
              "                        \"DtAndPlcOfBirth\": {\r",
              "                            \"BirthDt\": \"1968-02-01\",\r",
              "                            \"CityOfBirth\": \"Unknown\",\r",
              "                            \"CtryOfBirth\": \"ZZ\"\r",
              "                        },\r",
              "                        \"Othr\": {\r",
              "                            \"Id\": \"+27730975224\",\r",
              "                            \"SchmeNm\": {\r",
              "                                \"Prtry\": \"MSISDN\"\r",
              "                            }\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"CtctDtls\": {\r",
              "                    \"MobNb\": \"+27-730975224\"\r",
              "                }\r",
              "            },\r",
              "            \"Dbtr\": {\r",
              "                \"Nm\": \"April Blake Grant\",\r",
              "                \"Id\": {\r",
              "                    \"PrvtId\": {\r",
              "                        \"DtAndPlcOfBirth\": {\r",
              "                            \"BirthDt\": \"1968-02-01\",\r",
              "                            \"CityOfBirth\": \"Unknown\",\r",
              "                            \"CtryOfBirth\": \"ZZ\"\r",
              "                        },\r",
              "                        \"Othr\": {\r",
              "                            \"Id\": \"+27730975224\",\r",
              "                            \"SchmeNm\": {\r",
              "                                \"Prtry\": \"MSISDN\"\r",
              "                            }\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"CtctDtls\": {\r",
              "                    \"MobNb\": \"+27-730975224\"\r",
              "                }\r",
              "            },\r",
              "            \"DbtrAcct\": {\r",
              "                \"Id\": {\r",
              "                    \"Othr\": {\r",
              "                        \"Id\": \"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a19e\",\r",
              "                        \"SchmeNm\": {\r",
              "                            \"Prtry\": \"PSEUDO\"\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"Nm\": \"April Grant\"\r",
              "            },\r",
              "            \"DbtrAgt\": {\r",
              "                \"FinInstnId\": {\r",
              "                    \"ClrSysMmbId\": {\r",
              "                        \"MmbId\": \"dfsp001\"\r",
              "                    }\r",
              "                }\r",
              "            },\r",
              "            \"CdtrAgt\": {\r",
              "                \"FinInstnId\": {\r",
              "                    \"ClrSysMmbId\": {\r",
              "                        \"MmbId\": \"dfsp002\"\r",
              "                    }\r",
              "                }\r",
              "            },\r",
              "            \"Cdtr\": {\r",
              "                \"Nm\": \"Felicia Easton Quill\",\r",
              "                \"Id\": {\r",
              "                    \"PrvtId\": {\r",
              "                        \"DtAndPlcOfBirth\": {\r",
              "                            \"BirthDt\": \"1935-05-08\",\r",
              "                            \"CityOfBirth\": \"Unknown\",\r",
              "                            \"CtryOfBirth\": \"ZZ\"\r",
              "                        },\r",
              "                        \"Othr\": {\r",
              "                            \"Id\": \"+27707650428\",\r",
              "                            \"SchmeNm\": {\r",
              "                                \"Prtry\": \"MSISDN\"\r",
              "                            }\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"CtctDtls\": {\r",
              "                    \"MobNb\": \"+27-707650428\"\r",
              "                }\r",
              "            },\r",
              "            \"CdtrAcct\": {\r",
              "                \"Id\": {\r",
              "                    \"Othr\": {\r",
              "                        \"Id\": \"efdafefdee55c7a1e5eba4ccc0f01639dc37a020241b20495378f5a1343985b4\",\r",
              "                        \"SchmeNm\": {\r",
              "                            \"Prtry\": \"PSEUDO\"\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"Nm\": \"Felicia Quill\"\r",
              "            },\r",
              "            \"Purp\": {\r",
              "                \"Cd\": \"MP2P\"\r",
              "            }\r",
              "        },\r",
              "        \"RgltryRptg\": {\r",
              "            \"Dtls\": {\r",
              "                \"Tp\": \"BALANCE OF PAYMENTS\",\r",
              "                \"Cd\": \"100\"\r",
              "            }\r",
              "        },\r",
              "        \"RmtInf\": {\r",
              "            \"Ustrd\": \"Payment of USD 30713.75 from April to Felicia\"\r",
              "        },\r",
              "        \"SplmtryData\": {\r",
              "            \"Envlp\": {\r",
              "                \"Doc\": {\r",
              "                    \"Xprtn\": \"2021-11-30T10:38:56.000Z\"\r",
              "                }\r",
              "            }\r",
              "        }\r",
              "    }\r",
              "}]\r",
              "\r",
              "const pain001Transactions = [\r",
              "{\r",
              "   \"TxTp\":\"pain.001.001.11\",\r",
              "   \"CstmrCdtTrfInitn\":{\r",
              "      \"GrpHdr\":{\r",
              "         \"MsgId\":\"2nfe98292ec04bf29b5d40ba998648gh\",\r",
              "         \"CreDtTm\": new Date(new Date(now - 30000).getTime()).toISOString(),\r",
              "         \"NbOfTxs\":1,\r",
              "         \"InitgPty\":{\r",
              "            \"Nm\":\"Ivan Reese Russel-Klein\",\r",
              "            \"Id\":{\r",
              "               \"PrvtId\":{\r",
              "                  \"DtAndPlcOfBirth\":{\r",
              "                     \"BirthDt\":\"1967-11-23\",\r",
              "                     \"CityOfBirth\":\"Unknown\",\r",
              "                     \"CtryOfBirth\":\"ZZ\"\r",
              "                  },\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"CtctDtls\":{\r",
              "               \"MobNb\":\"\"\r",
              "            }\r",
              "         }\r",
              "      },\r",
              "      \"PmtInf\":{\r",
              "         \"PmtInfId\":\"2c516801007642dfb892944dde1cf845897\",\r",
              "         \"PmtMtd\":\"TRA\",\r",
              "         \"ReqdAdvcTp\":{\r",
              "            \"DbtAdvc\":{\r",
              "               \"Cd\":\"ADWD\",\r",
              "               \"Prtry\":\"Advice with transaction details\"\r",
              "            }\r",
              "         },\r",
              "         \"ReqdExctnDt\":{\r",
              "            \"Dt\":\"2021-10-07\",\r",
              "            \"DtTm\":\"2021-10-07T09:25:31.000Z\"\r",
              "         },\r",
              "         \"Dbtr\":{\r",
              "            \"Nm\":\"Ivan Reese Russel-Klein\",\r",
              "            \"Id\":{\r",
              "               \"PrvtId\":{\r",
              "                  \"DtAndPlcOfBirth\":{\r",
              "                     \"BirthDt\":\"1967-11-23\",\r",
              "                     \"CityOfBirth\":\"Unknown\",\r",
              "                     \"CtryOfBirth\":\"ZZ\"\r",
              "                  },\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"CtctDtls\":{\r",
              "               \"MobNb\":\"\"\r",
              "            }\r",
              "         },\r",
              "         \"DbtrAcct\":{\r",
              "            \"Id\":{\r",
              "               \"Othr\":{\r",
              "                  \"Id\":\"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a19e\",\r",
              "                  \"SchmeNm\":{\r",
              "                     \"Prtry\":\"PASSPORT\"\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"Nm\":\"Ivan Russel-Klein\"\r",
              "         },\r",
              "         \"DbtrAgt\":{\r",
              "            \"FinInstnId\":{\r",
              "               \"ClrSysMmbId\":{\r",
              "                  \"MmbId\":\"dfsp001\"\r",
              "               }\r",
              "            }\r",
              "         },\r",
              "         \"CdtTrfTxInf\":{\r",
              "            \"PmtId\":{\r",
              "               \"EndToEndId\":\"f0a2d6e99a000c04f304bdc09e47d44ef532fa9e7\"\r",
              "            },\r",
              "            \"PmtTpInf\":{\r",
              "               \"CtgyPurp\":{\r",
              "                  \"Prtry\":\"TRANSFER\"\r",
              "               }\r",
              "            },\r",
              "            \"Amt\":{\r",
              "               \"InstdAmt\":{\r",
              "                  \"Amt\":{\r",
              "                     \"Amt\":\"50431891779910900\",\r",
              "                     \"Ccy\":\"USD\"\r",
              "                  }\r",
              "               },\r",
              "               \"EqvtAmt\":{\r",
              "                  \"Amt\":{\r",
              "                     \"Amt\":\"50431891779910900\",\r",
              "                     \"Ccy\":\"USD\"\r",
              "                  },\r",
              "                  \"CcyOfTrf\":\"USD\"\r",
              "               }\r",
              "            },\r",
              "            \"ChrgBr\":\"DEBT\",\r",
              "            \"CdtrAgt\":{\r",
              "               \"FinInstnId\":{\r",
              "                  \"ClrSysMmbId\":{\r",
              "                     \"MmbId\":\"dfsp002\"\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"Cdtr\":{\r",
              "               \"Nm\":\"\",\r",
              "               \"Id\":{\r",
              "                  \"PrvtId\":{\r",
              "                     \"DtAndPlcOfBirth\":{\r",
              "                        \"BirthDt\":\"1923-04-26\",\r",
              "                        \"CityOfBirth\":\"\",\r",
              "                        \"CtryOfBirth\":\"\"\r",
              "                     },\r",
              "                     \"Othr\":{\r",
              "                        \"Id\":\"\",\r",
              "                        \"SchmeNm\":{\r",
              "                           \"Prtry\":\"MSISDN\"\r",
              "                        }\r",
              "                     }\r",
              "                  }\r",
              "               },\r",
              "               \"CtctDtls\":{\r",
              "                  \"MobNb\":\"\"\r",
              "               }\r",
              "            },\r",
              "            \"CdtrAcct\":{\r",
              "               \"Id\":{\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a23c\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               },\r",
              "               \"Nm\":\"April Adamson\"\r",
              "            },\r",
              "            \"Purp\":{\r",
              "               \"Cd\":\"MP2P\"\r",
              "            },\r",
              "            \"RgltryRptg\":{\r",
              "               \"Dtls\":{\r",
              "                  \"Tp\":\"BALANCE OF PAYMENTS\",\r",
              "                  \"Cd\":\"100\"\r",
              "               }\r",
              "            },\r",
              "            \"RmtInf\":{\r",
              "               \"Ustrd\":\"Payment of USD 49932566118723700.89 from Ivan to April\"\r",
              "            },\r",
              "            \"SplmtryData\":{\r",
              "               \"Envlp\":{\r",
              "                  \"Doc\":{\r",
              "                     \"Cdtr\":{\r",
              "                        \"FrstNm\":\"Ivan\",\r",
              "                        \"MddlNm\":\"Reese\",\r",
              "                        \"LastNm\":\"Russel-Klein\",\r",
              "                        \"MrchntClssfctnCd\":\"BLANK\"\r",
              "                     },\r",
              "                     \"Dbtr\":{\r",
              "                        \"FrstNm\":\"\",\r",
              "                        \"MddlNm\":\"\",\r",
              "                        \"LastNm\":\"\",\r",
              "                        \"MrchntClssfctnCd\":\"BLANK\"\r",
              "                     },\r",
              "                     \"DbtrFinSvcsPrvdrFees\":{\r",
              "                        \"Ccy\":\"USD\",\r",
              "                        \"Amt\":\"499325661187237\"\r",
              "                     },\r",
              "                     \"Xprtn\":\"2021-10-07T09:30:31.000Z\"\r",
              "                  }\r",
              "               }\r",
              "            }\r",
              "         }\r",
              "      },\r",
              "      \"SplmtryData\":{\r",
              "         \"Envlp\":{\r",
              "            \"Doc\":{\r",
              "               \"InitgPty\":{\r",
              "                  \"InitrTp\":\"CONSUMER\",\r",
              "                  \"Glctn\":{\r",
              "                     \"Lat\":\"-3.4541\",\r",
              "                     \"Long\":\"38.4238\"\r",
              "                  }\r",
              "               }\r",
              "            }\r",
              "         }\r",
              "      }\r",
              "   }\r",
              "},\r",
              "\r",
              "{\r",
              "   \"TxTp\":\"pain.001.001.11\",\r",
              "   \"CstmrCdtTrfInitn\":{ \r",
              "      \"GrpHdr\":{\r",
              "         \"MsgId\":\"5fse98292ec04bf29b5d40ba99864of5\",\r",
              "         \"CreDtTm\": new Date(new Date(now - 3300000).getTime()).toISOString(),\r",
              "         \"NbOfTxs\":1,\r",
              "         \"InitgPty\":{\r",
              "            \"Nm\":\"Ivan Reese Russel-Klein\",\r",
              "            \"Id\":{\r",
              "               \"PrvtId\":{\r",
              "                  \"DtAndPlcOfBirth\":{\r",
              "                     \"BirthDt\":\"1967-11-23\",\r",
              "                     \"CityOfBirth\":\"Unknown\",\r",
              "                     \"CtryOfBirth\":\"ZZ\"\r",
              "                  },\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"CtctDtls\":{\r",
              "               \"MobNb\":\"\"\r",
              "            }\r",
              "         }\r",
              "      },\r",
              "      \"PmtInf\":{\r",
              "         \"PmtInfId\":\"2c516801007642dfb892944dde1cf845897\",\r",
              "         \"PmtMtd\":\"TRA\",\r",
              "         \"ReqdAdvcTp\":{\r",
              "            \"DbtAdvc\":{\r",
              "               \"Cd\":\"ADWD\",\r",
              "               \"Prtry\":\"Advice with transaction details\"\r",
              "            }\r",
              "         },\r",
              "         \"ReqdExctnDt\":{\r",
              "            \"Dt\":\"2021-10-07\",\r",
              "            \"DtTm\":\"2021-10-07T09:25:31.000Z\"\r",
              "         },\r",
              "         \"Dbtr\":{\r",
              "            \"Nm\":\"Ivan Reese Russel-Klein\",\r",
              "            \"Id\":{\r",
              "               \"PrvtId\":{\r",
              "                  \"DtAndPlcOfBirth\":{\r",
              "                     \"BirthDt\":\"1967-11-23\",\r",
              "                     \"CityOfBirth\":\"Unknown\",\r",
              "                     \"CtryOfBirth\":\"ZZ\"\r",
              "                  },\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"CtctDtls\":{\r",
              "               \"MobNb\":\"\"\r",
              "            }\r",
              "         },\r",
              "         \"DbtrAcct\":{\r",
              "            \"Id\":{\r",
              "               \"Othr\":{\r",
              "                  \"Id\":\"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a19e\",\r",
              "                  \"SchmeNm\":{\r",
              "                     \"Prtry\":\"PASSPORT\"\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"Nm\":\"Ivan Russel-Klein\"\r",
              "         },\r",
              "         \"DbtrAgt\":{\r",
              "            \"FinInstnId\":{\r",
              "               \"ClrSysMmbId\":{\r",
              "                  \"MmbId\":\"dfsp001\"\r",
              "               } \r",
              "            }\r",
              "         },\r",
              "         \"CdtTrfTxInf\":{\r",
              "            \"PmtId\":{\r",
              "               \"EndToEndId\":\"f809cd40bda73f0a2d6e99a000c04f304bdc09e47\"\r",
              "            },\r",
              "            \"PmtTpInf\":{\r",
              "               \"CtgyPurp\":{\r",
              "                  \"Prtry\":\"TRANSFER\"\r",
              "               }\r",
              "            },\r",
              "            \"Amt\":{\r",
              "               \"InstdAmt\":{\r",
              "                  \"Amt\":{\r",
              "                     \"Amt\":\"50431891779910900\",\r",
              "                     \"Ccy\":\"USD\"\r",
              "                  }\r",
              "               },\r",
              "               \"EqvtAmt\":{\r",
              "                  \"Amt\":{\r",
              "                     \"Amt\":\"50431891779910900\",\r",
              "                     \"Ccy\":\"USD\"\r",
              "                  },\r",
              "                  \"CcyOfTrf\":\"USD\"\r",
              "               }\r",
              "            },\r",
              "            \"ChrgBr\":\"DEBT\",\r",
              "            \"CdtrAgt\":{\r",
              "               \"FinInstnId\":{\r",
              "                  \"ClrSysMmbId\":{\r",
              "                     \"MmbId\":\"dfsp002\"\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"Cdtr\":{\r",
              "               \"Nm\":\"\",\r",
              "               \"Id\":{\r",
              "                  \"PrvtId\":{\r",
              "                     \"DtAndPlcOfBirth\":{\r",
              "                        \"BirthDt\":\"1923-04-26\",\r",
              "                        \"CityOfBirth\":\"\",\r",
              "                        \"CtryOfBirth\":\"\"\r",
              "                     },\r",
              "                     \"Othr\":{\r",
              "                        \"Id\":\"\",\r",
              "                        \"SchmeNm\":{\r",
              "                           \"Prtry\":\"MSISDN\"\r",
              "                        }\r",
              "                     }\r",
              "                  }\r",
              "               },\r",
              "               \"CtctDtls\":{\r",
              "                  \"MobNb\":\"\"\r",
              "               }\r",
              "            },\r",
              "            \"CdtrAcct\":{\r",
              "               \"Id\":{\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a24c\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               },\r",
              "               \"Nm\":\"April Adamson\"\r",
              "            },\r",
              "            \"Purp\":{\r",
              "               \"Cd\":\"MP2P\"\r",
              "            },\r",
              "            \"RgltryRptg\":{\r",
              "               \"Dtls\":{\r",
              "                  \"Tp\":\"BALANCE OF PAYMENTS\",\r",
              "                  \"Cd\":\"100\"\r",
              "               }\r",
              "            },\r",
              "            \"RmtInf\":{\r",
              "               \"Ustrd\":\"Payment of USD 49932566118723700.89 from Ivan to April\"\r",
              "            },\r",
              "            \"SplmtryData\":{\r",
              "               \"Envlp\":{\r",
              "                  \"Doc\":{\r",
              "                     \"Cdtr\":{\r",
              "                        \"FrstNm\":\"Ivan\",\r",
              "                        \"MddlNm\":\"Reese\",\r",
              "                        \"LastNm\":\"Russel-Klein\",\r",
              "                        \"MrchntClssfctnCd\":\"BLANK\"\r",
              "                     },\r",
              "                     \"Dbtr\":{\r",
              "                        \"FrstNm\":\"\",\r",
              "                        \"MddlNm\":\"\",\r",
              "                        \"LastNm\":\"\",\r",
              "                        \"MrchntClssfctnCd\":\"BLANK\"\r",
              "                     },\r",
              "                     \"DbtrFinSvcsPrvdrFees\":{\r",
              "                        \"Ccy\":\"USD\",\r",
              "                        \"Amt\":\"499325661187237\"\r",
              "                     },\r",
              "                     \"Xprtn\":\"2021-10-07T09:30:31.000Z\"\r",
              "                  }\r",
              "               }\r",
              "            }\r",
              "         }\r",
              "      },\r",
              "      \"SplmtryData\":{\r",
              "         \"Envlp\":{\r",
              "            \"Doc\":{\r",
              "               \"InitgPty\":{\r",
              "                  \"InitrTp\":\"CONSUMER\",\r",
              "                  \"Glctn\":{\r",
              "                     \"Lat\":\"-3.1041\",\r",
              "                     \"Long\":\"38.4238\"\r",
              "                  }\r",
              "               }\r",
              "            }\r",
              "         }\r",
              "      }\r",
              "   }\r",
              "}]\r",
              "\r",
              "pm.sendRequest({\r",
              "    url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',\r",
              "    method: 'POST',\r",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "    body: {\r",
              "        mode: 'raw',\r",
              "        raw: JSON.stringify({\r",
              "            query: `FOR transaction IN ${JSON.stringify(pacs002Transactions)}\r",
              "                    INSERT {_key: transaction.FIToFIPmtSts.GrpHdr.MsgId, TxTp: transaction.TxTp, FIToFIPmtSts: transaction.FIToFIPmtSts} INTO transactionHistory\r",
              "                    OPTIONS { overwrite: true }`\r",
              "        })\r",
              "    }\r",
              "});\r",
              "\r",
              "pm.sendRequest({\r",
              "    url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',\r",
              "    method: 'POST',\r",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "    body: {\r",
              "        mode: 'raw',\r",
              "        raw: JSON.stringify({\r",
              "            query: `FOR transaction IN ${JSON.stringify(pacs008Transactions)}\r",
              "                    INSERT {_key: transaction.FIToFICstmrCdt.GrpHdr.MsgId, TxTp: transaction.TxTp, FIToFICstmrCdt: transaction.FIToFICstmrCdt} INTO transactionHistory\r",
              "                    OPTIONS { overwrite: true }`\r",
              "        })\r",
              "    }\r",
              "});\r",
              "\r",
              "pm.sendRequest({\r",
              "    url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',\r",
              "    method: 'POST',\r",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "    body: {\r",
              "        mode: 'raw',\r",
              "        raw: JSON.stringify({\r",
              "            query: `FOR transaction IN ${JSON.stringify(pain001Transactions)}\r",
              "                    INSERT {_key: transaction.CstmrCdtTrfInitn.GrpHdr.MsgId, TxTp: transaction.TxTp, CstmrCdtTrfInitn: transaction.CstmrCdtTrfInitn} INTO transactionHistory\r",
              "                    OPTIONS { overwrite: true }`\r",
              "        })\r",
              "    }\r",
              "});\r",
              "\r",
              "\r",
              "pm.sendRequest({\r",
              "    url: 'http://arango.development:8529/_db/Configuration/_api/cursor',\r",
              "    method: 'POST',\r",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "    body: {\r",
              "        mode: 'raw',\r",
              "        raw: JSON.stringify({\r",
              "            query: `FOR config IN ${JSON.stringify(ruleConfig)}\r",
              "                    INSERT {_key: \"074\", id: config.id, cfg: config.cfg, config: config.config} INTO configuration\r",
              "                    OPTIONS { overwrite: true }`\r",
              "        })\r",
              "    }\r",
              "});"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "test",
          "script": {
            "exec": [
              "// 3 - Velocity >= 15km/h, < 50km/h TRUE (sub-rule ref .03) (Reasonable driving speed)\r",
              "\r",
              "const jsonData = pm.response.json();\r",
              "const req = JSON.parse(request.data);\r",
              "\r",
              "const transactions = [\r",
              "    \"30bea71c5ayfd5d8d57f94b2a40e9789\",\r",
              "    \"96ae98292ec04bf29b5d40ba99864v42\",\r",
              "    \"2nfe98292ec04bf29b5d40ba998648gh\",\r",
              "    \"5fse98292ec04bf29b5d40ba99864of5\"\r",
              "]\r",
              "\r",
              "pm.test(\"Status code is 200\", function () {\r",
              "    pm.response.to.have.status(200);\r",
              "});\r",
              "\r",
              "pm.test(\"should have rule result of true\", function () {\r",
              "    pm.expect(jsonData.ruleResult.result).to.be.eql(true);\r",
              "\r",
              "});\r",
              "\r",
              "pm.test(\"should have rule reason of 'Reasonable driving speed' \", function () {\r",
              "    pm.expect(jsonData.ruleResult.reason).to.be.eql(\"Reasonable driving speed\");\r",
              "});\r",
              "\r",
              "pm.test(\"should have rule subRuleRef of '.03' \", function () {\r",
              "    pm.expect(jsonData.ruleResult.subRuleRef).to.be.eql(\".03\");\r",
              "});\r",
              "\r",
              "pm.test(\"Remove Seed Data from DB\", function () {\r",
              "    pm.sendRequest({\r",
              "        url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',\r",
              "        method: 'POST',\r",
              "        header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "        body: {\r",
              "            mode: 'raw',\r",
              "            raw: JSON.stringify({\r",
              "                query: `FOR transaction IN ${JSON.stringify(transactions)}\r",
              "                        REMOVE { _key: transaction } IN transactionHistory\r",
              "                        OPTIONS { ignoreErrors: true }`\r",
              "            })\r",
              "        }\r",
              "    })\r",
              "});\r",
              "\r",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"transaction\": {\r\n    \"TxTp\": \"pacs.002.001.12\",\r\n    \"FIToFIPmtSts\": {\r\n      \"GrpHdr\": {\r\n        \"MsgId\": \"30bea71c5a054978ad0da7f94b2a40e9789\",\r\n        \"CreDtTm\": \"{{now}}\"\r\n      },\r\n      \"TxInfAndSts\": {\r\n        \"OrgnlInstrId\": \"5ab4fc7355de4ef8a75b78b00a681ed2255\",\r\n        \"OrgnlEndToEndId\": \"f0a2d6e99a000c04f304bdc09e47d44ef532fa9e7\",\r\n        \"TxSts\": \"ACCC\",\r\n        \"ChrgsInf\": [\r\n          {\r\n            \"Amt\": {\r\n              \"Amt\": 307.14,\r\n              \"Ccy\": \"USD\"\r\n            },\r\n            \"Agt\": {\r\n              \"FinInstnId\": {\r\n                \"ClrSysMmbId\": {\r\n                  \"MmbId\": \"dfsp001\"\r\n                }\r\n              }\r\n            }\r\n          },\r\n          {\r\n            \"Amt\": {\r\n              \"Amt\": 153.57,\r\n              \"Ccy\": \"USD\"\r\n            },\r\n            \"Agt\": {\r\n              \"FinInstnId\": {\r\n                \"ClrSysMmbId\": {\r\n                  \"MmbId\": \"dfsp001\"\r\n                }\r\n              }\r\n            }\r\n          },\r\n          {\r\n            \"Amt\": {\r\n              \"Amt\": 30.71,\r\n              \"Ccy\": \"USD\"\r\n            },\r\n            \"Agt\": {\r\n              \"FinInstnId\": {\r\n                \"ClrSysMmbId\": {\r\n                  \"MmbId\": \"dfsp002\"\r\n                }\r\n              }\r\n            }\r\n          }\r\n        ],\r\n        \"AccptncDtTm\": \"2021-12-03T15:24:26.000Z\",\r\n        \"InstgAgt\": {\r\n          \"FinInstnId\": {\r\n            \"ClrSysMmbId\": {\r\n              \"MmbId\": \"dfsp001\"\r\n            }\r\n          }\r\n        },\r\n        \"InstdAgt\": {\r\n          \"FinInstnId\": {\r\n            \"ClrSysMmbId\": {\r\n              \"MmbId\": \"dfsp002\"\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \"networkMap\": {\r\n    \"messages\": [\r\n      {\r\n        \"id\": \"004@1.0.0\",\r\n        \"host\": \"https://gateway.openfaas:8080/function/off-transaction-aggregation-decisioning-processor-rel-1-0-0\",\r\n        \"cfg\": \"1.0.0\",\r\n        \"txTp\": \"pacs.002.001.12\",\r\n        \"channels\": [\r\n          {\r\n            \"id\": \"001@1.0.0\",\r\n            \"host\": \"https://gateway.openfaas:8080/function/off-channel-aggregation-decisioning-processor-rel-1-0-0\",\r\n            \"cfg\": \"1.0.0\",\r\n            \"typologies\": [\r\n              {\r\n                \"id\": \"028@1.0.0\",\r\n                \"host\": \"https://gateway.openfaas:8080/function/off-typology-processor-rel-1-0-0\",\r\n                \"cfg\": \"1.0.0\",\r\n                \"rules\": [\r\n                  {\r\n                    \"id\": \"074@1.0.0\",\r\n                    \"host\": \"https://gateway.openfaas:8080/function/off-rule-074-rel-1-0-0\",\r\n                    \"cfg\": \"1.0.0\"\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n}\r\n",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "http://gateway.openfaas:8080/function/off-rule-074-rel-1-0-0",
          "protocol": "http",
          "host": ["gateway", "openfaas"],
          "port": "8080",
          "path": ["function", "off-rule-074-rel-1-0-0"]
        }
      },
      "response": []
    },
    {
      "name": "Test Scenario 4",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "// 4 - Velocity >= 50km/h TRUE (sub-rule ref .04) (Ludicrous speed)\r",
              "\r",
              "const now = new Date().getTime();\r",
              "\r",
              "pm.globals.set(\"now\", new Date().toISOString());\r",
              "\r",
              "const ruleConfig = [{\r",
              "  \"id\": \"074@1.0.0\",\r",
              "  \"cfg\": \"1.0.0\",\r",
              "  \"config\": {\r",
              "    \"timeframes\": [\r",
              "      {\r",
              "        \"threshold\": \"3600000\"\r",
              "      }\r",
              "    ],\r",
              "    \"bands\": [\r",
              "      {\r",
              "        \"subRuleRef\": \".01\",\r",
              "        \"upperLimit\": 5,\r",
              "        \"outcome\": true,\r",
              "        \"reason\": \"Reasonable walking speed\"\r",
              "      },\r",
              "      {\r",
              "        \"subRuleRef\": \".02\",\r",
              "        \"lowerLimit\": 5,\r",
              "        \"upperLimit\": 15,\r",
              "        \"outcome\": true,\r",
              "        \"reason\": \"Reasonable cycling speed\"\r",
              "      },\r",
              "      {\r",
              "        \"subRuleRef\": \".03\",\r",
              "        \"lowerLimit\": 15,\r",
              "        \"upperLimit\": 50,\r",
              "        \"outcome\": true,\r",
              "        \"reason\": \"Reasonable driving speed\"\r",
              "      },\r",
              "      {\r",
              "        \"subRuleRef\": \".04\",\r",
              "        \"lowerLimit\": 50,\r",
              "        \"outcome\": true,\r",
              "        \"reason\": \"Ludicrous speed\"\r",
              "      },\r",
              "      {\r",
              "        \"subRuleRef\": \".00\",\r",
              "        \"outcome\": false,\r",
              "        \"reason\": \"Insufficient transaction history\"\r",
              "      }\r",
              "    ]\r",
              "  }\r",
              "}]\r",
              "\r",
              "const pacs002Transactions = [\r",
              "//Incoming pac002 (same endtoend Id)\r",
              "{\r",
              "    \"TxTp\": \"pacs.002.001.12\",\r",
              "    \"FIToFIPmtSts\": {\r",
              "      \"GrpHdr\": {\r",
              "        \"MsgId\": \"30bea71c5ayfd5d8d57f94b2a40e9789\",\r",
              "        \"CreDtTm\": new Date(now).toISOString()\r",
              "      },\r",
              "      \"TxInfAndSts\": {\r",
              "        \"OrgnlInstrId\": \"5ab4fc7355de4ef8a75b78b00a681ed2255\",\r",
              "        \"OrgnlEndToEndId\": \"f0a2d6e99a000c04f304bdc09e47d44ef532fa9e7\",\r",
              "        \"TxSts\": \"ACCC\",\r",
              "        \"ChrgsInf\": [\r",
              "          {\r",
              "            \"Amt\": {\r",
              "              \"Amt\": 307.14,\r",
              "              \"Ccy\": \"USD\"\r",
              "            },\r",
              "            \"Agt\": {\r",
              "              \"FinInstnId\": {\r",
              "                \"ClrSysMmbId\": {\r",
              "                  \"MmbId\": \"dfsp001\"\r",
              "                }\r",
              "              }\r",
              "            }\r",
              "          },\r",
              "          {\r",
              "            \"Amt\": {\r",
              "              \"Amt\": 153.57,\r",
              "              \"Ccy\": \"USD\"\r",
              "            },\r",
              "            \"Agt\": {\r",
              "              \"FinInstnId\": {\r",
              "                \"ClrSysMmbId\": {\r",
              "                  \"MmbId\": \"dfsp001\"\r",
              "                }\r",
              "              }\r",
              "            }\r",
              "          },\r",
              "          {\r",
              "            \"Amt\": {\r",
              "              \"Amt\": 30.71,\r",
              "              \"Ccy\": \"USD\"\r",
              "            },\r",
              "            \"Agt\": {\r",
              "              \"FinInstnId\": {\r",
              "                \"ClrSysMmbId\": {\r",
              "                  \"MmbId\": \"dfsp002\"\r",
              "                }\r",
              "              }\r",
              "            }\r",
              "          }\r",
              "        ],\r",
              "        \"AccptncDtTm\": \"2021-12-03T15:24:26.000Z\",\r",
              "        \"InstgAgt\": {\r",
              "          \"FinInstnId\": {\r",
              "            \"ClrSysMmbId\": {\r",
              "              \"MmbId\": \"dfsp001\"\r",
              "            }\r",
              "          }\r",
              "        },\r",
              "        \"InstdAgt\": {\r",
              "          \"FinInstnId\": {\r",
              "            \"ClrSysMmbId\": {\r",
              "              \"MmbId\": \"dfsp002\"\r",
              "            }\r",
              "          }\r",
              "        }\r",
              "      }\r",
              "    }\r",
              "  }]\r",
              "\r",
              "const pacs008Transactions = [\r",
              "//Incoming pac008 (same endtoend Id)\r",
              "{\r",
              "    \"TxTp\": \"pacs.008.001.10\",\r",
              "    \"FIToFICstmrCdt\": {\r",
              "        \"GrpHdr\": {\r",
              "            \"MsgId\": \"96ae98292ec04bf29b5d40ba99864v42\",\r",
              "            \"CreDtTm\": new Date(now - 10000).toISOString(),\r",
              "            \"NbOfTxs\": 1,\r",
              "            \"SttlmInf\": {\r",
              "                \"SttlmMtd\": \"CLRG\"\r",
              "            }\r",
              "        },\r",
              "        \"CdtTrfTxInf\": {\r",
              "            \"PmtId\": {\r",
              "                \"InstrId\": \"5ab4fc7355de4ef8a75b78b00a681ed2\",\r",
              "                \"EndToEndId\": \"f0a2d6e99a000c04f304bdc09e47d44ef532fa9e7\"\r",
              "            },\r",
              "            \"IntrBkSttlmAmt\": {\r",
              "                \"Amt\": {\r",
              "                    \"Amt\": 31020.89,\r",
              "                    \"Ccy\": \"USD\"\r",
              "                }\r",
              "            },\r",
              "            \"InstdAmt\": {\r",
              "                \"Amt\": {\r",
              "                    \"Amt\": 31020.89,\r",
              "                    \"Ccy\": \"USD\"\r",
              "                }\r",
              "            },\r",
              "            \"ChrgBr\": \"DEBT\",\r",
              "            \"ChrgsInf\": {\r",
              "                \"Amt\": {\r",
              "                    \"Amt\": 307.14,\r",
              "                    \"Ccy\": \"USD\"\r",
              "                },\r",
              "                \"Agt\": {\r",
              "                    \"FinInstnId\": {\r",
              "                        \"ClrSysMmbId\": {\r",
              "                            \"MmbId\": \"dfsp001\"\r",
              "                        }\r",
              "                    }\r",
              "                }\r",
              "            },\r",
              "            \"InitgPty\": {\r",
              "                \"Nm\": \"April Blake Grant\",\r",
              "                \"Id\": {\r",
              "                    \"PrvtId\": {\r",
              "                        \"DtAndPlcOfBirth\": {\r",
              "                            \"BirthDt\": \"1968-02-01\",\r",
              "                            \"CityOfBirth\": \"Unknown\",\r",
              "                            \"CtryOfBirth\": \"ZZ\"\r",
              "                        },\r",
              "                        \"Othr\": {\r",
              "                            \"Id\": \"+27730975224\",\r",
              "                            \"SchmeNm\": {\r",
              "                                \"Prtry\": \"MSISDN\"\r",
              "                            }\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"CtctDtls\": {\r",
              "                    \"MobNb\": \"+27-730975224\"\r",
              "                }\r",
              "            },\r",
              "            \"Dbtr\": {\r",
              "                \"Nm\": \"April Blake Grant\",\r",
              "                \"Id\": {\r",
              "                    \"PrvtId\": {\r",
              "                        \"DtAndPlcOfBirth\": {\r",
              "                            \"BirthDt\": \"1968-02-01\",\r",
              "                            \"CityOfBirth\": \"Unknown\",\r",
              "                            \"CtryOfBirth\": \"ZZ\"\r",
              "                        },\r",
              "                        \"Othr\": {\r",
              "                            \"Id\": \"+27730975224\",\r",
              "                            \"SchmeNm\": {\r",
              "                                \"Prtry\": \"MSISDN\"\r",
              "                            }\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"CtctDtls\": {\r",
              "                    \"MobNb\": \"+27-730975224\"\r",
              "                }\r",
              "            },\r",
              "            \"DbtrAcct\": {\r",
              "                \"Id\": {\r",
              "                    \"Othr\": {\r",
              "                        \"Id\": \"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a19e\",\r",
              "                        \"SchmeNm\": {\r",
              "                            \"Prtry\": \"PSEUDO\"\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"Nm\": \"April Grant\"\r",
              "            },\r",
              "            \"DbtrAgt\": {\r",
              "                \"FinInstnId\": {\r",
              "                    \"ClrSysMmbId\": {\r",
              "                        \"MmbId\": \"dfsp001\"\r",
              "                    }\r",
              "                }\r",
              "            },\r",
              "            \"CdtrAgt\": {\r",
              "                \"FinInstnId\": {\r",
              "                    \"ClrSysMmbId\": {\r",
              "                        \"MmbId\": \"dfsp002\"\r",
              "                    }\r",
              "                }\r",
              "            },\r",
              "            \"Cdtr\": {\r",
              "                \"Nm\": \"Felicia Easton Quill\",\r",
              "                \"Id\": {\r",
              "                    \"PrvtId\": {\r",
              "                        \"DtAndPlcOfBirth\": {\r",
              "                            \"BirthDt\": \"1935-05-08\",\r",
              "                            \"CityOfBirth\": \"Unknown\",\r",
              "                            \"CtryOfBirth\": \"ZZ\"\r",
              "                        },\r",
              "                        \"Othr\": {\r",
              "                            \"Id\": \"+27707650428\",\r",
              "                            \"SchmeNm\": {\r",
              "                                \"Prtry\": \"MSISDN\"\r",
              "                            }\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"CtctDtls\": {\r",
              "                    \"MobNb\": \"+27-707650428\"\r",
              "                }\r",
              "            },\r",
              "            \"CdtrAcct\": {\r",
              "                \"Id\": {\r",
              "                    \"Othr\": {\r",
              "                        \"Id\": \"efdafefdee55c7a1e5eba4ccc0f01639dc37a020241b20495378f5a1343985b4\",\r",
              "                        \"SchmeNm\": {\r",
              "                            \"Prtry\": \"PSEUDO\"\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"Nm\": \"Felicia Quill\"\r",
              "            },\r",
              "            \"Purp\": {\r",
              "                \"Cd\": \"MP2P\"\r",
              "            }\r",
              "        },\r",
              "        \"RgltryRptg\": {\r",
              "            \"Dtls\": {\r",
              "                \"Tp\": \"BALANCE OF PAYMENTS\",\r",
              "                \"Cd\": \"100\"\r",
              "            }\r",
              "        },\r",
              "        \"RmtInf\": {\r",
              "            \"Ustrd\": \"Payment of USD 30713.75 from April to Felicia\"\r",
              "        },\r",
              "        \"SplmtryData\": {\r",
              "            \"Envlp\": {\r",
              "                \"Doc\": {\r",
              "                    \"Xprtn\": \"2021-11-30T10:38:56.000Z\"\r",
              "                }\r",
              "            }\r",
              "        }\r",
              "    }\r",
              "}\r",
              "\r",
              "\r",
              "]\r",
              "\r",
              "const pain001Transactions = [\r",
              "//Incoming pac001 (same endtoend Id)\r",
              "{\r",
              "   \"TxTp\":\"pain.001.001.11\",\r",
              "   \"CstmrCdtTrfInitn\":{\r",
              "      \"GrpHdr\":{\r",
              "         \"MsgId\":\"2nfe98292ec04bf29b5d40ba998648gh\",\r",
              "         \"CreDtTm\": new Date(new Date(now - 30000).getTime()).toISOString(),\r",
              "         \"NbOfTxs\":1,\r",
              "         \"InitgPty\":{\r",
              "            \"Nm\":\"Ivan Reese Russel-Klein\",\r",
              "            \"Id\":{\r",
              "               \"PrvtId\":{\r",
              "                  \"DtAndPlcOfBirth\":{\r",
              "                     \"BirthDt\":\"1967-11-23\",\r",
              "                     \"CityOfBirth\":\"Unknown\",\r",
              "                     \"CtryOfBirth\":\"ZZ\"\r",
              "                  },\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"CtctDtls\":{\r",
              "               \"MobNb\":\"\"\r",
              "            }\r",
              "         }\r",
              "      },\r",
              "      \"PmtInf\":{\r",
              "         \"PmtInfId\":\"2c516801007642dfb892944dde1cf845897\",\r",
              "         \"PmtMtd\":\"TRA\",\r",
              "         \"ReqdAdvcTp\":{\r",
              "            \"DbtAdvc\":{\r",
              "               \"Cd\":\"ADWD\",\r",
              "               \"Prtry\":\"Advice with transaction details\"\r",
              "            }\r",
              "         },\r",
              "         \"ReqdExctnDt\":{\r",
              "            \"Dt\":\"2021-10-07\",\r",
              "            \"DtTm\":\"2021-10-07T09:25:31.000Z\"\r",
              "         },\r",
              "         \"Dbtr\":{\r",
              "            \"Nm\":\"Ivan Reese Russel-Klein\",\r",
              "            \"Id\":{\r",
              "               \"PrvtId\":{\r",
              "                  \"DtAndPlcOfBirth\":{\r",
              "                     \"BirthDt\":\"1967-11-23\",\r",
              "                     \"CityOfBirth\":\"Unknown\",\r",
              "                     \"CtryOfBirth\":\"ZZ\"\r",
              "                  },\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"CtctDtls\":{\r",
              "               \"MobNb\":\"\"\r",
              "            }\r",
              "         },\r",
              "         \"DbtrAcct\":{\r",
              "            \"Id\":{\r",
              "               \"Othr\":{\r",
              "                  \"Id\":\"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a19e\",\r",
              "                  \"SchmeNm\":{\r",
              "                     \"Prtry\":\"PASSPORT\"\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"Nm\":\"Ivan Russel-Klein\"\r",
              "         },\r",
              "         \"DbtrAgt\":{\r",
              "            \"FinInstnId\":{\r",
              "               \"ClrSysMmbId\":{\r",
              "                  \"MmbId\":\"dfsp001\"\r",
              "               }\r",
              "            }\r",
              "         },\r",
              "         \"CdtTrfTxInf\":{\r",
              "            \"PmtId\":{\r",
              "               \"EndToEndId\":\"f0a2d6e99a000c04f304bdc09e47d44ef532fa9e7\"\r",
              "            },\r",
              "            \"PmtTpInf\":{\r",
              "               \"CtgyPurp\":{\r",
              "                  \"Prtry\":\"TRANSFER\"\r",
              "               }\r",
              "            },\r",
              "            \"Amt\":{\r",
              "               \"InstdAmt\":{\r",
              "                  \"Amt\":{\r",
              "                     \"Amt\":\"50431891779910900\",\r",
              "                     \"Ccy\":\"USD\"\r",
              "                  }\r",
              "               },\r",
              "               \"EqvtAmt\":{\r",
              "                  \"Amt\":{\r",
              "                     \"Amt\":\"50431891779910900\",\r",
              "                     \"Ccy\":\"USD\"\r",
              "                  },\r",
              "                  \"CcyOfTrf\":\"USD\"\r",
              "               }\r",
              "            },\r",
              "            \"ChrgBr\":\"DEBT\",\r",
              "            \"CdtrAgt\":{\r",
              "               \"FinInstnId\":{\r",
              "                  \"ClrSysMmbId\":{\r",
              "                     \"MmbId\":\"dfsp002\"\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"Cdtr\":{\r",
              "               \"Nm\":\"\",\r",
              "               \"Id\":{\r",
              "                  \"PrvtId\":{\r",
              "                     \"DtAndPlcOfBirth\":{\r",
              "                        \"BirthDt\":\"1923-04-26\",\r",
              "                        \"CityOfBirth\":\"\",\r",
              "                        \"CtryOfBirth\":\"\"\r",
              "                     },\r",
              "                     \"Othr\":{\r",
              "                        \"Id\":\"\",\r",
              "                        \"SchmeNm\":{\r",
              "                           \"Prtry\":\"MSISDN\"\r",
              "                        }\r",
              "                     }\r",
              "                  }\r",
              "               },\r",
              "               \"CtctDtls\":{\r",
              "                  \"MobNb\":\"\"\r",
              "               }\r",
              "            },\r",
              "            \"CdtrAcct\":{\r",
              "               \"Id\":{\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a23c\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               },\r",
              "               \"Nm\":\"April Adamson\"\r",
              "            },\r",
              "            \"Purp\":{\r",
              "               \"Cd\":\"MP2P\"\r",
              "            },\r",
              "            \"RgltryRptg\":{\r",
              "               \"Dtls\":{\r",
              "                  \"Tp\":\"BALANCE OF PAYMENTS\",\r",
              "                  \"Cd\":\"100\"\r",
              "               }\r",
              "            },\r",
              "            \"RmtInf\":{\r",
              "               \"Ustrd\":\"Payment of USD 49932566118723700.89 from Ivan to April\"\r",
              "            },\r",
              "            \"SplmtryData\":{\r",
              "               \"Envlp\":{\r",
              "                  \"Doc\":{\r",
              "                     \"Cdtr\":{\r",
              "                        \"FrstNm\":\"Ivan\",\r",
              "                        \"MddlNm\":\"Reese\",\r",
              "                        \"LastNm\":\"Russel-Klein\",\r",
              "                        \"MrchntClssfctnCd\":\"BLANK\"\r",
              "                     },\r",
              "                     \"Dbtr\":{\r",
              "                        \"FrstNm\":\"\",\r",
              "                        \"MddlNm\":\"\",\r",
              "                        \"LastNm\":\"\",\r",
              "                        \"MrchntClssfctnCd\":\"BLANK\"\r",
              "                     },\r",
              "                     \"DbtrFinSvcsPrvdrFees\":{\r",
              "                        \"Ccy\":\"USD\",\r",
              "                        \"Amt\":\"499325661187237\"\r",
              "                     },\r",
              "                     \"Xprtn\":\"2021-10-07T09:30:31.000Z\"\r",
              "                  }\r",
              "               }\r",
              "            }\r",
              "         }\r",
              "      },\r",
              "      \"SplmtryData\":{\r",
              "         \"Envlp\":{\r",
              "            \"Doc\":{\r",
              "               \"InitgPty\":{\r",
              "                  \"InitrTp\":\"CONSUMER\",\r",
              "                  \"Glctn\":{\r",
              "                     \"Lat\":\"-4.4541\",\r",
              "                     \"Long\":\"38.4238\"\r",
              "                  }\r",
              "               }\r",
              "            }\r",
              "         }\r",
              "      }\r",
              "   }\r",
              "},\r",
              "\r",
              "//Historical Pain001 (different endtoend Id)\r",
              "{\r",
              "   \"TxTp\":\"pain.001.001.11\",\r",
              "   \"CstmrCdtTrfInitn\":{ \r",
              "      \"GrpHdr\":{\r",
              "         \"MsgId\":\"5fse98292ec04bf29b5d40ba99864of5\",\r",
              "         \"CreDtTm\": new Date(new Date(now - 3300000).getTime()).toISOString(),\r",
              "         \"NbOfTxs\":1,\r",
              "         \"InitgPty\":{\r",
              "            \"Nm\":\"Ivan Reese Russel-Klein\",\r",
              "            \"Id\":{\r",
              "               \"PrvtId\":{\r",
              "                  \"DtAndPlcOfBirth\":{\r",
              "                     \"BirthDt\":\"1967-11-23\",\r",
              "                     \"CityOfBirth\":\"Unknown\",\r",
              "                     \"CtryOfBirth\":\"ZZ\"\r",
              "                  },\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"CtctDtls\":{\r",
              "               \"MobNb\":\"\"\r",
              "            }\r",
              "         }\r",
              "      },\r",
              "      \"PmtInf\":{\r",
              "         \"PmtInfId\":\"2c516801007642dfb892944dde1cf845897\",\r",
              "         \"PmtMtd\":\"TRA\",\r",
              "         \"ReqdAdvcTp\":{\r",
              "            \"DbtAdvc\":{\r",
              "               \"Cd\":\"ADWD\",\r",
              "               \"Prtry\":\"Advice with transaction details\"\r",
              "            }\r",
              "         },\r",
              "         \"ReqdExctnDt\":{\r",
              "            \"Dt\":\"2021-10-07\",\r",
              "            \"DtTm\":\"2021-10-07T09:25:31.000Z\"\r",
              "         },\r",
              "         \"Dbtr\":{\r",
              "            \"Nm\":\"Ivan Reese Russel-Klein\",\r",
              "            \"Id\":{\r",
              "               \"PrvtId\":{\r",
              "                  \"DtAndPlcOfBirth\":{\r",
              "                     \"BirthDt\":\"1967-11-23\",\r",
              "                     \"CityOfBirth\":\"Unknown\",\r",
              "                     \"CtryOfBirth\":\"ZZ\"\r",
              "                  },\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"CtctDtls\":{\r",
              "               \"MobNb\":\"\"\r",
              "            }\r",
              "         },\r",
              "         \"DbtrAcct\":{\r",
              "            \"Id\":{\r",
              "               \"Othr\":{\r",
              "                  \"Id\":\"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a19e\",\r",
              "                  \"SchmeNm\":{\r",
              "                     \"Prtry\":\"PASSPORT\"\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"Nm\":\"Ivan Russel-Klein\"\r",
              "         },\r",
              "         \"DbtrAgt\":{\r",
              "            \"FinInstnId\":{\r",
              "               \"ClrSysMmbId\":{\r",
              "                  \"MmbId\":\"dfsp001\"\r",
              "               } \r",
              "            }\r",
              "         },\r",
              "         \"CdtTrfTxInf\":{\r",
              "            \"PmtId\":{\r",
              "               \"EndToEndId\":\"f809cd40bda73f0a2d6e99a000c04f304bdc09e47\"\r",
              "            },\r",
              "            \"PmtTpInf\":{\r",
              "               \"CtgyPurp\":{\r",
              "                  \"Prtry\":\"TRANSFER\"\r",
              "               }\r",
              "            },\r",
              "            \"Amt\":{\r",
              "               \"InstdAmt\":{\r",
              "                  \"Amt\":{\r",
              "                     \"Amt\":\"50431891779910900\",\r",
              "                     \"Ccy\":\"USD\"\r",
              "                  }\r",
              "               },\r",
              "               \"EqvtAmt\":{\r",
              "                  \"Amt\":{\r",
              "                     \"Amt\":\"50431891779910900\",\r",
              "                     \"Ccy\":\"USD\"\r",
              "                  },\r",
              "                  \"CcyOfTrf\":\"USD\"\r",
              "               }\r",
              "            },\r",
              "            \"ChrgBr\":\"DEBT\",\r",
              "            \"CdtrAgt\":{\r",
              "               \"FinInstnId\":{\r",
              "                  \"ClrSysMmbId\":{\r",
              "                     \"MmbId\":\"dfsp002\"\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"Cdtr\":{\r",
              "               \"Nm\":\"\",\r",
              "               \"Id\":{\r",
              "                  \"PrvtId\":{\r",
              "                     \"DtAndPlcOfBirth\":{\r",
              "                        \"BirthDt\":\"1923-04-26\",\r",
              "                        \"CityOfBirth\":\"\",\r",
              "                        \"CtryOfBirth\":\"\"\r",
              "                     },\r",
              "                     \"Othr\":{\r",
              "                        \"Id\":\"\",\r",
              "                        \"SchmeNm\":{\r",
              "                           \"Prtry\":\"MSISDN\"\r",
              "                        }\r",
              "                     }\r",
              "                  }\r",
              "               },\r",
              "               \"CtctDtls\":{\r",
              "                  \"MobNb\":\"\"\r",
              "               }\r",
              "            },\r",
              "            \"CdtrAcct\":{\r",
              "               \"Id\":{\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a24c\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               },\r",
              "               \"Nm\":\"April Adamson\"\r",
              "            },\r",
              "            \"Purp\":{\r",
              "               \"Cd\":\"MP2P\"\r",
              "            },\r",
              "            \"RgltryRptg\":{\r",
              "               \"Dtls\":{\r",
              "                  \"Tp\":\"BALANCE OF PAYMENTS\",\r",
              "                  \"Cd\":\"100\"\r",
              "               }\r",
              "            },\r",
              "            \"RmtInf\":{\r",
              "               \"Ustrd\":\"Payment of USD 49932566118723700.89 from Ivan to April\"\r",
              "            },\r",
              "            \"SplmtryData\":{\r",
              "               \"Envlp\":{\r",
              "                  \"Doc\":{\r",
              "                     \"Cdtr\":{\r",
              "                        \"FrstNm\":\"Ivan\",\r",
              "                        \"MddlNm\":\"Reese\",\r",
              "                        \"LastNm\":\"Russel-Klein\",\r",
              "                        \"MrchntClssfctnCd\":\"BLANK\"\r",
              "                     },\r",
              "                     \"Dbtr\":{\r",
              "                        \"FrstNm\":\"\",\r",
              "                        \"MddlNm\":\"\",\r",
              "                        \"LastNm\":\"\",\r",
              "                        \"MrchntClssfctnCd\":\"BLANK\"\r",
              "                     },\r",
              "                     \"DbtrFinSvcsPrvdrFees\":{\r",
              "                        \"Ccy\":\"USD\",\r",
              "                        \"Amt\":\"499325661187237\"\r",
              "                     },\r",
              "                     \"Xprtn\":\"2021-10-07T09:30:31.000Z\"\r",
              "                  }\r",
              "               }\r",
              "            }\r",
              "         }\r",
              "      },\r",
              "      \"SplmtryData\":{\r",
              "         \"Envlp\":{\r",
              "            \"Doc\":{\r",
              "               \"InitgPty\":{\r",
              "                  \"InitrTp\":\"CONSUMER\",\r",
              "                  \"Glctn\":{\r",
              "                     \"Lat\":\"-3.1041\",\r",
              "                     \"Long\":\"38.4238\"\r",
              "                  }\r",
              "               }\r",
              "            }\r",
              "         }\r",
              "      }\r",
              "   }\r",
              "}]\r",
              "\r",
              "pm.sendRequest({\r",
              "    url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',\r",
              "    method: 'POST',\r",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "    body: {\r",
              "        mode: 'raw',\r",
              "        raw: JSON.stringify({\r",
              "            query: `FOR transaction IN ${JSON.stringify(pacs002Transactions)}\r",
              "                    INSERT {_key: transaction.FIToFIPmtSts.GrpHdr.MsgId, TxTp: transaction.TxTp, FIToFIPmtSts: transaction.FIToFIPmtSts} INTO transactionHistory\r",
              "                    OPTIONS { overwrite: true }`\r",
              "        })\r",
              "    }\r",
              "});\r",
              "\r",
              "pm.sendRequest({\r",
              "    url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',\r",
              "    method: 'POST',\r",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "    body: {\r",
              "        mode: 'raw',\r",
              "        raw: JSON.stringify({\r",
              "            query: `FOR transaction IN ${JSON.stringify(pacs008Transactions)}\r",
              "                    INSERT {_key: transaction.FIToFICstmrCdt.GrpHdr.MsgId, TxTp: transaction.TxTp, FIToFICstmrCdt: transaction.FIToFICstmrCdt} INTO transactionHistory\r",
              "                    OPTIONS { overwrite: true }`\r",
              "        })\r",
              "    }\r",
              "});\r",
              "\r",
              "pm.sendRequest({\r",
              "    url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',\r",
              "    method: 'POST',\r",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "    body: {\r",
              "        mode: 'raw',\r",
              "        raw: JSON.stringify({\r",
              "            query: `FOR transaction IN ${JSON.stringify(pain001Transactions)}\r",
              "                    INSERT {_key: transaction.CstmrCdtTrfInitn.GrpHdr.MsgId, TxTp: transaction.TxTp, CstmrCdtTrfInitn: transaction.CstmrCdtTrfInitn} INTO transactionHistory\r",
              "                    OPTIONS { overwrite: true }`\r",
              "        })\r",
              "    }\r",
              "});\r",
              "\r",
              "\r",
              "pm.sendRequest({\r",
              "    url: 'http://arango.development:8529/_db/Configuration/_api/cursor',\r",
              "    method: 'POST',\r",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "    body: {\r",
              "        mode: 'raw',\r",
              "        raw: JSON.stringify({\r",
              "            query: `FOR config IN ${JSON.stringify(ruleConfig)}\r",
              "                    INSERT {_key: \"074\", id: config.id, cfg: config.cfg, config: config.config} INTO configuration\r",
              "                    OPTIONS { overwrite: true }`\r",
              "        })\r",
              "    }\r",
              "});"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "test",
          "script": {
            "exec": [
              "// 4 - Velocity >= 50km/h TRUE (sub-rule ref .04) (Ludicrous speed)\r",
              "\r",
              "const jsonData = pm.response.json();\r",
              "const req = JSON.parse(request.data);\r",
              "\r",
              "const transactions = [\r",
              "    \"30bea71c5ayfd5d8d57f94b2a40e9789\",\r",
              "    \"96ae98292ec04bf29b5d40ba99864v42\",\r",
              "    \"2nfe98292ec04bf29b5d40ba998648gh\",\r",
              "    \"5fse98292ec04bf29b5d40ba99864of5\"\r",
              "]\r",
              "\r",
              "pm.test(\"Status code is 200\", function () {\r",
              "    pm.response.to.have.status(200);\r",
              "});\r",
              "\r",
              "pm.test(\"should have rule result of true\", function () {\r",
              "    pm.expect(jsonData.ruleResult.result).to.be.eql(true);\r",
              "\r",
              "});\r",
              "\r",
              "pm.test(\"should have rule reason of 'Ludicrous speed' \", function () {\r",
              "    pm.expect(jsonData.ruleResult.reason).to.be.eql(\"Ludicrous speed\");\r",
              "});\r",
              "\r",
              "pm.test(\"should have rule subRuleRef of '.04' \", function () {\r",
              "    pm.expect(jsonData.ruleResult.subRuleRef).to.be.eql(\".04\");\r",
              "});\r",
              "\r",
              "pm.test(\"Remove Seed Data from DB\", function () {\r",
              "    pm.sendRequest({\r",
              "        url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',\r",
              "        method: 'POST',\r",
              "        header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "        body: {\r",
              "            mode: 'raw',\r",
              "            raw: JSON.stringify({\r",
              "                query: `FOR transaction IN ${JSON.stringify(transactions)}\r",
              "                        REMOVE { _key: transaction } IN transactionHistory\r",
              "                        OPTIONS { ignoreErrors: true }`\r",
              "            })\r",
              "        }\r",
              "    })\r",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"transaction\": {\r\n    \"TxTp\": \"pacs.002.001.12\",\r\n    \"FIToFIPmtSts\": {\r\n      \"GrpHdr\": {\r\n        \"MsgId\": \"30bea71c5a054978ad0da7f94b2a40e9789\",\r\n        \"CreDtTm\": \"{{now}}\"\r\n      },\r\n      \"TxInfAndSts\": {\r\n        \"OrgnlInstrId\": \"5ab4fc7355de4ef8a75b78b00a681ed2255\",\r\n        \"OrgnlEndToEndId\": \"f0a2d6e99a000c04f304bdc09e47d44ef532fa9e7\",\r\n        \"TxSts\": \"ACCC\",\r\n        \"ChrgsInf\": [\r\n          {\r\n            \"Amt\": {\r\n              \"Amt\": 307.14,\r\n              \"Ccy\": \"USD\"\r\n            },\r\n            \"Agt\": {\r\n              \"FinInstnId\": {\r\n                \"ClrSysMmbId\": {\r\n                  \"MmbId\": \"dfsp001\"\r\n                }\r\n              }\r\n            }\r\n          },\r\n          {\r\n            \"Amt\": {\r\n              \"Amt\": 153.57,\r\n              \"Ccy\": \"USD\"\r\n            },\r\n            \"Agt\": {\r\n              \"FinInstnId\": {\r\n                \"ClrSysMmbId\": {\r\n                  \"MmbId\": \"dfsp001\"\r\n                }\r\n              }\r\n            }\r\n          },\r\n          {\r\n            \"Amt\": {\r\n              \"Amt\": 30.71,\r\n              \"Ccy\": \"USD\"\r\n            },\r\n            \"Agt\": {\r\n              \"FinInstnId\": {\r\n                \"ClrSysMmbId\": {\r\n                  \"MmbId\": \"dfsp002\"\r\n                }\r\n              }\r\n            }\r\n          }\r\n        ],\r\n        \"AccptncDtTm\": \"2021-12-03T15:24:26.000Z\",\r\n        \"InstgAgt\": {\r\n          \"FinInstnId\": {\r\n            \"ClrSysMmbId\": {\r\n              \"MmbId\": \"dfsp001\"\r\n            }\r\n          }\r\n        },\r\n        \"InstdAgt\": {\r\n          \"FinInstnId\": {\r\n            \"ClrSysMmbId\": {\r\n              \"MmbId\": \"dfsp002\"\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \"networkMap\": {\r\n    \"messages\": [\r\n      {\r\n        \"id\": \"004@1.0.0\",\r\n        \"host\": \"https://gateway.openfaas:8080/function/off-transaction-aggregation-decisioning-processor-rel-1-0-0\",\r\n        \"cfg\": \"1.0.0\",\r\n        \"txTp\": \"pacs.002.001.12\",\r\n        \"channels\": [\r\n          {\r\n            \"id\": \"001@1.0.0\",\r\n            \"host\": \"https://gateway.openfaas:8080/function/off-channel-aggregation-decisioning-processor-rel-1-0-0\",\r\n            \"cfg\": \"1.0.0\",\r\n            \"typologies\": [\r\n              {\r\n                \"id\": \"028@1.0.0\",\r\n                \"host\": \"https://gateway.openfaas:8080/function/off-typology-processor-rel-1-0-0\",\r\n                \"cfg\": \"1.0.0\",\r\n                \"rules\": [\r\n                  {\r\n                    \"id\": \"074@1.0.0\",\r\n                    \"host\": \"https://gateway.openfaas:8080/function/off-rule-074-rel-1-0-0\",\r\n                    \"cfg\": \"1.0.0\"\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n}\r\n",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "http://gateway.openfaas:8080/function/off-rule-074-rel-1-0-0",
          "protocol": "http",
          "host": ["gateway", "openfaas"],
          "port": "8080",
          "path": ["function", "off-rule-074-rel-1-0-0"]
        }
      },
      "response": []
    },
    {
      "name": "Test Scenario 5",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "// 5 - Update first two bands - Velocity < 7.5km/h TRUE (sub-rule ref .01) (Reasonable walking speed)\r",
              "\r",
              "const now = new Date().getTime();\r",
              "\r",
              "pm.globals.set(\"now\", new Date().toISOString());\r",
              "\r",
              "const ruleConfig = [{\r",
              "  \"id\": \"074@1.0.0\",\r",
              "  \"cfg\": \"1.0.0\",\r",
              "  \"config\": {\r",
              "    \"timeframes\": [\r",
              "      {\r",
              "        \"threshold\": \"3600000\"\r",
              "      }\r",
              "    ],\r",
              "    \"bands\": [\r",
              "      {\r",
              "        \"subRuleRef\": \".01\",\r",
              "        \"upperLimit\": 7.5,\r",
              "        \"outcome\": true,\r",
              "        \"reason\": \"Reasonable walking speed\"\r",
              "      },\r",
              "      {\r",
              "        \"subRuleRef\": \".02\",\r",
              "        \"lowerLimit\": 7.5,\r",
              "        \"upperLimit\": 15,\r",
              "        \"outcome\": true,\r",
              "        \"reason\": \"Reasonable cycling speed\"\r",
              "      },\r",
              "      {\r",
              "        \"subRuleRef\": \".03\",\r",
              "        \"lowerLimit\": 15,\r",
              "        \"upperLimit\": 50,\r",
              "        \"outcome\": true,\r",
              "        \"reason\": \"Reasonable driving speed\"\r",
              "      },\r",
              "      {\r",
              "        \"subRuleRef\": \".04\",\r",
              "        \"lowerLimit\": 50,\r",
              "        \"outcome\": true,\r",
              "        \"reason\": \"Ludicrous speed\"\r",
              "      },\r",
              "      {\r",
              "        \"subRuleRef\": \".00\",\r",
              "        \"outcome\": false,\r",
              "        \"reason\": \"Insufficient transaction history\"\r",
              "      }\r",
              "    ]\r",
              "  }\r",
              "}]\r",
              "\r",
              "const pacs002Transactions = [\r",
              "{\r",
              "    \"TxTp\": \"pacs.002.001.12\",\r",
              "    \"FIToFIPmtSts\": {\r",
              "      \"GrpHdr\": {\r",
              "        \"MsgId\": \"30bea71c5ayfd5d8d57f94b2a40e9789\",\r",
              "        \"CreDtTm\": new Date(now).toISOString()\r",
              "      },\r",
              "      \"TxInfAndSts\": {\r",
              "        \"OrgnlInstrId\": \"5ab4fc7355de4ef8a75b78b00a681ed2255\",\r",
              "        \"OrgnlEndToEndId\": \"f0a2d6e99a000c04f304bdc09e47d44ef532fa9e7\",\r",
              "        \"TxSts\": \"ACCC\",\r",
              "        \"ChrgsInf\": [\r",
              "          {\r",
              "            \"Amt\": {\r",
              "              \"Amt\": 307.14,\r",
              "              \"Ccy\": \"USD\"\r",
              "            },\r",
              "            \"Agt\": {\r",
              "              \"FinInstnId\": {\r",
              "                \"ClrSysMmbId\": {\r",
              "                  \"MmbId\": \"dfsp001\"\r",
              "                }\r",
              "              }\r",
              "            }\r",
              "          },\r",
              "          {\r",
              "            \"Amt\": {\r",
              "              \"Amt\": 153.57,\r",
              "              \"Ccy\": \"USD\"\r",
              "            },\r",
              "            \"Agt\": {\r",
              "              \"FinInstnId\": {\r",
              "                \"ClrSysMmbId\": {\r",
              "                  \"MmbId\": \"dfsp001\"\r",
              "                }\r",
              "              }\r",
              "            }\r",
              "          },\r",
              "          {\r",
              "            \"Amt\": {\r",
              "              \"Amt\": 30.71,\r",
              "              \"Ccy\": \"USD\"\r",
              "            },\r",
              "            \"Agt\": {\r",
              "              \"FinInstnId\": {\r",
              "                \"ClrSysMmbId\": {\r",
              "                  \"MmbId\": \"dfsp002\"\r",
              "                }\r",
              "              }\r",
              "            }\r",
              "          }\r",
              "        ],\r",
              "        \"AccptncDtTm\": \"2021-12-03T15:24:26.000Z\",\r",
              "        \"InstgAgt\": {\r",
              "          \"FinInstnId\": {\r",
              "            \"ClrSysMmbId\": {\r",
              "              \"MmbId\": \"dfsp001\"\r",
              "            }\r",
              "          }\r",
              "        },\r",
              "        \"InstdAgt\": {\r",
              "          \"FinInstnId\": {\r",
              "            \"ClrSysMmbId\": {\r",
              "              \"MmbId\": \"dfsp002\"\r",
              "            }\r",
              "          }\r",
              "        }\r",
              "      }\r",
              "    }\r",
              "  }]\r",
              "\r",
              "const pacs008Transactions = [\r",
              "{\r",
              "    \"TxTp\": \"pacs.008.001.10\",\r",
              "    \"FIToFICstmrCdt\": {\r",
              "        \"GrpHdr\": {\r",
              "            \"MsgId\": \"96ae98292ec04bf29b5d40ba99864v42\",\r",
              "            \"CreDtTm\": new Date(now - 10000).toISOString(),\r",
              "            \"NbOfTxs\": 1,\r",
              "            \"SttlmInf\": {\r",
              "                \"SttlmMtd\": \"CLRG\"\r",
              "            }\r",
              "        },\r",
              "        \"CdtTrfTxInf\": {\r",
              "            \"PmtId\": {\r",
              "                \"InstrId\": \"5ab4fc7355de4ef8a75b78b00a681ed2\",\r",
              "                \"EndToEndId\": \"f0a2d6e99a000c04f304bdc09e47d44ef532fa9e7\"\r",
              "            },\r",
              "            \"IntrBkSttlmAmt\": {\r",
              "                \"Amt\": {\r",
              "                    \"Amt\": 31020.89,\r",
              "                    \"Ccy\": \"USD\"\r",
              "                }\r",
              "            },\r",
              "            \"InstdAmt\": {\r",
              "                \"Amt\": {\r",
              "                    \"Amt\": 31020.89,\r",
              "                    \"Ccy\": \"USD\"\r",
              "                }\r",
              "            },\r",
              "            \"ChrgBr\": \"DEBT\",\r",
              "            \"ChrgsInf\": {\r",
              "                \"Amt\": {\r",
              "                    \"Amt\": 307.14,\r",
              "                    \"Ccy\": \"USD\"\r",
              "                },\r",
              "                \"Agt\": {\r",
              "                    \"FinInstnId\": {\r",
              "                        \"ClrSysMmbId\": {\r",
              "                            \"MmbId\": \"dfsp001\"\r",
              "                        }\r",
              "                    }\r",
              "                }\r",
              "            },\r",
              "            \"InitgPty\": {\r",
              "                \"Nm\": \"April Blake Grant\",\r",
              "                \"Id\": {\r",
              "                    \"PrvtId\": {\r",
              "                        \"DtAndPlcOfBirth\": {\r",
              "                            \"BirthDt\": \"1968-02-01\",\r",
              "                            \"CityOfBirth\": \"Unknown\",\r",
              "                            \"CtryOfBirth\": \"ZZ\"\r",
              "                        },\r",
              "                        \"Othr\": {\r",
              "                            \"Id\": \"+27730975224\",\r",
              "                            \"SchmeNm\": {\r",
              "                                \"Prtry\": \"MSISDN\"\r",
              "                            }\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"CtctDtls\": {\r",
              "                    \"MobNb\": \"+27-730975224\"\r",
              "                }\r",
              "            },\r",
              "            \"Dbtr\": {\r",
              "                \"Nm\": \"April Blake Grant\",\r",
              "                \"Id\": {\r",
              "                    \"PrvtId\": {\r",
              "                        \"DtAndPlcOfBirth\": {\r",
              "                            \"BirthDt\": \"1968-02-01\",\r",
              "                            \"CityOfBirth\": \"Unknown\",\r",
              "                            \"CtryOfBirth\": \"ZZ\"\r",
              "                        },\r",
              "                        \"Othr\": {\r",
              "                            \"Id\": \"+27730975224\",\r",
              "                            \"SchmeNm\": {\r",
              "                                \"Prtry\": \"MSISDN\"\r",
              "                            }\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"CtctDtls\": {\r",
              "                    \"MobNb\": \"+27-730975224\"\r",
              "                }\r",
              "            },\r",
              "            \"DbtrAcct\": {\r",
              "                \"Id\": {\r",
              "                    \"Othr\": {\r",
              "                        \"Id\": \"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a19e\",\r",
              "                        \"SchmeNm\": {\r",
              "                            \"Prtry\": \"PSEUDO\"\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"Nm\": \"April Grant\"\r",
              "            },\r",
              "            \"DbtrAgt\": {\r",
              "                \"FinInstnId\": {\r",
              "                    \"ClrSysMmbId\": {\r",
              "                        \"MmbId\": \"dfsp001\"\r",
              "                    }\r",
              "                }\r",
              "            },\r",
              "            \"CdtrAgt\": {\r",
              "                \"FinInstnId\": {\r",
              "                    \"ClrSysMmbId\": {\r",
              "                        \"MmbId\": \"dfsp002\"\r",
              "                    }\r",
              "                }\r",
              "            },\r",
              "            \"Cdtr\": {\r",
              "                \"Nm\": \"Felicia Easton Quill\",\r",
              "                \"Id\": {\r",
              "                    \"PrvtId\": {\r",
              "                        \"DtAndPlcOfBirth\": {\r",
              "                            \"BirthDt\": \"1935-05-08\",\r",
              "                            \"CityOfBirth\": \"Unknown\",\r",
              "                            \"CtryOfBirth\": \"ZZ\"\r",
              "                        },\r",
              "                        \"Othr\": {\r",
              "                            \"Id\": \"+27707650428\",\r",
              "                            \"SchmeNm\": {\r",
              "                                \"Prtry\": \"MSISDN\"\r",
              "                            }\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"CtctDtls\": {\r",
              "                    \"MobNb\": \"+27-707650428\"\r",
              "                }\r",
              "            },\r",
              "            \"CdtrAcct\": {\r",
              "                \"Id\": {\r",
              "                    \"Othr\": {\r",
              "                        \"Id\": \"efdafefdee55c7a1e5eba4ccc0f01639dc37a020241b20495378f5a1343985b4\",\r",
              "                        \"SchmeNm\": {\r",
              "                            \"Prtry\": \"PSEUDO\"\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"Nm\": \"Felicia Quill\"\r",
              "            },\r",
              "            \"Purp\": {\r",
              "                \"Cd\": \"MP2P\"\r",
              "            }\r",
              "        },\r",
              "        \"RgltryRptg\": {\r",
              "            \"Dtls\": {\r",
              "                \"Tp\": \"BALANCE OF PAYMENTS\",\r",
              "                \"Cd\": \"100\"\r",
              "            }\r",
              "        },\r",
              "        \"RmtInf\": {\r",
              "            \"Ustrd\": \"Payment of USD 30713.75 from April to Felicia\"\r",
              "        },\r",
              "        \"SplmtryData\": {\r",
              "            \"Envlp\": {\r",
              "                \"Doc\": {\r",
              "                    \"Xprtn\": \"2021-11-30T10:38:56.000Z\"\r",
              "                }\r",
              "            }\r",
              "        }\r",
              "    }\r",
              "}\r",
              "\r",
              "\r",
              "]\r",
              "\r",
              "const pain001Transactions = [\r",
              "{\r",
              "   \"TxTp\":\"pain.001.001.11\",\r",
              "   \"CstmrCdtTrfInitn\":{\r",
              "      \"GrpHdr\":{\r",
              "         \"MsgId\":\"2nfe98292ec04bf29b5d40ba998648gh\",\r",
              "         \"CreDtTm\": new Date(new Date(now - 30000).getTime()).toISOString(),\r",
              "         \"NbOfTxs\":1,\r",
              "         \"InitgPty\":{\r",
              "            \"Nm\":\"Ivan Reese Russel-Klein\",\r",
              "            \"Id\":{\r",
              "               \"PrvtId\":{\r",
              "                  \"DtAndPlcOfBirth\":{\r",
              "                     \"BirthDt\":\"1967-11-23\",\r",
              "                     \"CityOfBirth\":\"Unknown\",\r",
              "                     \"CtryOfBirth\":\"ZZ\"\r",
              "                  },\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"CtctDtls\":{\r",
              "               \"MobNb\":\"\"\r",
              "            }\r",
              "         }\r",
              "      },\r",
              "      \"PmtInf\":{\r",
              "         \"PmtInfId\":\"2c516801007642dfb892944dde1cf845897\",\r",
              "         \"PmtMtd\":\"TRA\",\r",
              "         \"ReqdAdvcTp\":{\r",
              "            \"DbtAdvc\":{\r",
              "               \"Cd\":\"ADWD\",\r",
              "               \"Prtry\":\"Advice with transaction details\"\r",
              "            }\r",
              "         },\r",
              "         \"ReqdExctnDt\":{\r",
              "            \"Dt\":\"2021-10-07\",\r",
              "            \"DtTm\":\"2021-10-07T09:25:31.000Z\"\r",
              "         },\r",
              "         \"Dbtr\":{\r",
              "            \"Nm\":\"Ivan Reese Russel-Klein\",\r",
              "            \"Id\":{\r",
              "               \"PrvtId\":{\r",
              "                  \"DtAndPlcOfBirth\":{\r",
              "                     \"BirthDt\":\"1967-11-23\",\r",
              "                     \"CityOfBirth\":\"Unknown\",\r",
              "                     \"CtryOfBirth\":\"ZZ\"\r",
              "                  },\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"CtctDtls\":{\r",
              "               \"MobNb\":\"\"\r",
              "            }\r",
              "         },\r",
              "         \"DbtrAcct\":{\r",
              "            \"Id\":{\r",
              "               \"Othr\":{\r",
              "                  \"Id\":\"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a19e\",\r",
              "                  \"SchmeNm\":{\r",
              "                     \"Prtry\":\"PASSPORT\"\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"Nm\":\"Ivan Russel-Klein\"\r",
              "         },\r",
              "         \"DbtrAgt\":{\r",
              "            \"FinInstnId\":{\r",
              "               \"ClrSysMmbId\":{\r",
              "                  \"MmbId\":\"dfsp001\"\r",
              "               }\r",
              "            }\r",
              "         },\r",
              "         \"CdtTrfTxInf\":{\r",
              "            \"PmtId\":{\r",
              "               \"EndToEndId\":\"f0a2d6e99a000c04f304bdc09e47d44ef532fa9e7\"\r",
              "            },\r",
              "            \"PmtTpInf\":{\r",
              "               \"CtgyPurp\":{\r",
              "                  \"Prtry\":\"TRANSFER\"\r",
              "               }\r",
              "            },\r",
              "            \"Amt\":{\r",
              "               \"InstdAmt\":{\r",
              "                  \"Amt\":{\r",
              "                     \"Amt\":\"50431891779910900\",\r",
              "                     \"Ccy\":\"USD\"\r",
              "                  }\r",
              "               },\r",
              "               \"EqvtAmt\":{\r",
              "                  \"Amt\":{\r",
              "                     \"Amt\":\"50431891779910900\",\r",
              "                     \"Ccy\":\"USD\"\r",
              "                  },\r",
              "                  \"CcyOfTrf\":\"USD\"\r",
              "               }\r",
              "            },\r",
              "            \"ChrgBr\":\"DEBT\",\r",
              "            \"CdtrAgt\":{\r",
              "               \"FinInstnId\":{\r",
              "                  \"ClrSysMmbId\":{\r",
              "                     \"MmbId\":\"dfsp002\"\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"Cdtr\":{\r",
              "               \"Nm\":\"\",\r",
              "               \"Id\":{\r",
              "                  \"PrvtId\":{\r",
              "                     \"DtAndPlcOfBirth\":{\r",
              "                        \"BirthDt\":\"1923-04-26\",\r",
              "                        \"CityOfBirth\":\"\",\r",
              "                        \"CtryOfBirth\":\"\"\r",
              "                     },\r",
              "                     \"Othr\":{\r",
              "                        \"Id\":\"\",\r",
              "                        \"SchmeNm\":{\r",
              "                           \"Prtry\":\"MSISDN\"\r",
              "                        }\r",
              "                     }\r",
              "                  }\r",
              "               },\r",
              "               \"CtctDtls\":{\r",
              "                  \"MobNb\":\"\"\r",
              "               }\r",
              "            },\r",
              "            \"CdtrAcct\":{\r",
              "               \"Id\":{\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a23c\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               },\r",
              "               \"Nm\":\"April Adamson\"\r",
              "            },\r",
              "            \"Purp\":{\r",
              "               \"Cd\":\"MP2P\"\r",
              "            },\r",
              "            \"RgltryRptg\":{\r",
              "               \"Dtls\":{\r",
              "                  \"Tp\":\"BALANCE OF PAYMENTS\",\r",
              "                  \"Cd\":\"100\"\r",
              "               }\r",
              "            },\r",
              "            \"RmtInf\":{\r",
              "               \"Ustrd\":\"Payment of USD 49932566118723700.89 from Ivan to April\"\r",
              "            },\r",
              "            \"SplmtryData\":{\r",
              "               \"Envlp\":{\r",
              "                  \"Doc\":{\r",
              "                     \"Cdtr\":{\r",
              "                        \"FrstNm\":\"Ivan\",\r",
              "                        \"MddlNm\":\"Reese\",\r",
              "                        \"LastNm\":\"Russel-Klein\",\r",
              "                        \"MrchntClssfctnCd\":\"BLANK\"\r",
              "                     },\r",
              "                     \"Dbtr\":{\r",
              "                        \"FrstNm\":\"\",\r",
              "                        \"MddlNm\":\"\",\r",
              "                        \"LastNm\":\"\",\r",
              "                        \"MrchntClssfctnCd\":\"BLANK\"\r",
              "                     },\r",
              "                     \"DbtrFinSvcsPrvdrFees\":{\r",
              "                        \"Ccy\":\"USD\",\r",
              "                        \"Amt\":\"499325661187237\"\r",
              "                     },\r",
              "                     \"Xprtn\":\"2021-10-07T09:30:31.000Z\"\r",
              "                  }\r",
              "               }\r",
              "            }\r",
              "         }\r",
              "      },\r",
              "      \"SplmtryData\":{\r",
              "         \"Envlp\":{\r",
              "            \"Doc\":{\r",
              "               \"InitgPty\":{\r",
              "                  \"InitrTp\":\"CONSUMER\",\r",
              "                  \"Glctn\":{\r",
              "                     \"Lat\":\"-3.1541\",\r",
              "                     \"Long\":\"38.4238\"\r",
              "                  }\r",
              "               }\r",
              "            }\r",
              "         }\r",
              "      }\r",
              "   }\r",
              "},\r",
              "\r",
              "{\r",
              "   \"TxTp\":\"pain.001.001.11\",\r",
              "   \"CstmrCdtTrfInitn\":{ \r",
              "      \"GrpHdr\":{\r",
              "         \"MsgId\":\"5fse98292ec04bf29b5d40ba99864of5\",\r",
              "         \"CreDtTm\": new Date(new Date(now - 3300000).getTime()).toISOString(),\r",
              "         \"NbOfTxs\":1,\r",
              "         \"InitgPty\":{\r",
              "            \"Nm\":\"Ivan Reese Russel-Klein\",\r",
              "            \"Id\":{\r",
              "               \"PrvtId\":{\r",
              "                  \"DtAndPlcOfBirth\":{\r",
              "                     \"BirthDt\":\"1967-11-23\",\r",
              "                     \"CityOfBirth\":\"Unknown\",\r",
              "                     \"CtryOfBirth\":\"ZZ\"\r",
              "                  },\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"CtctDtls\":{\r",
              "               \"MobNb\":\"\"\r",
              "            }\r",
              "         }\r",
              "      },\r",
              "      \"PmtInf\":{\r",
              "         \"PmtInfId\":\"2c516801007642dfb892944dde1cf845897\",\r",
              "         \"PmtMtd\":\"TRA\",\r",
              "         \"ReqdAdvcTp\":{\r",
              "            \"DbtAdvc\":{\r",
              "               \"Cd\":\"ADWD\",\r",
              "               \"Prtry\":\"Advice with transaction details\"\r",
              "            }\r",
              "         },\r",
              "         \"ReqdExctnDt\":{\r",
              "            \"Dt\":\"2021-10-07\",\r",
              "            \"DtTm\":\"2021-10-07T09:25:31.000Z\"\r",
              "         },\r",
              "         \"Dbtr\":{\r",
              "            \"Nm\":\"Ivan Reese Russel-Klein\",\r",
              "            \"Id\":{\r",
              "               \"PrvtId\":{\r",
              "                  \"DtAndPlcOfBirth\":{\r",
              "                     \"BirthDt\":\"1967-11-23\",\r",
              "                     \"CityOfBirth\":\"Unknown\",\r",
              "                     \"CtryOfBirth\":\"ZZ\"\r",
              "                  },\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"CtctDtls\":{\r",
              "               \"MobNb\":\"\"\r",
              "            }\r",
              "         },\r",
              "         \"DbtrAcct\":{\r",
              "            \"Id\":{\r",
              "               \"Othr\":{\r",
              "                  \"Id\":\"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a19e\",\r",
              "                  \"SchmeNm\":{\r",
              "                     \"Prtry\":\"PASSPORT\"\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"Nm\":\"Ivan Russel-Klein\"\r",
              "         },\r",
              "         \"DbtrAgt\":{\r",
              "            \"FinInstnId\":{\r",
              "               \"ClrSysMmbId\":{\r",
              "                  \"MmbId\":\"dfsp001\"\r",
              "               } \r",
              "            }\r",
              "         },\r",
              "         \"CdtTrfTxInf\":{\r",
              "            \"PmtId\":{\r",
              "               \"EndToEndId\":\"f809cd40bda73f0a2d6e99a000c04f304bdc09e47\"\r",
              "            },\r",
              "            \"PmtTpInf\":{\r",
              "               \"CtgyPurp\":{\r",
              "                  \"Prtry\":\"TRANSFER\"\r",
              "               }\r",
              "            },\r",
              "            \"Amt\":{\r",
              "               \"InstdAmt\":{\r",
              "                  \"Amt\":{\r",
              "                     \"Amt\":\"50431891779910900\",\r",
              "                     \"Ccy\":\"USD\"\r",
              "                  }\r",
              "               },\r",
              "               \"EqvtAmt\":{\r",
              "                  \"Amt\":{\r",
              "                     \"Amt\":\"50431891779910900\",\r",
              "                     \"Ccy\":\"USD\"\r",
              "                  },\r",
              "                  \"CcyOfTrf\":\"USD\"\r",
              "               }\r",
              "            },\r",
              "            \"ChrgBr\":\"DEBT\",\r",
              "            \"CdtrAgt\":{\r",
              "               \"FinInstnId\":{\r",
              "                  \"ClrSysMmbId\":{\r",
              "                     \"MmbId\":\"dfsp002\"\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"Cdtr\":{\r",
              "               \"Nm\":\"\",\r",
              "               \"Id\":{\r",
              "                  \"PrvtId\":{\r",
              "                     \"DtAndPlcOfBirth\":{\r",
              "                        \"BirthDt\":\"1923-04-26\",\r",
              "                        \"CityOfBirth\":\"\",\r",
              "                        \"CtryOfBirth\":\"\"\r",
              "                     },\r",
              "                     \"Othr\":{\r",
              "                        \"Id\":\"\",\r",
              "                        \"SchmeNm\":{\r",
              "                           \"Prtry\":\"MSISDN\"\r",
              "                        }\r",
              "                     }\r",
              "                  }\r",
              "               },\r",
              "               \"CtctDtls\":{\r",
              "                  \"MobNb\":\"\"\r",
              "               }\r",
              "            },\r",
              "            \"CdtrAcct\":{\r",
              "               \"Id\":{\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a24c\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               },\r",
              "               \"Nm\":\"April Adamson\"\r",
              "            },\r",
              "            \"Purp\":{\r",
              "               \"Cd\":\"MP2P\"\r",
              "            },\r",
              "            \"RgltryRptg\":{\r",
              "               \"Dtls\":{\r",
              "                  \"Tp\":\"BALANCE OF PAYMENTS\",\r",
              "                  \"Cd\":\"100\"\r",
              "               }\r",
              "            },\r",
              "            \"RmtInf\":{\r",
              "               \"Ustrd\":\"Payment of USD 49932566118723700.89 from Ivan to April\"\r",
              "            },\r",
              "            \"SplmtryData\":{\r",
              "               \"Envlp\":{\r",
              "                  \"Doc\":{\r",
              "                     \"Cdtr\":{\r",
              "                        \"FrstNm\":\"Ivan\",\r",
              "                        \"MddlNm\":\"Reese\",\r",
              "                        \"LastNm\":\"Russel-Klein\",\r",
              "                        \"MrchntClssfctnCd\":\"BLANK\"\r",
              "                     },\r",
              "                     \"Dbtr\":{\r",
              "                        \"FrstNm\":\"\",\r",
              "                        \"MddlNm\":\"\",\r",
              "                        \"LastNm\":\"\",\r",
              "                        \"MrchntClssfctnCd\":\"BLANK\"\r",
              "                     },\r",
              "                     \"DbtrFinSvcsPrvdrFees\":{\r",
              "                        \"Ccy\":\"USD\",\r",
              "                        \"Amt\":\"499325661187237\"\r",
              "                     },\r",
              "                     \"Xprtn\":\"2021-10-07T09:30:31.000Z\"\r",
              "                  }\r",
              "               }\r",
              "            }\r",
              "         }\r",
              "      },\r",
              "      \"SplmtryData\":{\r",
              "         \"Envlp\":{\r",
              "            \"Doc\":{\r",
              "               \"InitgPty\":{\r",
              "                  \"InitrTp\":\"CONSUMER\",\r",
              "                  \"Glctn\":{\r",
              "                     \"Lat\":\"-3.1041\",\r",
              "                     \"Long\":\"38.4238\"\r",
              "                  }\r",
              "               }\r",
              "            }\r",
              "         }\r",
              "      }\r",
              "   }\r",
              "}]\r",
              "\r",
              "pm.sendRequest({\r",
              "    url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',\r",
              "    method: 'POST',\r",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "    body: {\r",
              "        mode: 'raw',\r",
              "        raw: JSON.stringify({\r",
              "            query: `FOR transaction IN ${JSON.stringify(pacs002Transactions)}\r",
              "                    INSERT {_key: transaction.FIToFIPmtSts.GrpHdr.MsgId, TxTp: transaction.TxTp, FIToFIPmtSts: transaction.FIToFIPmtSts} INTO transactionHistory\r",
              "                    OPTIONS { overwrite: true }`\r",
              "        })\r",
              "    }\r",
              "});\r",
              "\r",
              "pm.sendRequest({\r",
              "    url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',\r",
              "    method: 'POST',\r",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "    body: {\r",
              "        mode: 'raw',\r",
              "        raw: JSON.stringify({\r",
              "            query: `FOR transaction IN ${JSON.stringify(pacs008Transactions)}\r",
              "                    INSERT {_key: transaction.FIToFICstmrCdt.GrpHdr.MsgId, TxTp: transaction.TxTp, FIToFICstmrCdt: transaction.FIToFICstmrCdt} INTO transactionHistory\r",
              "                    OPTIONS { overwrite: true }`\r",
              "        })\r",
              "    }\r",
              "});\r",
              "\r",
              "pm.sendRequest({\r",
              "    url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',\r",
              "    method: 'POST',\r",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "    body: {\r",
              "        mode: 'raw',\r",
              "        raw: JSON.stringify({\r",
              "            query: `FOR transaction IN ${JSON.stringify(pain001Transactions)}\r",
              "                    INSERT {_key: transaction.CstmrCdtTrfInitn.GrpHdr.MsgId, TxTp: transaction.TxTp, CstmrCdtTrfInitn: transaction.CstmrCdtTrfInitn} INTO transactionHistory\r",
              "                    OPTIONS { overwrite: true }`\r",
              "        })\r",
              "    }\r",
              "});\r",
              "\r",
              "\r",
              "pm.sendRequest({\r",
              "    url: 'http://arango.development:8529/_db/Configuration/_api/cursor',\r",
              "    method: 'POST',\r",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "    body: {\r",
              "        mode: 'raw',\r",
              "        raw: JSON.stringify({\r",
              "            query: `FOR config IN ${JSON.stringify(ruleConfig)}\r",
              "                    INSERT {_key: \"074\", id: config.id, cfg: config.cfg, config: config.config} INTO configuration\r",
              "                    OPTIONS { overwrite: true }`\r",
              "        })\r",
              "    }\r",
              "});"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "test",
          "script": {
            "exec": [
              "// 5 - Update first two bands - Velocity < 7.5km/h TRUE (sub-rule ref .01) (Reasonable walking speed)\r",
              "\r",
              "const jsonData = pm.response.json();\r",
              "const req = JSON.parse(request.data);\r",
              "\r",
              "const transactions = [\r",
              "    \"30bea71c5ayfd5d8d57f94b2a40e9789\",\r",
              "    \"96ae98292ec04bf29b5d40ba99864v42\",\r",
              "    \"2nfe98292ec04bf29b5d40ba998648gh\",\r",
              "    \"5fse98292ec04bf29b5d40ba99864of5\"\r",
              "]\r",
              "\r",
              "pm.test(\"Status code is 200\", function () {\r",
              "    pm.response.to.have.status(200);\r",
              "});\r",
              "\r",
              "pm.test(\"should have rule result of true\", function () {\r",
              "    pm.expect(jsonData.ruleResult.result).to.be.eql(true);\r",
              "\r",
              "});\r",
              "\r",
              "pm.test(\"should have rule reason of 'Reasonable walking speed' \", function () {\r",
              "    pm.expect(jsonData.ruleResult.reason).to.be.eql(\"Reasonable walking speed\");\r",
              "});\r",
              "\r",
              "pm.test(\"should have rule subRuleRef of '.01' \", function () {\r",
              "    pm.expect(jsonData.ruleResult.subRuleRef).to.be.eql(\".01\");\r",
              "});\r",
              "\r",
              "pm.test(\"Remove Seed Data from DB\", function () {\r",
              "    pm.sendRequest({\r",
              "        url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',\r",
              "        method: 'POST',\r",
              "        header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "        body: {\r",
              "            mode: 'raw',\r",
              "            raw: JSON.stringify({\r",
              "                query: `FOR transaction IN ${JSON.stringify(transactions)}\r",
              "                        REMOVE { _key: transaction } IN transactionHistory\r",
              "                        OPTIONS { ignoreErrors: true }`\r",
              "            })\r",
              "        }\r",
              "    })\r",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"transaction\": {\r\n    \"TxTp\": \"pacs.002.001.12\",\r\n    \"FIToFIPmtSts\": {\r\n      \"GrpHdr\": {\r\n        \"MsgId\": \"30bea71c5a054978ad0da7f94b2a40e9789\",\r\n        \"CreDtTm\": \"{{now}}\"\r\n      },\r\n      \"TxInfAndSts\": {\r\n        \"OrgnlInstrId\": \"5ab4fc7355de4ef8a75b78b00a681ed2255\",\r\n        \"OrgnlEndToEndId\": \"f0a2d6e99a000c04f304bdc09e47d44ef532fa9e7\",\r\n        \"TxSts\": \"ACCC\",\r\n        \"ChrgsInf\": [\r\n          {\r\n            \"Amt\": {\r\n              \"Amt\": 307.14,\r\n              \"Ccy\": \"USD\"\r\n            },\r\n            \"Agt\": {\r\n              \"FinInstnId\": {\r\n                \"ClrSysMmbId\": {\r\n                  \"MmbId\": \"dfsp001\"\r\n                }\r\n              }\r\n            }\r\n          },\r\n          {\r\n            \"Amt\": {\r\n              \"Amt\": 153.57,\r\n              \"Ccy\": \"USD\"\r\n            },\r\n            \"Agt\": {\r\n              \"FinInstnId\": {\r\n                \"ClrSysMmbId\": {\r\n                  \"MmbId\": \"dfsp001\"\r\n                }\r\n              }\r\n            }\r\n          },\r\n          {\r\n            \"Amt\": {\r\n              \"Amt\": 30.71,\r\n              \"Ccy\": \"USD\"\r\n            },\r\n            \"Agt\": {\r\n              \"FinInstnId\": {\r\n                \"ClrSysMmbId\": {\r\n                  \"MmbId\": \"dfsp002\"\r\n                }\r\n              }\r\n            }\r\n          }\r\n        ],\r\n        \"AccptncDtTm\": \"2021-12-03T15:24:26.000Z\",\r\n        \"InstgAgt\": {\r\n          \"FinInstnId\": {\r\n            \"ClrSysMmbId\": {\r\n              \"MmbId\": \"dfsp001\"\r\n            }\r\n          }\r\n        },\r\n        \"InstdAgt\": {\r\n          \"FinInstnId\": {\r\n            \"ClrSysMmbId\": {\r\n              \"MmbId\": \"dfsp002\"\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \"networkMap\": {\r\n    \"messages\": [\r\n      {\r\n        \"id\": \"004@1.0.0\",\r\n        \"host\": \"https://gateway.openfaas:8080/function/off-transaction-aggregation-decisioning-processor-rel-1-0-0\",\r\n        \"cfg\": \"1.0.0\",\r\n        \"txTp\": \"pacs.002.001.12\",\r\n        \"channels\": [\r\n          {\r\n            \"id\": \"001@1.0.0\",\r\n            \"host\": \"https://gateway.openfaas:8080/function/off-channel-aggregation-decisioning-processor-rel-1-0-0\",\r\n            \"cfg\": \"1.0.0\",\r\n            \"typologies\": [\r\n              {\r\n                \"id\": \"028@1.0.0\",\r\n                \"host\": \"https://gateway.openfaas:8080/function/off-typology-processor-rel-1-0-0\",\r\n                \"cfg\": \"1.0.0\",\r\n                \"rules\": [\r\n                  {\r\n                    \"id\": \"074@1.0.0\",\r\n                    \"host\": \"https://gateway.openfaas:8080/function/off-rule-074-rel-1-0-0\",\r\n                    \"cfg\": \"1.0.0\"\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n}\r\n",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "http://gateway.openfaas:8080/function/off-rule-074-rel-1-0-0",
          "protocol": "http",
          "host": ["gateway", "openfaas"],
          "port": "8080",
          "path": ["function", "off-rule-074-rel-1-0-0"]
        }
      },
      "response": []
    },
    {
      "name": "Test Scenario 6",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "// 6 - No Historical Transaction in last hour - FALSE (sub-rule ref .00)\r",
              "\r",
              "const now = new Date().getTime();\r",
              "\r",
              "pm.globals.set(\"now\", new Date().toISOString());\r",
              "\r",
              "const ruleConfig = [{\r",
              "  \"id\": \"074@1.0.0\",\r",
              "  \"cfg\": \"1.0.0\",\r",
              "  \"config\": {\r",
              "    \"timeframes\": [\r",
              "      {\r",
              "        \"threshold\": \"3600000\"\r",
              "      }\r",
              "    ],\r",
              "    \"bands\": [\r",
              "      {\r",
              "        \"subRuleRef\": \".01\",\r",
              "        \"upperLimit\": 5,\r",
              "        \"outcome\": true,\r",
              "        \"reason\": \"Reasonable walking speed\"\r",
              "      },\r",
              "      {\r",
              "        \"subRuleRef\": \".02\",\r",
              "        \"lowerLimit\": 5,\r",
              "        \"upperLimit\": 15,\r",
              "        \"outcome\": true,\r",
              "        \"reason\": \"Reasonable cycling speed\"\r",
              "      },\r",
              "      {\r",
              "        \"subRuleRef\": \".03\",\r",
              "        \"lowerLimit\": 15,\r",
              "        \"upperLimit\": 50,\r",
              "        \"outcome\": true,\r",
              "        \"reason\": \"Reasonable driving speed\"\r",
              "      },\r",
              "      {\r",
              "        \"subRuleRef\": \".04\",\r",
              "        \"lowerLimit\": 50,\r",
              "        \"outcome\": true,\r",
              "        \"reason\": \"Ludicrous speed\"\r",
              "      },\r",
              "      {\r",
              "        \"subRuleRef\": \".00\",\r",
              "        \"outcome\": false,\r",
              "        \"reason\": \"Insufficient transaction history\"\r",
              "      }\r",
              "    ]\r",
              "  }\r",
              "}]\r",
              "\r",
              "const pacs002Transactions = [\r",
              "{\r",
              "    \"TxTp\": \"pacs.002.001.12\",\r",
              "    \"FIToFIPmtSts\": {\r",
              "      \"GrpHdr\": {\r",
              "        \"MsgId\": \"30bea71c5ayfd5d8d57f94b2a40e9789\",\r",
              "        \"CreDtTm\": new Date(now).toISOString()\r",
              "      },\r",
              "      \"TxInfAndSts\": {\r",
              "        \"OrgnlInstrId\": \"5ab4fc7355de4ef8a75b78b00a681ed2255\",\r",
              "        \"OrgnlEndToEndId\": \"f0a2d6e99a000c04f304bdc09e47d44ef532fa9e7\",\r",
              "        \"TxSts\": \"ACCC\",\r",
              "        \"ChrgsInf\": [\r",
              "          {\r",
              "            \"Amt\": {\r",
              "              \"Amt\": 307.14,\r",
              "              \"Ccy\": \"USD\"\r",
              "            },\r",
              "            \"Agt\": {\r",
              "              \"FinInstnId\": {\r",
              "                \"ClrSysMmbId\": {\r",
              "                  \"MmbId\": \"dfsp001\"\r",
              "                }\r",
              "              }\r",
              "            }\r",
              "          },\r",
              "          {\r",
              "            \"Amt\": {\r",
              "              \"Amt\": 153.57,\r",
              "              \"Ccy\": \"USD\"\r",
              "            },\r",
              "            \"Agt\": {\r",
              "              \"FinInstnId\": {\r",
              "                \"ClrSysMmbId\": {\r",
              "                  \"MmbId\": \"dfsp001\"\r",
              "                }\r",
              "              }\r",
              "            }\r",
              "          },\r",
              "          {\r",
              "            \"Amt\": {\r",
              "              \"Amt\": 30.71,\r",
              "              \"Ccy\": \"USD\"\r",
              "            },\r",
              "            \"Agt\": {\r",
              "              \"FinInstnId\": {\r",
              "                \"ClrSysMmbId\": {\r",
              "                  \"MmbId\": \"dfsp002\"\r",
              "                }\r",
              "              }\r",
              "            }\r",
              "          }\r",
              "        ],\r",
              "        \"AccptncDtTm\": \"2021-12-03T15:24:26.000Z\",\r",
              "        \"InstgAgt\": {\r",
              "          \"FinInstnId\": {\r",
              "            \"ClrSysMmbId\": {\r",
              "              \"MmbId\": \"dfsp001\"\r",
              "            }\r",
              "          }\r",
              "        },\r",
              "        \"InstdAgt\": {\r",
              "          \"FinInstnId\": {\r",
              "            \"ClrSysMmbId\": {\r",
              "              \"MmbId\": \"dfsp002\"\r",
              "            }\r",
              "          }\r",
              "        }\r",
              "      }\r",
              "    }\r",
              "  }]\r",
              "\r",
              "const pacs008Transactions = [\r",
              "{\r",
              "    \"TxTp\": \"pacs.008.001.10\",\r",
              "    \"FIToFICstmrCdt\": {\r",
              "        \"GrpHdr\": {\r",
              "            \"MsgId\": \"96ae98292ec04bf29b5d40ba99864v42\",\r",
              "            \"CreDtTm\": new Date(now - 10000).toISOString(),\r",
              "            \"NbOfTxs\": 1,\r",
              "            \"SttlmInf\": {\r",
              "                \"SttlmMtd\": \"CLRG\"\r",
              "            }\r",
              "        },\r",
              "        \"CdtTrfTxInf\": {\r",
              "            \"PmtId\": {\r",
              "                \"InstrId\": \"5ab4fc7355de4ef8a75b78b00a681ed2\",\r",
              "                \"EndToEndId\": \"f0a2d6e99a000c04f304bdc09e47d44ef532fa9e7\"\r",
              "            },\r",
              "            \"IntrBkSttlmAmt\": {\r",
              "                \"Amt\": {\r",
              "                    \"Amt\": 31020.89,\r",
              "                    \"Ccy\": \"USD\"\r",
              "                }\r",
              "            },\r",
              "            \"InstdAmt\": {\r",
              "                \"Amt\": {\r",
              "                    \"Amt\": 31020.89,\r",
              "                    \"Ccy\": \"USD\"\r",
              "                }\r",
              "            },\r",
              "            \"ChrgBr\": \"DEBT\",\r",
              "            \"ChrgsInf\": {\r",
              "                \"Amt\": {\r",
              "                    \"Amt\": 307.14,\r",
              "                    \"Ccy\": \"USD\"\r",
              "                },\r",
              "                \"Agt\": {\r",
              "                    \"FinInstnId\": {\r",
              "                        \"ClrSysMmbId\": {\r",
              "                            \"MmbId\": \"dfsp001\"\r",
              "                        }\r",
              "                    }\r",
              "                }\r",
              "            },\r",
              "            \"InitgPty\": {\r",
              "                \"Nm\": \"April Blake Grant\",\r",
              "                \"Id\": {\r",
              "                    \"PrvtId\": {\r",
              "                        \"DtAndPlcOfBirth\": {\r",
              "                            \"BirthDt\": \"1968-02-01\",\r",
              "                            \"CityOfBirth\": \"Unknown\",\r",
              "                            \"CtryOfBirth\": \"ZZ\"\r",
              "                        },\r",
              "                        \"Othr\": {\r",
              "                            \"Id\": \"+27730975224\",\r",
              "                            \"SchmeNm\": {\r",
              "                                \"Prtry\": \"MSISDN\"\r",
              "                            }\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"CtctDtls\": {\r",
              "                    \"MobNb\": \"+27-730975224\"\r",
              "                }\r",
              "            },\r",
              "            \"Dbtr\": {\r",
              "                \"Nm\": \"April Blake Grant\",\r",
              "                \"Id\": {\r",
              "                    \"PrvtId\": {\r",
              "                        \"DtAndPlcOfBirth\": {\r",
              "                            \"BirthDt\": \"1968-02-01\",\r",
              "                            \"CityOfBirth\": \"Unknown\",\r",
              "                            \"CtryOfBirth\": \"ZZ\"\r",
              "                        },\r",
              "                        \"Othr\": {\r",
              "                            \"Id\": \"+27730975224\",\r",
              "                            \"SchmeNm\": {\r",
              "                                \"Prtry\": \"MSISDN\"\r",
              "                            }\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"CtctDtls\": {\r",
              "                    \"MobNb\": \"+27-730975224\"\r",
              "                }\r",
              "            },\r",
              "            \"DbtrAcct\": {\r",
              "                \"Id\": {\r",
              "                    \"Othr\": {\r",
              "                        \"Id\": \"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a19e\",\r",
              "                        \"SchmeNm\": {\r",
              "                            \"Prtry\": \"PSEUDO\"\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"Nm\": \"April Grant\"\r",
              "            },\r",
              "            \"DbtrAgt\": {\r",
              "                \"FinInstnId\": {\r",
              "                    \"ClrSysMmbId\": {\r",
              "                        \"MmbId\": \"dfsp001\"\r",
              "                    }\r",
              "                }\r",
              "            },\r",
              "            \"CdtrAgt\": {\r",
              "                \"FinInstnId\": {\r",
              "                    \"ClrSysMmbId\": {\r",
              "                        \"MmbId\": \"dfsp002\"\r",
              "                    }\r",
              "                }\r",
              "            },\r",
              "            \"Cdtr\": {\r",
              "                \"Nm\": \"Felicia Easton Quill\",\r",
              "                \"Id\": {\r",
              "                    \"PrvtId\": {\r",
              "                        \"DtAndPlcOfBirth\": {\r",
              "                            \"BirthDt\": \"1935-05-08\",\r",
              "                            \"CityOfBirth\": \"Unknown\",\r",
              "                            \"CtryOfBirth\": \"ZZ\"\r",
              "                        },\r",
              "                        \"Othr\": {\r",
              "                            \"Id\": \"+27707650428\",\r",
              "                            \"SchmeNm\": {\r",
              "                                \"Prtry\": \"MSISDN\"\r",
              "                            }\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"CtctDtls\": {\r",
              "                    \"MobNb\": \"+27-707650428\"\r",
              "                }\r",
              "            },\r",
              "            \"CdtrAcct\": {\r",
              "                \"Id\": {\r",
              "                    \"Othr\": {\r",
              "                        \"Id\": \"efdafefdee55c7a1e5eba4ccc0f01639dc37a020241b20495378f5a1343985b4\",\r",
              "                        \"SchmeNm\": {\r",
              "                            \"Prtry\": \"PSEUDO\"\r",
              "                        }\r",
              "                    }\r",
              "                },\r",
              "                \"Nm\": \"Felicia Quill\"\r",
              "            },\r",
              "            \"Purp\": {\r",
              "                \"Cd\": \"MP2P\"\r",
              "            }\r",
              "        },\r",
              "        \"RgltryRptg\": {\r",
              "            \"Dtls\": {\r",
              "                \"Tp\": \"BALANCE OF PAYMENTS\",\r",
              "                \"Cd\": \"100\"\r",
              "            }\r",
              "        },\r",
              "        \"RmtInf\": {\r",
              "            \"Ustrd\": \"Payment of USD 30713.75 from April to Felicia\"\r",
              "        },\r",
              "        \"SplmtryData\": {\r",
              "            \"Envlp\": {\r",
              "                \"Doc\": {\r",
              "                    \"Xprtn\": \"2021-11-30T10:38:56.000Z\"\r",
              "                }\r",
              "            }\r",
              "        }\r",
              "    }\r",
              "}\r",
              "\r",
              "\r",
              "]\r",
              "\r",
              "const pain001Transactions = [\r",
              "{\r",
              "   \"TxTp\":\"pain.001.001.11\",\r",
              "   \"CstmrCdtTrfInitn\":{\r",
              "      \"GrpHdr\":{\r",
              "         \"MsgId\":\"2nfe98292ec04bf29b5d40ba998648gh\",\r",
              "         \"CreDtTm\": new Date(new Date(now - 30000).getTime()).toISOString(),\r",
              "         \"NbOfTxs\":1,\r",
              "         \"InitgPty\":{\r",
              "            \"Nm\":\"Ivan Reese Russel-Klein\",\r",
              "            \"Id\":{\r",
              "               \"PrvtId\":{\r",
              "                  \"DtAndPlcOfBirth\":{\r",
              "                     \"BirthDt\":\"1967-11-23\",\r",
              "                     \"CityOfBirth\":\"Unknown\",\r",
              "                     \"CtryOfBirth\":\"ZZ\"\r",
              "                  },\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"CtctDtls\":{\r",
              "               \"MobNb\":\"\"\r",
              "            }\r",
              "         }\r",
              "      },\r",
              "      \"PmtInf\":{\r",
              "         \"PmtInfId\":\"2c516801007642dfb892944dde1cf845897\",\r",
              "         \"PmtMtd\":\"TRA\",\r",
              "         \"ReqdAdvcTp\":{\r",
              "            \"DbtAdvc\":{\r",
              "               \"Cd\":\"ADWD\",\r",
              "               \"Prtry\":\"Advice with transaction details\"\r",
              "            }\r",
              "         },\r",
              "         \"ReqdExctnDt\":{\r",
              "            \"Dt\":\"2021-10-07\",\r",
              "            \"DtTm\":\"2021-10-07T09:25:31.000Z\"\r",
              "         },\r",
              "         \"Dbtr\":{\r",
              "            \"Nm\":\"Ivan Reese Russel-Klein\",\r",
              "            \"Id\":{\r",
              "               \"PrvtId\":{\r",
              "                  \"DtAndPlcOfBirth\":{\r",
              "                     \"BirthDt\":\"1967-11-23\",\r",
              "                     \"CityOfBirth\":\"Unknown\",\r",
              "                     \"CtryOfBirth\":\"ZZ\"\r",
              "                  },\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"CtctDtls\":{\r",
              "               \"MobNb\":\"\"\r",
              "            }\r",
              "         },\r",
              "         \"DbtrAcct\":{\r",
              "            \"Id\":{\r",
              "               \"Othr\":{\r",
              "                  \"Id\":\"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a19e\",\r",
              "                  \"SchmeNm\":{\r",
              "                     \"Prtry\":\"PASSPORT\"\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"Nm\":\"Ivan Russel-Klein\"\r",
              "         },\r",
              "         \"DbtrAgt\":{\r",
              "            \"FinInstnId\":{\r",
              "               \"ClrSysMmbId\":{\r",
              "                  \"MmbId\":\"dfsp001\"\r",
              "               }\r",
              "            }\r",
              "         },\r",
              "         \"CdtTrfTxInf\":{\r",
              "            \"PmtId\":{\r",
              "               \"EndToEndId\":\"f0a2d6e99a000c04f304bdc09e47d44ef532fa9e7\"\r",
              "            },\r",
              "            \"PmtTpInf\":{\r",
              "               \"CtgyPurp\":{\r",
              "                  \"Prtry\":\"TRANSFER\"\r",
              "               }\r",
              "            },\r",
              "            \"Amt\":{\r",
              "               \"InstdAmt\":{\r",
              "                  \"Amt\":{\r",
              "                     \"Amt\":\"50431891779910900\",\r",
              "                     \"Ccy\":\"USD\"\r",
              "                  }\r",
              "               },\r",
              "               \"EqvtAmt\":{\r",
              "                  \"Amt\":{\r",
              "                     \"Amt\":\"50431891779910900\",\r",
              "                     \"Ccy\":\"USD\"\r",
              "                  },\r",
              "                  \"CcyOfTrf\":\"USD\"\r",
              "               }\r",
              "            },\r",
              "            \"ChrgBr\":\"DEBT\",\r",
              "            \"CdtrAgt\":{\r",
              "               \"FinInstnId\":{\r",
              "                  \"ClrSysMmbId\":{\r",
              "                     \"MmbId\":\"dfsp002\"\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"Cdtr\":{\r",
              "               \"Nm\":\"\",\r",
              "               \"Id\":{\r",
              "                  \"PrvtId\":{\r",
              "                     \"DtAndPlcOfBirth\":{\r",
              "                        \"BirthDt\":\"1923-04-26\",\r",
              "                        \"CityOfBirth\":\"\",\r",
              "                        \"CtryOfBirth\":\"\"\r",
              "                     },\r",
              "                     \"Othr\":{\r",
              "                        \"Id\":\"\",\r",
              "                        \"SchmeNm\":{\r",
              "                           \"Prtry\":\"MSISDN\"\r",
              "                        }\r",
              "                     }\r",
              "                  }\r",
              "               },\r",
              "               \"CtctDtls\":{\r",
              "                  \"MobNb\":\"\"\r",
              "               }\r",
              "            },\r",
              "            \"CdtrAcct\":{\r",
              "               \"Id\":{\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a23c\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               },\r",
              "               \"Nm\":\"April Adamson\"\r",
              "            },\r",
              "            \"Purp\":{\r",
              "               \"Cd\":\"MP2P\"\r",
              "            },\r",
              "            \"RgltryRptg\":{\r",
              "               \"Dtls\":{\r",
              "                  \"Tp\":\"BALANCE OF PAYMENTS\",\r",
              "                  \"Cd\":\"100\"\r",
              "               }\r",
              "            },\r",
              "            \"RmtInf\":{\r",
              "               \"Ustrd\":\"Payment of USD 49932566118723700.89 from Ivan to April\"\r",
              "            },\r",
              "            \"SplmtryData\":{\r",
              "               \"Envlp\":{\r",
              "                  \"Doc\":{\r",
              "                     \"Cdtr\":{\r",
              "                        \"FrstNm\":\"Ivan\",\r",
              "                        \"MddlNm\":\"Reese\",\r",
              "                        \"LastNm\":\"Russel-Klein\",\r",
              "                        \"MrchntClssfctnCd\":\"BLANK\"\r",
              "                     },\r",
              "                     \"Dbtr\":{\r",
              "                        \"FrstNm\":\"\",\r",
              "                        \"MddlNm\":\"\",\r",
              "                        \"LastNm\":\"\",\r",
              "                        \"MrchntClssfctnCd\":\"BLANK\"\r",
              "                     },\r",
              "                     \"DbtrFinSvcsPrvdrFees\":{\r",
              "                        \"Ccy\":\"USD\",\r",
              "                        \"Amt\":\"499325661187237\"\r",
              "                     },\r",
              "                     \"Xprtn\":\"2021-10-07T09:30:31.000Z\"\r",
              "                  }\r",
              "               }\r",
              "            }\r",
              "         }\r",
              "      },\r",
              "      \"SplmtryData\":{\r",
              "         \"Envlp\":{\r",
              "            \"Doc\":{\r",
              "               \"InitgPty\":{\r",
              "                  \"InitrTp\":\"CONSUMER\",\r",
              "                  \"Glctn\":{\r",
              "                     \"Lat\":\"-3.4541\",\r",
              "                     \"Long\":\"38.4238\"\r",
              "                  }\r",
              "               }\r",
              "            }\r",
              "         }\r",
              "      }\r",
              "   }\r",
              "},\r",
              "\r",
              "{\r",
              "   \"TxTp\":\"pain.001.001.11\",\r",
              "   \"CstmrCdtTrfInitn\":{ \r",
              "      \"GrpHdr\":{\r",
              "         \"MsgId\":\"5fse98292ec04bf29b5d40ba99864of5\",\r",
              "         \"CreDtTm\": new Date(new Date(now - 3900000).getTime()).toISOString(),\r",
              "         \"NbOfTxs\":1,\r",
              "         \"InitgPty\":{\r",
              "            \"Nm\":\"Ivan Reese Russel-Klein\",\r",
              "            \"Id\":{\r",
              "               \"PrvtId\":{\r",
              "                  \"DtAndPlcOfBirth\":{\r",
              "                     \"BirthDt\":\"1967-11-23\",\r",
              "                     \"CityOfBirth\":\"Unknown\",\r",
              "                     \"CtryOfBirth\":\"ZZ\"\r",
              "                  },\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"CtctDtls\":{\r",
              "               \"MobNb\":\"\"\r",
              "            }\r",
              "         }\r",
              "      },\r",
              "      \"PmtInf\":{\r",
              "         \"PmtInfId\":\"2c516801007642dfb892944dde1cf845897\",\r",
              "         \"PmtMtd\":\"TRA\",\r",
              "         \"ReqdAdvcTp\":{\r",
              "            \"DbtAdvc\":{\r",
              "               \"Cd\":\"ADWD\",\r",
              "               \"Prtry\":\"Advice with transaction details\"\r",
              "            }\r",
              "         },\r",
              "         \"ReqdExctnDt\":{\r",
              "            \"Dt\":\"2021-10-07\",\r",
              "            \"DtTm\":\"2021-10-07T09:25:31.000Z\"\r",
              "         },\r",
              "         \"Dbtr\":{\r",
              "            \"Nm\":\"Ivan Reese Russel-Klein\",\r",
              "            \"Id\":{\r",
              "               \"PrvtId\":{\r",
              "                  \"DtAndPlcOfBirth\":{\r",
              "                     \"BirthDt\":\"1967-11-23\",\r",
              "                     \"CityOfBirth\":\"Unknown\",\r",
              "                     \"CtryOfBirth\":\"ZZ\"\r",
              "                  },\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"CtctDtls\":{\r",
              "               \"MobNb\":\"\"\r",
              "            }\r",
              "         },\r",
              "         \"DbtrAcct\":{\r",
              "            \"Id\":{\r",
              "               \"Othr\":{\r",
              "                  \"Id\":\"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a19e\",\r",
              "                  \"SchmeNm\":{\r",
              "                     \"Prtry\":\"PASSPORT\"\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"Nm\":\"Ivan Russel-Klein\"\r",
              "         },\r",
              "         \"DbtrAgt\":{\r",
              "            \"FinInstnId\":{\r",
              "               \"ClrSysMmbId\":{\r",
              "                  \"MmbId\":\"dfsp001\"\r",
              "               } \r",
              "            }\r",
              "         },\r",
              "         \"CdtTrfTxInf\":{\r",
              "            \"PmtId\":{\r",
              "               \"EndToEndId\":\"f809cd40bda73f0a2d6e99a000c04f304bdc09e47\"\r",
              "            },\r",
              "            \"PmtTpInf\":{\r",
              "               \"CtgyPurp\":{\r",
              "                  \"Prtry\":\"TRANSFER\"\r",
              "               }\r",
              "            },\r",
              "            \"Amt\":{\r",
              "               \"InstdAmt\":{\r",
              "                  \"Amt\":{\r",
              "                     \"Amt\":\"50431891779910900\",\r",
              "                     \"Ccy\":\"USD\"\r",
              "                  }\r",
              "               },\r",
              "               \"EqvtAmt\":{\r",
              "                  \"Amt\":{\r",
              "                     \"Amt\":\"50431891779910900\",\r",
              "                     \"Ccy\":\"USD\"\r",
              "                  },\r",
              "                  \"CcyOfTrf\":\"USD\"\r",
              "               }\r",
              "            },\r",
              "            \"ChrgBr\":\"DEBT\",\r",
              "            \"CdtrAgt\":{\r",
              "               \"FinInstnId\":{\r",
              "                  \"ClrSysMmbId\":{\r",
              "                     \"MmbId\":\"dfsp002\"\r",
              "                  }\r",
              "               }\r",
              "            },\r",
              "            \"Cdtr\":{\r",
              "               \"Nm\":\"\",\r",
              "               \"Id\":{\r",
              "                  \"PrvtId\":{\r",
              "                     \"DtAndPlcOfBirth\":{\r",
              "                        \"BirthDt\":\"1923-04-26\",\r",
              "                        \"CityOfBirth\":\"\",\r",
              "                        \"CtryOfBirth\":\"\"\r",
              "                     },\r",
              "                     \"Othr\":{\r",
              "                        \"Id\":\"\",\r",
              "                        \"SchmeNm\":{\r",
              "                           \"Prtry\":\"MSISDN\"\r",
              "                        }\r",
              "                     }\r",
              "                  }\r",
              "               },\r",
              "               \"CtctDtls\":{\r",
              "                  \"MobNb\":\"\"\r",
              "               }\r",
              "            },\r",
              "            \"CdtrAcct\":{\r",
              "               \"Id\":{\r",
              "                  \"Othr\":{\r",
              "                     \"Id\":\"03aeae97e5e2263c8c22bc0dec615b13ee6c90b6cf2dc0ffee72bcce9c66a24c\",\r",
              "                     \"SchmeNm\":{\r",
              "                        \"Prtry\":\"MSISDN\"\r",
              "                     }\r",
              "                  }\r",
              "               },\r",
              "               \"Nm\":\"April Adamson\"\r",
              "            },\r",
              "            \"Purp\":{\r",
              "               \"Cd\":\"MP2P\"\r",
              "            },\r",
              "            \"RgltryRptg\":{\r",
              "               \"Dtls\":{\r",
              "                  \"Tp\":\"BALANCE OF PAYMENTS\",\r",
              "                  \"Cd\":\"100\"\r",
              "               }\r",
              "            },\r",
              "            \"RmtInf\":{\r",
              "               \"Ustrd\":\"Payment of USD 49932566118723700.89 from Ivan to April\"\r",
              "            },\r",
              "            \"SplmtryData\":{\r",
              "               \"Envlp\":{\r",
              "                  \"Doc\":{\r",
              "                     \"Cdtr\":{\r",
              "                        \"FrstNm\":\"Ivan\",\r",
              "                        \"MddlNm\":\"Reese\",\r",
              "                        \"LastNm\":\"Russel-Klein\",\r",
              "                        \"MrchntClssfctnCd\":\"BLANK\"\r",
              "                     },\r",
              "                     \"Dbtr\":{\r",
              "                        \"FrstNm\":\"\",\r",
              "                        \"MddlNm\":\"\",\r",
              "                        \"LastNm\":\"\",\r",
              "                        \"MrchntClssfctnCd\":\"BLANK\"\r",
              "                     },\r",
              "                     \"DbtrFinSvcsPrvdrFees\":{\r",
              "                        \"Ccy\":\"USD\",\r",
              "                        \"Amt\":\"499325661187237\"\r",
              "                     },\r",
              "                     \"Xprtn\":\"2021-10-07T09:30:31.000Z\"\r",
              "                  }\r",
              "               }\r",
              "            }\r",
              "         }\r",
              "      },\r",
              "      \"SplmtryData\":{\r",
              "         \"Envlp\":{\r",
              "            \"Doc\":{\r",
              "               \"InitgPty\":{\r",
              "                  \"InitrTp\":\"CONSUMER\",\r",
              "                  \"Glctn\":{\r",
              "                     \"Lat\":\"-3.1041\",\r",
              "                     \"Long\":\"38.4238\"\r",
              "                  }\r",
              "               }\r",
              "            }\r",
              "         }\r",
              "      }\r",
              "   }\r",
              "}]\r",
              "\r",
              "pm.sendRequest({\r",
              "    url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',\r",
              "    method: 'POST',\r",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "    body: {\r",
              "        mode: 'raw',\r",
              "        raw: JSON.stringify({\r",
              "            query: `FOR transaction IN ${JSON.stringify(pacs002Transactions)}\r",
              "                    INSERT {_key: transaction.FIToFIPmtSts.GrpHdr.MsgId, TxTp: transaction.TxTp, FIToFIPmtSts: transaction.FIToFIPmtSts} INTO transactionHistory\r",
              "                    OPTIONS { overwrite: true }`\r",
              "        })\r",
              "    }\r",
              "});\r",
              "\r",
              "pm.sendRequest({\r",
              "    url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',\r",
              "    method: 'POST',\r",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "    body: {\r",
              "        mode: 'raw',\r",
              "        raw: JSON.stringify({\r",
              "            query: `FOR transaction IN ${JSON.stringify(pacs008Transactions)}\r",
              "                    INSERT {_key: transaction.FIToFICstmrCdt.GrpHdr.MsgId, TxTp: transaction.TxTp, FIToFICstmrCdt: transaction.FIToFICstmrCdt} INTO transactionHistory\r",
              "                    OPTIONS { overwrite: true }`\r",
              "        })\r",
              "    }\r",
              "});\r",
              "\r",
              "pm.sendRequest({\r",
              "    url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',\r",
              "    method: 'POST',\r",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "    body: {\r",
              "        mode: 'raw',\r",
              "        raw: JSON.stringify({\r",
              "            query: `FOR transaction IN ${JSON.stringify(pain001Transactions)}\r",
              "                    INSERT {_key: transaction.CstmrCdtTrfInitn.GrpHdr.MsgId, TxTp: transaction.TxTp, CstmrCdtTrfInitn: transaction.CstmrCdtTrfInitn} INTO transactionHistory\r",
              "                    OPTIONS { overwrite: true }`\r",
              "        })\r",
              "    }\r",
              "});\r",
              "\r",
              "\r",
              "pm.sendRequest({\r",
              "    url: 'http://arango.development:8529/_db/Configuration/_api/cursor',\r",
              "    method: 'POST',\r",
              "    header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "    body: {\r",
              "        mode: 'raw',\r",
              "        raw: JSON.stringify({\r",
              "            query: `FOR config IN ${JSON.stringify(ruleConfig)}\r",
              "                    INSERT {_key: \"074\", id: config.id, cfg: config.cfg, config: config.config} INTO configuration\r",
              "                    OPTIONS { overwrite: true }`\r",
              "        })\r",
              "    }\r",
              "});"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "test",
          "script": {
            "exec": [
              "// 6 - No Historical Transaction in last hour - FALSE (sub-rule ref .00)\r",
              "\r",
              "const jsonData = pm.response.json();\r",
              "const req = JSON.parse(request.data);\r",
              "\r",
              "const transactions = [\r",
              "    \"30bea71c5ayfd5d8d57f94b2a40e9789\",\r",
              "    \"96ae98292ec04bf29b5d40ba99864v42\",\r",
              "    \"2nfe98292ec04bf29b5d40ba998648gh\",\r",
              "    \"5fse98292ec04bf29b5d40ba99864of5\"\r",
              "]\r",
              "\r",
              "pm.test(\"Status code is 200\", function () {\r",
              "    pm.response.to.have.status(200);\r",
              "});\r",
              "\r",
              "pm.test(\"should have rule result of false\", function () {\r",
              "    pm.expect(jsonData.ruleResult.result).to.be.eql(false);\r",
              "\r",
              "});\r",
              "\r",
              "pm.test(\"should have rule reason of 'Insufficient transaction history' \", function () {\r",
              "    pm.expect(jsonData.ruleResult.reason).to.be.eql(\"Insufficient transaction history\");\r",
              "});\r",
              "\r",
              "pm.test(\"should have rule subRuleRef of '.00' \", function () {\r",
              "    pm.expect(jsonData.ruleResult.subRuleRef).to.be.eql(\".00\");\r",
              "});\r",
              "\r",
              "pm.test(\"Remove Seed Data from DB\", function () {\r",
              "    pm.sendRequest({\r",
              "        url: 'http://arango.development:8529/_db/transactionHistory/_api/cursor',\r",
              "        method: 'POST',\r",
              "        header: { 'Authorization': `Bearer ${pm.globals.get(\"arangoToken\")}` },\r",
              "        body: {\r",
              "            mode: 'raw',\r",
              "            raw: JSON.stringify({\r",
              "                query: `FOR transaction IN ${JSON.stringify(transactions)}\r",
              "                \"TxTp.FIToFICstmrCdt.GrpHdr\": {\r",
              "            \"MsgId\r",
              "                        REMOVE { _key: transaction } IN transactionHistory\r",
              "                        OPTIONS { ignoreErrors: true }`\r",
              "            })\r",
              "        }\r",
              "    })\r",
              "});\r",
              "\r",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"transaction\": {\r\n    \"TxTp\": \"pacs.002.001.12\",\r\n    \"FIToFIPmtSts\": {\r\n      \"GrpHdr\": {\r\n        \"MsgId\": \"30bea71c5a054978ad0da7f94b2a40e9789\",\r\n        \"CreDtTm\": \"{{now}}\"\r\n      },\r\n      \"TxInfAndSts\": {\r\n        \"OrgnlInstrId\": \"5ab4fc7355de4ef8a75b78b00a681ed2255\",\r\n        \"OrgnlEndToEndId\": \"f0a2d6e99a000c04f304bdc09e47d44ef532fa9e7\",\r\n        \"TxSts\": \"ACCC\",\r\n        \"ChrgsInf\": [\r\n          {\r\n            \"Amt\": {\r\n              \"Amt\": 307.14,\r\n              \"Ccy\": \"USD\"\r\n            },\r\n            \"Agt\": {\r\n              \"FinInstnId\": {\r\n                \"ClrSysMmbId\": {\r\n                  \"MmbId\": \"dfsp001\"\r\n                }\r\n              }\r\n            }\r\n          },\r\n          {\r\n            \"Amt\": {\r\n              \"Amt\": 153.57,\r\n              \"Ccy\": \"USD\"\r\n            },\r\n            \"Agt\": {\r\n              \"FinInstnId\": {\r\n                \"ClrSysMmbId\": {\r\n                  \"MmbId\": \"dfsp001\"\r\n                }\r\n              }\r\n            }\r\n          },\r\n          {\r\n            \"Amt\": {\r\n              \"Amt\": 30.71,\r\n              \"Ccy\": \"USD\"\r\n            },\r\n            \"Agt\": {\r\n              \"FinInstnId\": {\r\n                \"ClrSysMmbId\": {\r\n                  \"MmbId\": \"dfsp002\"\r\n                }\r\n              }\r\n            }\r\n          }\r\n        ],\r\n        \"AccptncDtTm\": \"2021-12-03T15:24:26.000Z\",\r\n        \"InstgAgt\": {\r\n          \"FinInstnId\": {\r\n            \"ClrSysMmbId\": {\r\n              \"MmbId\": \"dfsp001\"\r\n            }\r\n          }\r\n        },\r\n        \"InstdAgt\": {\r\n          \"FinInstnId\": {\r\n            \"ClrSysMmbId\": {\r\n              \"MmbId\": \"dfsp002\"\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \"networkMap\": {\r\n    \"messages\": [\r\n      {\r\n        \"id\": \"004@1.0.0\",\r\n        \"host\": \"https://gateway.openfaas:8080/function/off-transaction-aggregation-decisioning-processor-rel-1-0-0\",\r\n        \"cfg\": \"1.0.0\",\r\n        \"txTp\": \"pacs.002.001.12\",\r\n        \"channels\": [\r\n          {\r\n            \"id\": \"001@1.0.0\",\r\n            \"host\": \"https://gateway.openfaas:8080/function/off-channel-aggregation-decisioning-processor-rel-1-0-0\",\r\n            \"cfg\": \"1.0.0\",\r\n            \"typologies\": [\r\n              {\r\n                \"id\": \"028@1.0.0\",\r\n                \"host\": \"https://gateway.openfaas:8080/function/off-typology-processor-rel-1-0-0\",\r\n                \"cfg\": \"1.0.0\",\r\n                \"rules\": [\r\n                  {\r\n                    \"id\": \"074@1.0.0\",\r\n                    \"host\": \"https://gateway.openfaas:8080/function/off-rule-074-rel-1-0-0\",\r\n                    \"cfg\": \"1.0.0\"\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n}\r\n",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "http://gateway.openfaas:8080/function/off-rule-074-rel-1-0-0",
          "protocol": "http",
          "host": ["gateway", "openfaas"],
          "port": "8080",
          "path": ["function", "off-rule-074-rel-1-0-0"]
        }
      },
      "response": []
    }
  ]
}
